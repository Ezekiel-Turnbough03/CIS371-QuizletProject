const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/FlashcardsScreen-RFjIyO8T.js","assets/FlashcardsScreen-DYXC6plH.css","assets/MatchingScreen-BUwmV32i.js","assets/MatchingScreen-eR7leQbm.css","assets/TestScreen-RI2694GH.js","assets/TestScreen-DsGmeWUD.css","assets/GroupTestScreen-CYWGvKDh.js","assets/GroupTestScreen-BcO_BslV.css"])))=>i.map(i=>d[i]);
(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();function e(e){let t=Object.create(null);for(let n of e.split(`,`))t[n]=1;return e=>e in t}var t={},n=[],r=()=>{},i=()=>!1,a=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),o=e=>e.startsWith(`onUpdate:`),s=Object.assign,c=(e,t)=>{let n=e.indexOf(t);n>-1&&e.splice(n,1)},l=Object.prototype.hasOwnProperty,u=(e,t)=>l.call(e,t),d=Array.isArray,f=e=>x(e)===`[object Map]`,p=e=>x(e)===`[object Set]`,m=e=>x(e)===`[object Date]`,h=e=>typeof e==`function`,g=e=>typeof e==`string`,_=e=>typeof e==`symbol`,v=e=>typeof e==`object`&&!!e,y=e=>(v(e)||h(e))&&h(e.then)&&h(e.catch),b=Object.prototype.toString,x=e=>b.call(e),S=e=>x(e).slice(8,-1),C=e=>x(e)===`[object Object]`,ee=e=>g(e)&&e!==`NaN`&&e[0]!==`-`&&``+parseInt(e,10)===e,te=e(`,key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted`),ne=e=>{let t=Object.create(null);return(n=>t[n]||(t[n]=e(n)))},w=/-\w/g,T=ne(e=>e.replace(w,e=>e.slice(1).toUpperCase())),re=/\B([A-Z])/g,E=ne(e=>e.replace(re,`-$1`).toLowerCase()),ie=ne(e=>e.charAt(0).toUpperCase()+e.slice(1)),ae=ne(e=>e?`on${ie(e)}`:``),oe=(e,t)=>!Object.is(e,t),se=(e,...t)=>{for(let n=0;n<e.length;n++)e[n](...t)},D=(e,t,n,r=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:r,value:n})},ce=e=>{let t=parseFloat(e);return isNaN(t)?e:t},le,ue=()=>le||=typeof globalThis<`u`?globalThis:typeof self<`u`?self:typeof window<`u`?window:typeof global<`u`?global:{};function de(e){if(d(e)){let t={};for(let n=0;n<e.length;n++){let r=e[n],i=g(r)?he(r):de(r);if(i)for(let e in i)t[e]=i[e]}return t}else if(g(e)||v(e))return e}var fe=/;(?![^(]*\))/g,pe=/:([^]+)/,me=/\/\*[^]*?\*\//g;function he(e){let t={};return e.replace(me,``).split(fe).forEach(e=>{if(e){let n=e.split(pe);n.length>1&&(t[n[0].trim()]=n[1].trim())}}),t}function ge(e){let t=``;if(g(e))t=e;else if(d(e))for(let n=0;n<e.length;n++){let r=ge(e[n]);r&&(t+=r+` `)}else if(v(e))for(let n in e)e[n]&&(t+=n+` `);return t.trim()}var _e=`itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly`,ve=e(_e);_e+``;function ye(e){return!!e||e===``}function be(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=xe(e[r],t[r]);return n}function xe(e,t){if(e===t)return!0;let n=m(e),r=m(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=_(e),r=_(t),n||r)return e===t;if(n=d(e),r=d(t),n||r)return n&&r?be(e,t):!1;if(n=v(e),r=v(t),n||r){if(!n||!r||Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e){let r=e.hasOwnProperty(n),i=t.hasOwnProperty(n);if(r&&!i||!r&&i||!xe(e[n],t[n]))return!1}}return String(e)===String(t)}function Se(e,t){return e.findIndex(e=>xe(e,t))}var Ce=e=>!!(e&&e.__v_isRef===!0),we=e=>g(e)?e:e==null?``:d(e)||v(e)&&(e.toString===b||!h(e.toString))?Ce(e)?we(e.value):JSON.stringify(e,Te,2):String(e),Te=(e,t)=>Ce(t)?Te(e,t.value):f(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((e,[t,n],r)=>(e[Ee(t,r)+` =>`]=n,e),{})}:p(t)?{[`Set(${t.size})`]:[...t.values()].map(e=>Ee(e))}:_(t)?Ee(t):v(t)&&!d(t)&&!C(t)?String(t):t,Ee=(e,t=``)=>_(e)?`Symbol(${e.description??t})`:e,De,Oe=class{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=De,!e&&De&&(this.index=(De.scopes||=[]).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){let t=De;try{return De=this,e()}finally{De=t}}}on(){++this._on===1&&(this.prevScope=De,De=this)}off(){this._on>0&&--this._on===0&&(De=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(this.effects.length=0,t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){let e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0}}};function ke(e){return new Oe(e)}function Ae(){return De}function je(e,t=!1){De&&De.cleanups.push(e)}var O,Me=new WeakSet,Ne=class{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,De&&De.active&&De.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Me.has(this)&&(Me.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Le(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Xe(this),Be(this);let e=O,t=Ke;O=this,Ke=!0;try{return this.fn()}finally{Ve(this),O=e,Ke=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)We(e);this.deps=this.depsTail=void 0,Xe(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Me.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){He(this)&&this.run()}get dirty(){return He(this)}},Pe=0,Fe,Ie;function Le(e,t=!1){if(e.flags|=8,t){e.next=Ie,Ie=e;return}e.next=Fe,Fe=e}function Re(){Pe++}function ze(){if(--Pe>0)return;if(Ie){let e=Ie;for(Ie=void 0;e;){let t=e.next;e.next=void 0,e.flags&=-9,e=t}}let e;for(;Fe;){let t=Fe;for(Fe=void 0;t;){let n=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(t){e||=t}t=n}}if(e)throw e}function Be(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Ve(e){let t,n=e.depsTail,r=n;for(;r;){let e=r.prevDep;r.version===-1?(r===n&&(n=e),We(r),Ge(r)):t=r,r.dep.activeLink=r.prevActiveLink,r.prevActiveLink=void 0,r=e}e.deps=t,e.depsTail=n}function He(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Ue(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Ue(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ze)||(e.globalVersion=Ze,!e.isSSR&&e.flags&128&&(!e.deps&&!e._dirty||!He(e))))return;e.flags|=2;let t=e.dep,n=O,r=Ke;O=e,Ke=!0;try{Be(e);let n=e.fn(e._value);(t.version===0||oe(n,e._value))&&(e.flags|=128,e._value=n,t.version++)}catch(e){throw t.version++,e}finally{O=n,Ke=r,Ve(e),e.flags&=-3}}function We(e,t=!1){let{dep:n,prevSub:r,nextSub:i}=e;if(r&&(r.nextSub=i,e.prevSub=void 0),i&&(i.prevSub=r,e.nextSub=void 0),n.subs===e&&(n.subs=r,!r&&n.computed)){n.computed.flags&=-5;for(let e=n.computed.deps;e;e=e.nextDep)We(e,!0)}!t&&!--n.sc&&n.map&&n.map.delete(n.key)}function Ge(e){let{prevDep:t,nextDep:n}=e;t&&(t.nextDep=n,e.prevDep=void 0),n&&(n.prevDep=t,e.nextDep=void 0)}var Ke=!0,qe=[];function Je(){qe.push(Ke),Ke=!1}function Ye(){let e=qe.pop();Ke=e===void 0?!0:e}function Xe(e){let{cleanup:t}=e;if(e.cleanup=void 0,t){let e=O;O=void 0;try{t()}finally{O=e}}}var Ze=0,Qe=class{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}},$e=class{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!O||!Ke||O===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==O)t=this.activeLink=new Qe(O,this),O.deps?(t.prevDep=O.depsTail,O.depsTail.nextDep=t,O.depsTail=t):O.deps=O.depsTail=t,et(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){let e=t.nextDep;e.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=e),t.prevDep=O.depsTail,t.nextDep=void 0,O.depsTail.nextDep=t,O.depsTail=t,O.deps===t&&(O.deps=e)}return t}trigger(e){this.version++,Ze++,this.notify(e)}notify(e){Re();try{for(let e=this.subs;e;e=e.prevSub)e.sub.notify()&&e.sub.dep.notify()}finally{ze()}}};function et(e){if(e.dep.sc++,e.sub.flags&4){let t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let e=t.deps;e;e=e.nextDep)et(e)}let n=e.dep.subs;n!==e&&(e.prevSub=n,n&&(n.nextSub=e)),e.dep.subs=e}}var tt=new WeakMap,nt=Symbol(``),rt=Symbol(``),it=Symbol(``);function k(e,t,n){if(Ke&&O){let t=tt.get(e);t||tt.set(e,t=new Map);let r=t.get(n);r||(t.set(n,r=new $e),r.map=t,r.key=n),r.track()}}function at(e,t,n,r,i,a){let o=tt.get(e);if(!o){Ze++;return}let s=e=>{e&&e.trigger()};if(Re(),t===`clear`)o.forEach(s);else{let i=d(e),a=i&&ee(n);if(i&&n===`length`){let e=Number(r);o.forEach((t,n)=>{(n===`length`||n===it||!_(n)&&n>=e)&&s(t)})}else switch((n!==void 0||o.has(void 0))&&s(o.get(n)),a&&s(o.get(it)),t){case`add`:i?a&&s(o.get(`length`)):(s(o.get(nt)),f(e)&&s(o.get(rt)));break;case`delete`:i||(s(o.get(nt)),f(e)&&s(o.get(rt)));break;case`set`:f(e)&&s(o.get(nt));break}}ze()}function ot(e,t){let n=tt.get(e);return n&&n.get(t)}function st(e){let t=j(e);return t===e?t:(k(t,`iterate`,it),Gt(e)?t:t.map(M))}function ct(e){return k(e=j(e),`iterate`,it),e}var lt={__proto__:null,[Symbol.iterator](){return ut(this,Symbol.iterator,M)},concat(...e){return st(this).concat(...e.map(e=>d(e)?st(e):e))},entries(){return ut(this,`entries`,e=>(e[1]=M(e[1]),e))},every(e,t){return ft(this,`every`,e,t,void 0,arguments)},filter(e,t){return ft(this,`filter`,e,t,e=>e.map(M),arguments)},find(e,t){return ft(this,`find`,e,t,M,arguments)},findIndex(e,t){return ft(this,`findIndex`,e,t,void 0,arguments)},findLast(e,t){return ft(this,`findLast`,e,t,M,arguments)},findLastIndex(e,t){return ft(this,`findLastIndex`,e,t,void 0,arguments)},forEach(e,t){return ft(this,`forEach`,e,t,void 0,arguments)},includes(...e){return mt(this,`includes`,e)},indexOf(...e){return mt(this,`indexOf`,e)},join(e){return st(this).join(e)},lastIndexOf(...e){return mt(this,`lastIndexOf`,e)},map(e,t){return ft(this,`map`,e,t,void 0,arguments)},pop(){return ht(this,`pop`)},push(...e){return ht(this,`push`,e)},reduce(e,...t){return pt(this,`reduce`,e,t)},reduceRight(e,...t){return pt(this,`reduceRight`,e,t)},shift(){return ht(this,`shift`)},some(e,t){return ft(this,`some`,e,t,void 0,arguments)},splice(...e){return ht(this,`splice`,e)},toReversed(){return st(this).toReversed()},toSorted(e){return st(this).toSorted(e)},toSpliced(...e){return st(this).toSpliced(...e)},unshift(...e){return ht(this,`unshift`,e)},values(){return ut(this,`values`,M)}};function ut(e,t,n){let r=ct(e),i=r[t]();return r!==e&&!Gt(e)&&(i._next=i.next,i.next=()=>{let e=i._next();return e.done||(e.value=n(e.value)),e}),i}var dt=Array.prototype;function ft(e,t,n,r,i,a){let o=ct(e),s=o!==e&&!Gt(e),c=o[t];if(c!==dt[t]){let t=c.apply(e,a);return s?M(t):t}let l=n;o!==e&&(s?l=function(t,r){return n.call(this,M(t),r,e)}:n.length>2&&(l=function(t,r){return n.call(this,t,r,e)}));let u=c.call(o,l,r);return s&&i?i(u):u}function pt(e,t,n,r){let i=ct(e),a=n;return i!==e&&(Gt(e)?n.length>3&&(a=function(t,r,i){return n.call(this,t,r,i,e)}):a=function(t,r,i){return n.call(this,t,M(r),i,e)}),i[t](a,...r)}function mt(e,t,n){let r=j(e);k(r,`iterate`,it);let i=r[t](...n);return(i===-1||i===!1)&&Kt(n[0])?(n[0]=j(n[0]),r[t](...n)):i}function ht(e,t,n=[]){Je(),Re();let r=j(e)[t].apply(e,n);return ze(),Ye(),r}var gt=e(`__proto__,__v_isRef,__isVue`),_t=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!==`arguments`&&e!==`caller`).map(e=>Symbol[e]).filter(_));function vt(e){_(e)||(e=String(e));let t=j(this);return k(t,`has`,e),t.hasOwnProperty(e)}var yt=class{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,n){if(t===`__v_skip`)return e.__v_skip;let r=this._isReadonly,i=this._isShallow;if(t===`__v_isReactive`)return!r;if(t===`__v_isReadonly`)return r;if(t===`__v_isShallow`)return i;if(t===`__v_raw`)return n===(r?i?Lt:It:i?Ft:Pt).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;let a=d(e);if(!r){let e;if(a&&(e=lt[t]))return e;if(t===`hasOwnProperty`)return vt}let o=Reflect.get(e,t,N(e)?e:n);if((_(t)?_t.has(t):gt(t))||(r||k(e,`get`,t),i))return o;if(N(o)){let e=a&&ee(t)?o:o.value;return r&&v(e)?Vt(e):e}return v(o)?r?Vt(o):A(o):o}},bt=class extends yt{constructor(e=!1){super(!1,e)}set(e,t,n,r){let i=e[t];if(!this._isShallow){let t=Wt(i);if(!Gt(n)&&!Wt(n)&&(i=j(i),n=j(n)),!d(e)&&N(i)&&!N(n))return t||(i.value=n),!0}let a=d(e)&&ee(t)?Number(t)<e.length:u(e,t),o=Reflect.set(e,t,n,N(e)?e:r);return e===j(r)&&(a?oe(n,i)&&at(e,`set`,t,n,i):at(e,`add`,t,n)),o}deleteProperty(e,t){let n=u(e,t),r=e[t],i=Reflect.deleteProperty(e,t);return i&&n&&at(e,`delete`,t,void 0,r),i}has(e,t){let n=Reflect.has(e,t);return(!_(t)||!_t.has(t))&&k(e,`has`,t),n}ownKeys(e){return k(e,`iterate`,d(e)?`length`:nt),Reflect.ownKeys(e)}},xt=class extends yt{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}},St=new bt,Ct=new xt,wt=new bt(!0),Tt=e=>e,Et=e=>Reflect.getPrototypeOf(e);function Dt(e,t,n){return function(...r){let i=this.__v_raw,a=j(i),o=f(a),s=e===`entries`||e===Symbol.iterator&&o,c=e===`keys`&&o,l=i[e](...r),u=n?Tt:t?Jt:M;return!t&&k(a,`iterate`,c?rt:nt),{next(){let{value:e,done:t}=l.next();return t?{value:e,done:t}:{value:s?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function Ot(e){return function(...t){return e===`delete`?!1:e===`clear`?void 0:this}}function kt(e,t){let n={get(n){let r=this.__v_raw,i=j(r),a=j(n);e||(oe(n,a)&&k(i,`get`,n),k(i,`get`,a));let{has:o}=Et(i),s=t?Tt:e?Jt:M;if(o.call(i,n))return s(r.get(n));if(o.call(i,a))return s(r.get(a));r!==i&&r.get(n)},get size(){let t=this.__v_raw;return!e&&k(j(t),`iterate`,nt),t.size},has(t){let n=this.__v_raw,r=j(n),i=j(t);return e||(oe(t,i)&&k(r,`has`,t),k(r,`has`,i)),t===i?n.has(t):n.has(t)||n.has(i)},forEach(n,r){let i=this,a=i.__v_raw,o=j(a),s=t?Tt:e?Jt:M;return!e&&k(o,`iterate`,nt),a.forEach((e,t)=>n.call(r,s(e),s(t),i))}};return s(n,e?{add:Ot(`add`),set:Ot(`set`),delete:Ot(`delete`),clear:Ot(`clear`)}:{add(e){!t&&!Gt(e)&&!Wt(e)&&(e=j(e));let n=j(this);return Et(n).has.call(n,e)||(n.add(e),at(n,`add`,e,e)),this},set(e,n){!t&&!Gt(n)&&!Wt(n)&&(n=j(n));let r=j(this),{has:i,get:a}=Et(r),o=i.call(r,e);o||=(e=j(e),i.call(r,e));let s=a.call(r,e);return r.set(e,n),o?oe(n,s)&&at(r,`set`,e,n,s):at(r,`add`,e,n),this},delete(e){let t=j(this),{has:n,get:r}=Et(t),i=n.call(t,e);i||=(e=j(e),n.call(t,e));let a=r?r.call(t,e):void 0,o=t.delete(e);return i&&at(t,`delete`,e,void 0,a),o},clear(){let e=j(this),t=e.size!==0,n=e.clear();return t&&at(e,`clear`,void 0,void 0,void 0),n}}),[`keys`,`values`,`entries`,Symbol.iterator].forEach(r=>{n[r]=Dt(r,e,t)}),n}function At(e,t){let n=kt(e,t);return(t,r,i)=>r===`__v_isReactive`?!e:r===`__v_isReadonly`?e:r===`__v_raw`?t:Reflect.get(u(n,r)&&r in t?n:t,r,i)}var jt={get:At(!1,!1)},Mt={get:At(!1,!0)},Nt={get:At(!0,!1)},Pt=new WeakMap,Ft=new WeakMap,It=new WeakMap,Lt=new WeakMap;function Rt(e){switch(e){case`Object`:case`Array`:return 1;case`Map`:case`Set`:case`WeakMap`:case`WeakSet`:return 2;default:return 0}}function zt(e){return e.__v_skip||!Object.isExtensible(e)?0:Rt(S(e))}function A(e){return Wt(e)?e:Ht(e,!1,St,jt,Pt)}function Bt(e){return Ht(e,!1,wt,Mt,Ft)}function Vt(e){return Ht(e,!0,Ct,Nt,It)}function Ht(e,t,n,r,i){if(!v(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;let a=zt(e);if(a===0)return e;let o=i.get(e);if(o)return o;let s=new Proxy(e,a===2?r:n);return i.set(e,s),s}function Ut(e){return Wt(e)?Ut(e.__v_raw):!!(e&&e.__v_isReactive)}function Wt(e){return!!(e&&e.__v_isReadonly)}function Gt(e){return!!(e&&e.__v_isShallow)}function Kt(e){return e?!!e.__v_raw:!1}function j(e){let t=e&&e.__v_raw;return t?j(t):e}function qt(e){return!u(e,`__v_skip`)&&Object.isExtensible(e)&&D(e,`__v_skip`,!0),e}var M=e=>v(e)?A(e):e,Jt=e=>v(e)?Vt(e):e;function N(e){return e?e.__v_isRef===!0:!1}function Yt(e){return Zt(e,!1)}function Xt(e){return Zt(e,!0)}function Zt(e,t){return N(e)?e:new Qt(e,t)}var Qt=class{constructor(e,t){this.dep=new $e,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:j(e),this._value=t?e:M(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){let t=this._rawValue,n=this.__v_isShallow||Gt(e)||Wt(e);e=n?e:j(e),oe(e,t)&&(this._rawValue=e,this._value=n?e:M(e),this.dep.trigger())}};function $t(e){return N(e)?e.value:e}var en={get:(e,t,n)=>t===`__v_raw`?e:$t(Reflect.get(e,t,n)),set:(e,t,n,r)=>{let i=e[t];return N(i)&&!N(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function tn(e){return Ut(e)?e:new Proxy(e,en)}function nn(e){let t=d(e)?Array(e.length):{};for(let n in e)t[n]=an(e,n);return t}var rn=class{constructor(e,t,n){this._object=e,this._key=t,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){let e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return ot(j(this._object),this._key)}};function an(e,t,n){let r=e[t];return N(r)?r:new rn(e,t,n)}var on=class{constructor(e,t,n){this.fn=e,this.setter=t,this._value=void 0,this.dep=new $e(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ze-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&O!==this)return Le(this,!0),!0}get value(){let e=this.dep.track();return Ue(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}};function sn(e,t,n=!1){let r,i;return h(e)?r=e:(r=e.get,i=e.set),new on(r,i,n)}var cn={},ln=new WeakMap,un=void 0;function dn(e,t=!1,n=un){if(n){let t=ln.get(n);t||ln.set(n,t=[]),t.push(e)}}function fn(e,n,i=t){let{immediate:a,deep:o,once:s,scheduler:l,augmentJob:u,call:f}=i,p=e=>o?e:Gt(e)||o===!1||o===0?P(e,1):P(e),m,g,_,v,y=!1,b=!1;if(N(e)?(g=()=>e.value,y=Gt(e)):Ut(e)?(g=()=>p(e),y=!0):d(e)?(b=!0,y=e.some(e=>Ut(e)||Gt(e)),g=()=>e.map(e=>{if(N(e))return e.value;if(Ut(e))return p(e);if(h(e))return f?f(e,2):e()})):g=h(e)?n?f?()=>f(e,2):e:()=>{if(_){Je();try{_()}finally{Ye()}}let t=un;un=m;try{return f?f(e,3,[v]):e(v)}finally{un=t}}:r,n&&o){let e=g,t=o===!0?1/0:o;g=()=>P(e(),t)}let x=Ae(),S=()=>{m.stop(),x&&x.active&&c(x.effects,m)};if(s&&n){let e=n;n=(...t)=>{e(...t),S()}}let C=b?Array(e.length).fill(cn):cn,ee=e=>{if(!(!(m.flags&1)||!m.dirty&&!e))if(n){let e=m.run();if(o||y||(b?e.some((e,t)=>oe(e,C[t])):oe(e,C))){_&&_();let t=un;un=m;try{let t=[e,C===cn?void 0:b&&C[0]===cn?[]:C,v];C=e,f?f(n,3,t):n(...t)}finally{un=t}}}else m.run()};return u&&u(ee),m=new Ne(g),m.scheduler=l?()=>l(ee,!1):ee,v=e=>dn(e,!1,m),_=m.onStop=()=>{let e=ln.get(m);if(e){if(f)f(e,4);else for(let t of e)t();ln.delete(m)}},n?a?ee(!0):C=m.run():l?l(ee.bind(null,!0),!0):m.run(),S.pause=m.pause.bind(m),S.resume=m.resume.bind(m),S.stop=S,S}function P(e,t=1/0,n){if(t<=0||!v(e)||e.__v_skip||(n||=new Map,(n.get(e)||0)>=t))return e;if(n.set(e,t),t--,N(e))P(e.value,t,n);else if(d(e))for(let r=0;r<e.length;r++)P(e[r],t,n);else if(p(e)||f(e))e.forEach(e=>{P(e,t,n)});else if(C(e)){for(let r in e)P(e[r],t,n);for(let r of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,r)&&P(e[r],t,n)}return e}function pn(e,t,n,r){try{return r?e(...r):e()}catch(e){hn(e,t,n)}}function mn(e,t,n,r){if(h(e)){let i=pn(e,t,n,r);return i&&y(i)&&i.catch(e=>{hn(e,t,n)}),i}if(d(e)){let i=[];for(let a=0;a<e.length;a++)i.push(mn(e[a],t,n,r));return i}}function hn(e,n,r,i=!0){let a=n?n.vnode:null,{errorHandler:o,throwUnhandledErrorInProduction:s}=n&&n.appContext.config||t;if(n){let t=n.parent,i=n.proxy,a=`https://vuejs.org/error-reference/#runtime-${r}`;for(;t;){let n=t.ec;if(n){for(let t=0;t<n.length;t++)if(n[t](e,i,a)===!1)return}t=t.parent}if(o){Je(),pn(o,null,10,[e,i,a]),Ye();return}}gn(e,r,a,i,s)}function gn(e,t,n,r=!0,i=!1){if(i)throw e;console.error(e)}var _n=[],vn=-1,yn=[],bn=null,xn=0,Sn=Promise.resolve(),Cn=null;function wn(e){let t=Cn||Sn;return e?t.then(this?e.bind(this):e):t}function Tn(e){let t=vn+1,n=_n.length;for(;t<n;){let r=t+n>>>1,i=_n[r],a=jn(i);a<e||a===e&&i.flags&2?t=r+1:n=r}return t}function En(e){if(!(e.flags&1)){let t=jn(e),n=_n[_n.length-1];!n||!(e.flags&2)&&t>=jn(n)?_n.push(e):_n.splice(Tn(t),0,e),e.flags|=1,Dn()}}function Dn(){Cn||=Sn.then(Mn)}function On(e){d(e)?yn.push(...e):bn&&e.id===-1?bn.splice(xn+1,0,e):e.flags&1||(yn.push(e),e.flags|=1),Dn()}function kn(e,t,n=vn+1){for(;n<_n.length;n++){let t=_n[n];if(t&&t.flags&2){if(e&&t.id!==e.uid)continue;_n.splice(n,1),n--,t.flags&4&&(t.flags&=-2),t(),t.flags&4||(t.flags&=-2)}}}function An(e){if(yn.length){let e=[...new Set(yn)].sort((e,t)=>jn(e)-jn(t));if(yn.length=0,bn){bn.push(...e);return}for(bn=e,xn=0;xn<bn.length;xn++){let e=bn[xn];e.flags&4&&(e.flags&=-2),e.flags&8||e(),e.flags&=-2}bn=null,xn=0}}var jn=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Mn(e){try{for(vn=0;vn<_n.length;vn++){let e=_n[vn];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),pn(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;vn<_n.length;vn++){let e=_n[vn];e&&(e.flags&=-2)}vn=-1,_n.length=0,An(e),Cn=null,(_n.length||yn.length)&&Mn(e)}}var Nn=null,Pn=null;function Fn(e){let t=Nn;return Nn=e,Pn=e&&e.type.__scopeId||null,t}function In(e,t=Nn,n){if(!t||e._n)return e;let r=(...n)=>{r._d&&qi(-1);let i=Fn(t),a;try{a=e(...n)}finally{Fn(i),r._d&&qi(1)}return a};return r._n=!0,r._c=!0,r._d=!0,r}function Ln(e,n){if(Nn===null)return e;let r=ja(Nn),i=e.dirs||=[];for(let e=0;e<n.length;e++){let[a,o,s,c=t]=n[e];a&&(h(a)&&(a={mounted:a,updated:a}),a.deep&&P(o),i.push({dir:a,instance:r,value:o,oldValue:void 0,arg:s,modifiers:c}))}return e}function Rn(e,t,n,r){let i=e.dirs,a=t&&t.dirs;for(let o=0;o<i.length;o++){let s=i[o];a&&(s.oldValue=a[o].value);let c=s.dir[r];c&&(Je(),mn(c,n,8,[e.el,s,e,t]),Ye())}}var zn=Symbol(`_vte`),Bn=e=>e.__isTeleport,Vn=Symbol(`_leaveCb`);function Hn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Hn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function Un(e,t){return h(e)?(()=>s({name:e.name},t,{setup:e}))():e}function Wn(e){e.ids=[e.ids[0]+ e.ids[2]+++`-`,0,0]}var Gn=new WeakMap;function Kn(e,n,r,a,o=!1){if(d(e)){e.forEach((e,t)=>Kn(e,n&&(d(n)?n[t]:n),r,a,o));return}if(Jn(a)&&!o){a.shapeFlag&512&&a.type.__asyncResolved&&a.component.subTree.component&&Kn(e,n,r,a.component.subTree);return}let s=a.shapeFlag&4?ja(a.component):a.el,l=o?null:s,{i:f,r:p}=e,m=n&&n.r,_=f.refs===t?f.refs={}:f.refs,v=f.setupState,y=j(v),b=v===t?i:e=>u(y,e),x=e=>!0;if(m!=null&&m!==p){if(qn(n),g(m))_[m]=null,b(m)&&(v[m]=null);else if(N(m)){x(m)&&(m.value=null);let e=n;e.k&&(_[e.k]=null)}}if(h(p))pn(p,f,12,[l,_]);else{let t=g(p),n=N(p);if(t||n){let i=()=>{if(e.f){let n=t?b(p)?v[p]:_[p]:x(p)||!e.k?p.value:_[e.k];if(o)d(n)&&c(n,s);else if(d(n))n.includes(s)||n.push(s);else if(t)_[p]=[s],b(p)&&(v[p]=_[p]);else{let t=[s];x(p)&&(p.value=t),e.k&&(_[e.k]=t)}}else t?(_[p]=l,b(p)&&(v[p]=l)):n&&(x(p)&&(p.value=l),e.k&&(_[e.k]=l))};if(l){let t=()=>{i(),Gn.delete(e)};t.id=-1,Gn.set(e,t),li(t,r)}else qn(e),i()}}}function qn(e){let t=Gn.get(e);t&&(t.flags|=8,Gn.delete(e))}ue().requestIdleCallback,ue().cancelIdleCallback;var Jn=e=>!!e.type.__asyncLoader,Yn=e=>e.type.__isKeepAlive;function Xn(e,t){Qn(e,`a`,t)}function Zn(e,t){Qn(e,`da`,t)}function Qn(e,t,n=ha){let r=e.__wdc||=()=>{let t=n;for(;t;){if(t.isDeactivated)return;t=t.parent}return e()};if(er(t,r,n),n){let e=n.parent;for(;e&&e.parent;)Yn(e.parent.vnode)&&$n(r,t,n,e),e=e.parent}}function $n(e,t,n,r){let i=er(t,e,r,!0);sr(()=>{c(r[t],i)},n)}function er(e,t,n=ha,r=!1){if(n){let i=n[e]||(n[e]=[]),a=t.__weh||=(...r)=>{Je();let i=ya(n),a=mn(t,n,e,r);return i(),Ye(),a};return r?i.unshift(a):i.push(a),a}}var tr=e=>(t,n=ha)=>{(!Sa||e===`sp`)&&er(e,(...e)=>t(...e),n)},nr=tr(`bm`),rr=tr(`m`),ir=tr(`bu`),ar=tr(`u`),or=tr(`bum`),sr=tr(`um`),cr=tr(`sp`),lr=tr(`rtg`),ur=tr(`rtc`);function dr(e,t=ha){er(`ec`,e,t)}var fr=`components`;function pr(e,t){return hr(fr,e,!0,t)||e}var mr=Symbol.for(`v-ndc`);function hr(e,t,n=!0,r=!1){let i=Nn||ha;if(i){let n=i.type;if(e===fr){let e=Ma(n,!1);if(e&&(e===t||e===T(t)||e===ie(T(t))))return n}let a=gr(i[e]||n[e],t)||gr(i.appContext[e],t);return!a&&r?n:a}}function gr(e,t){return e&&(e[t]||e[T(t)]||e[ie(T(t))])}function _r(e,t,n,r){let i,a=n&&n[r],o=d(e);if(o||g(e)){let n=o&&Ut(e),r=!1,s=!1;n&&(r=!Gt(e),s=Wt(e),e=ct(e)),i=Array(e.length);for(let n=0,o=e.length;n<o;n++)i[n]=t(r?s?Jt(M(e[n])):M(e[n]):e[n],n,void 0,a&&a[n])}else if(typeof e==`number`){i=Array(e);for(let n=0;n<e;n++)i[n]=t(n+1,n,void 0,a&&a[n])}else if(v(e))if(e[Symbol.iterator])i=Array.from(e,(e,n)=>t(e,n,void 0,a&&a[n]));else{let n=Object.keys(e);i=Array(n.length);for(let r=0,o=n.length;r<o;r++){let o=n[r];i[r]=t(e[o],o,r,a&&a[r])}}else i=[];return n&&(n[r]=i),i}var vr=e=>e?xa(e)?ja(e):vr(e.parent):null,yr=s(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>vr(e.parent),$root:e=>vr(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>Or(e),$forceUpdate:e=>e.f||=()=>{En(e.update)},$nextTick:e=>e.n||=wn.bind(e.proxy),$watch:e=>Ci.bind(e)}),br=(e,n)=>e!==t&&!e.__isScriptSetup&&u(e,n),xr={get({_:e},n){if(n===`__v_skip`)return!0;let{ctx:r,setupState:i,data:a,props:o,accessCache:s,type:c,appContext:l}=e,d;if(n[0]!==`$`){let c=s[n];if(c!==void 0)switch(c){case 1:return i[n];case 2:return a[n];case 4:return r[n];case 3:return o[n]}else if(br(i,n))return s[n]=1,i[n];else if(a!==t&&u(a,n))return s[n]=2,a[n];else if((d=e.propsOptions[0])&&u(d,n))return s[n]=3,o[n];else if(r!==t&&u(r,n))return s[n]=4,r[n];else Cr&&(s[n]=0)}let f=yr[n],p,m;if(f)return n===`$attrs`&&k(e.attrs,`get`,``),f(e);if((p=c.__cssModules)&&(p=p[n]))return p;if(r!==t&&u(r,n))return s[n]=4,r[n];if(m=l.config.globalProperties,u(m,n))return m[n]},set({_:e},n,r){let{data:i,setupState:a,ctx:o}=e;return br(a,n)?(a[n]=r,!0):i!==t&&u(i,n)?(i[n]=r,!0):u(e.props,n)||n[0]===`$`&&n.slice(1)in e?!1:(o[n]=r,!0)},has({_:{data:e,setupState:n,accessCache:r,ctx:i,appContext:a,propsOptions:o,type:s}},c){let l,d;return!!(r[c]||e!==t&&c[0]!==`$`&&u(e,c)||br(n,c)||(l=o[0])&&u(l,c)||u(i,c)||u(yr,c)||u(a.config.globalProperties,c)||(d=s.__cssModules)&&d[c])},defineProperty(e,t,n){return n.get==null?u(n,`value`)&&this.set(e,t,n.value,null):e._.accessCache[t]=0,Reflect.defineProperty(e,t,n)}};function Sr(e){return d(e)?e.reduce((e,t)=>(e[t]=null,e),{}):e}var Cr=!0;function wr(e){let t=Or(e),n=e.proxy,i=e.ctx;Cr=!1,t.beforeCreate&&Er(t.beforeCreate,e,`bc`);let{data:a,computed:o,methods:s,watch:c,provide:l,inject:u,created:f,beforeMount:p,mounted:m,beforeUpdate:g,updated:_,activated:y,deactivated:b,beforeDestroy:x,beforeUnmount:S,destroyed:C,unmounted:ee,render:te,renderTracked:ne,renderTriggered:w,errorCaptured:T,serverPrefetch:re,expose:E,inheritAttrs:ie,components:ae,directives:oe,filters:se}=t;if(u&&Tr(u,i,null),s)for(let e in s){let t=s[e];h(t)&&(i[e]=t.bind(n))}if(a){let t=a.call(n,n);v(t)&&(e.data=A(t))}if(Cr=!0,o)for(let e in o){let t=o[e],a=Pa({get:h(t)?t.bind(n,n):h(t.get)?t.get.bind(n,n):r,set:!h(t)&&h(t.set)?t.set.bind(n):r});Object.defineProperty(i,e,{enumerable:!0,configurable:!0,get:()=>a.value,set:e=>a.value=e})}if(c)for(let e in c)Dr(c[e],i,n,e);if(l){let e=h(l)?l.call(n):l;Reflect.ownKeys(e).forEach(t=>{Hr(t,e[t])})}f&&Er(f,e,`c`);function D(e,t){d(t)?t.forEach(t=>e(t.bind(n))):t&&e(t.bind(n))}if(D(nr,p),D(rr,m),D(ir,g),D(ar,_),D(Xn,y),D(Zn,b),D(dr,T),D(ur,ne),D(lr,w),D(or,S),D(sr,ee),D(cr,re),d(E))if(E.length){let t=e.exposed||={};E.forEach(e=>{Object.defineProperty(t,e,{get:()=>n[e],set:t=>n[e]=t,enumerable:!0})})}else e.exposed||={};te&&e.render===r&&(e.render=te),ie!=null&&(e.inheritAttrs=ie),ae&&(e.components=ae),oe&&(e.directives=oe),re&&Wn(e)}function Tr(e,t,n=r){for(let n in d(e)&&(e=Nr(e)),e){let r=e[n],i;i=v(r)?`default`in r?Ur(r.from||n,r.default,!0):Ur(r.from||n):Ur(r),N(i)?Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:e=>i.value=e}):t[n]=i}}function Er(e,t,n){mn(d(e)?e.map(e=>e.bind(t.proxy)):e.bind(t.proxy),t,n)}function Dr(e,t,n,r){let i=r.includes(`.`)?wi(n,r):()=>n[r];if(g(e)){let n=t[e];h(n)&&xi(i,n)}else if(h(e))xi(i,e.bind(n));else if(v(e))if(d(e))e.forEach(e=>Dr(e,t,n,r));else{let r=h(e.handler)?e.handler.bind(n):t[e.handler];h(r)&&xi(i,r,e)}}function Or(e){let t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:a,config:{optionMergeStrategies:o}}=e.appContext,s=a.get(t),c;return s?c=s:!i.length&&!n&&!r?c=t:(c={},i.length&&i.forEach(e=>kr(c,e,o,!0)),kr(c,t,o)),v(t)&&a.set(t,c),c}function kr(e,t,n,r=!1){let{mixins:i,extends:a}=t;for(let o in a&&kr(e,a,n,!0),i&&i.forEach(t=>kr(e,t,n,!0)),t)if(!(r&&o===`expose`)){let r=Ar[o]||n&&n[o];e[o]=r?r(e[o],t[o]):t[o]}return e}var Ar={data:jr,props:Ir,emits:Ir,methods:Fr,computed:Fr,beforeCreate:Pr,created:Pr,beforeMount:Pr,mounted:Pr,beforeUpdate:Pr,updated:Pr,beforeDestroy:Pr,beforeUnmount:Pr,destroyed:Pr,unmounted:Pr,activated:Pr,deactivated:Pr,errorCaptured:Pr,serverPrefetch:Pr,components:Fr,directives:Fr,watch:Lr,provide:jr,inject:Mr};function jr(e,t){return t?e?function(){return s(h(e)?e.call(this,this):e,h(t)?t.call(this,this):t)}:t:e}function Mr(e,t){return Fr(Nr(e),Nr(t))}function Nr(e){if(d(e)){let t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Pr(e,t){return e?[...new Set([].concat(e,t))]:t}function Fr(e,t){return e?s(Object.create(null),e,t):t}function Ir(e,t){return e?d(e)&&d(t)?[...new Set([...e,...t])]:s(Object.create(null),Sr(e),Sr(t??{})):t}function Lr(e,t){if(!e)return t;if(!t)return e;let n=s(Object.create(null),e);for(let r in t)n[r]=Pr(e[r],t[r]);return n}function Rr(){return{app:null,config:{isNativeTag:i,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var zr=0;function Br(e,t){return function(n,r=null){h(n)||(n=s({},n)),r!=null&&!v(r)&&(r=null);let i=Rr(),a=new WeakSet,o=[],c=!1,l=i.app={_uid:zr++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Ia,get config(){return i.config},set config(e){},use(e,...t){return a.has(e)||(e&&h(e.install)?(a.add(e),e.install(l,...t)):h(e)&&(a.add(e),e(l,...t))),l},mixin(e){return i.mixins.includes(e)||i.mixins.push(e),l},component(e,t){return t?(i.components[e]=t,l):i.components[e]},directive(e,t){return t?(i.directives[e]=t,l):i.directives[e]},mount(a,o,s){if(!c){let u=l._ceVNode||ta(n,r);return u.appContext=i,s===!0?s=`svg`:s===!1&&(s=void 0),o&&t?t(u,a):e(u,a,s),c=!0,l._container=a,a.__vue_app__=l,ja(u.component)}},onUnmount(e){o.push(e)},unmount(){c&&(mn(o,l._instance,16),e(null,l._container),delete l._container.__vue_app__)},provide(e,t){return i.provides[e]=t,l},runWithContext(e){let t=Vr;Vr=l;try{return e()}finally{Vr=t}}};return l}}var Vr=null;function Hr(e,t){if(ha){let n=ha.provides,r=ha.parent&&ha.parent.provides;r===n&&(n=ha.provides=Object.create(r)),n[e]=t}}function Ur(e,t,n=!1){let r=ga();if(r||Vr){let i=Vr?Vr._context.provides:r?r.parent==null||r.ce?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:void 0;if(i&&e in i)return i[e];if(arguments.length>1)return n&&h(t)?t.call(r&&r.proxy):t}}function Wr(){return!!(ga()||Vr)}var Gr={},Kr=()=>Object.create(Gr),qr=e=>Object.getPrototypeOf(e)===Gr;function Jr(e,t,n,r=!1){let i={},a=Kr();for(let n in e.propsDefaults=Object.create(null),Xr(e,t,i,a),e.propsOptions[0])n in i||(i[n]=void 0);n?e.props=r?i:Bt(i):e.type.props?e.props=i:e.props=a,e.attrs=a}function Yr(e,t,n,r){let{props:i,attrs:a,vnode:{patchFlag:o}}=e,s=j(i),[c]=e.propsOptions,l=!1;if((r||o>0)&&!(o&16)){if(o&8){let n=e.vnode.dynamicProps;for(let r=0;r<n.length;r++){let o=n[r];if(ki(e.emitsOptions,o))continue;let d=t[o];if(c)if(u(a,o))d!==a[o]&&(a[o]=d,l=!0);else{let t=T(o);i[t]=Zr(c,s,t,d,e,!1)}else d!==a[o]&&(a[o]=d,l=!0)}}}else{Xr(e,t,i,a)&&(l=!0);let r;for(let a in s)(!t||!u(t,a)&&((r=E(a))===a||!u(t,r)))&&(c?n&&(n[a]!==void 0||n[r]!==void 0)&&(i[a]=Zr(c,s,a,void 0,e,!0)):delete i[a]);if(a!==s)for(let e in a)(!t||!u(t,e))&&(delete a[e],l=!0)}l&&at(e.attrs,`set`,``)}function Xr(e,n,r,i){let[a,o]=e.propsOptions,s=!1,c;if(n)for(let t in n){if(te(t))continue;let l=n[t],d;a&&u(a,d=T(t))?!o||!o.includes(d)?r[d]=l:(c||={})[d]=l:ki(e.emitsOptions,t)||(!(t in i)||l!==i[t])&&(i[t]=l,s=!0)}if(o){let n=j(r),i=c||t;for(let t=0;t<o.length;t++){let s=o[t];r[s]=Zr(a,n,s,i[s],e,!u(i,s))}}return s}function Zr(e,t,n,r,i,a){let o=e[n];if(o!=null){let e=u(o,`default`);if(e&&r===void 0){let e=o.default;if(o.type!==Function&&!o.skipFactory&&h(e)){let{propsDefaults:a}=i;if(n in a)r=a[n];else{let o=ya(i);r=a[n]=e.call(null,t),o()}}else r=e;i.ce&&i.ce._setProp(n,r)}o[0]&&(a&&!e?r=!1:o[1]&&(r===``||r===E(n))&&(r=!0))}return r}var Qr=new WeakMap;function $r(e,r,i=!1){let a=i?Qr:r.propsCache,o=a.get(e);if(o)return o;let c=e.props,l={},f=[],p=!1;if(!h(e)){let t=e=>{p=!0;let[t,n]=$r(e,r,!0);s(l,t),n&&f.push(...n)};!i&&r.mixins.length&&r.mixins.forEach(t),e.extends&&t(e.extends),e.mixins&&e.mixins.forEach(t)}if(!c&&!p)return v(e)&&a.set(e,n),n;if(d(c))for(let e=0;e<c.length;e++){let n=T(c[e]);ei(n)&&(l[n]=t)}else if(c)for(let e in c){let t=T(e);if(ei(t)){let n=c[e],r=l[t]=d(n)||h(n)?{type:n}:s({},n),i=r.type,a=!1,o=!0;if(d(i))for(let e=0;e<i.length;++e){let t=i[e],n=h(t)&&t.name;if(n===`Boolean`){a=!0;break}else n===`String`&&(o=!1)}else a=h(i)&&i.name===`Boolean`;r[0]=a,r[1]=o,(a||u(r,`default`))&&f.push(t)}}let m=[l,f];return v(e)&&a.set(e,m),m}function ei(e){return e[0]!==`$`&&!te(e)}var ti=e=>e===`_`||e===`_ctx`||e===`$stable`,ni=e=>d(e)?e.map(sa):[sa(e)],ri=(e,t,n)=>{if(t._n)return t;let r=In((...e)=>ni(t(...e)),n);return r._c=!1,r},ii=(e,t,n)=>{let r=e._ctx;for(let n in e){if(ti(n))continue;let i=e[n];if(h(i))t[n]=ri(n,i,r);else if(i!=null){let e=ni(i);t[n]=()=>e}}},ai=(e,t)=>{let n=ni(t);e.slots.default=()=>n},oi=(e,t,n)=>{for(let r in t)(n||!ti(r))&&(e[r]=t[r])},si=(e,t,n)=>{let r=e.slots=Kr();if(e.vnode.shapeFlag&32){let e=t._;e?(oi(r,t,n),n&&D(r,`_`,e,!0)):ii(t,r)}else t&&ai(e,t)},ci=(e,n,r)=>{let{vnode:i,slots:a}=e,o=!0,s=t;if(i.shapeFlag&32){let e=n._;e?r&&e===1?o=!1:oi(a,n,r):(o=!n.$stable,ii(n,a)),s=n}else n&&(ai(e,n),s={default:1});if(o)for(let e in a)!ti(e)&&s[e]==null&&delete a[e]},li=Li;function ui(e){return di(e)}function di(e,i){let a=ue();a.__VUE__=!0;let{insert:o,remove:s,patchProp:c,createElement:l,createText:u,createComment:d,setText:f,setElementText:p,parentNode:m,nextSibling:h,setScopeId:g=r,insertStaticContent:_}=e,v=(e,t,n,r=null,i=null,a=null,o=void 0,s=null,c=!!t.dynamicChildren)=>{if(e===t)return;e&&!Qi(e,t)&&(r=xe(e),ge(e,i,a,!0),e=null),t.patchFlag===-2&&(c=!1,t.dynamicChildren=null);let{type:l,ref:u,shapeFlag:d}=t;switch(l){case zi:y(e,t,n,r);break;case Bi:b(e,t,n,r);break;case Vi:e??x(t,n,r,o);break;case Ri:ae(e,t,n,r,i,a,o,s,c);break;default:d&1?ee(e,t,n,r,i,a,o,s,c):d&6?oe(e,t,n,r,i,a,o,s,c):(d&64||d&128)&&l.process(e,t,n,r,i,a,o,s,c,we)}u!=null&&i?Kn(u,e&&e.ref,a,t||e,!t):u==null&&e&&e.ref!=null&&Kn(e.ref,null,a,e,!0)},y=(e,t,n,r)=>{if(e==null)o(t.el=u(t.children),n,r);else{let n=t.el=e.el;t.children!==e.children&&f(n,t.children)}},b=(e,t,n,r)=>{e==null?o(t.el=d(t.children||``),n,r):t.el=e.el},x=(e,t,n,r)=>{[e.el,e.anchor]=_(e.children,t,n,r,e.el,e.anchor)},S=({el:e,anchor:t},n,r)=>{let i;for(;e&&e!==t;)i=h(e),o(e,n,r),e=i;o(t,n,r)},C=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=h(e),s(e),e=n;s(t)},ee=(e,t,n,r,i,a,o,s,c)=>{if(t.type===`svg`?o=`svg`:t.type===`math`&&(o=`mathml`),e==null)ne(t,n,r,i,a,o,s,c);else{let n=e.el&&e.el._isVueCE?e.el:null;try{n&&n._beginPatch(),re(e,t,i,a,o,s,c)}finally{n&&n._endPatch()}}},ne=(e,t,n,r,i,a,s,u)=>{let d,f,{props:m,shapeFlag:h,transition:g,dirs:_}=e;if(d=e.el=l(e.type,a,m&&m.is,m),h&8?p(d,e.children):h&16&&T(e.children,d,null,r,i,fi(e,a),s,u),_&&Rn(e,null,r,`created`),w(d,e,e.scopeId,s,r),m){for(let e in m)e!==`value`&&!te(e)&&c(d,e,null,m[e],a,r);`value`in m&&c(d,`value`,null,m.value,a),(f=m.onVnodeBeforeMount)&&da(f,r,e)}_&&Rn(e,null,r,`beforeMount`);let v=mi(i,g);v&&g.beforeEnter(d),o(d,t,n),((f=m&&m.onVnodeMounted)||v||_)&&li(()=>{f&&da(f,r,e),v&&g.enter(d),_&&Rn(e,null,r,`mounted`)},i)},w=(e,t,n,r,i)=>{if(n&&g(e,n),r)for(let t=0;t<r.length;t++)g(e,r[t]);if(i){let n=i.subTree;if(t===n||Ii(n.type)&&(n.ssContent===t||n.ssFallback===t)){let t=i.vnode;w(e,t,t.scopeId,t.slotScopeIds,i.parent)}}},T=(e,t,n,r,i,a,o,s,c=0)=>{for(let l=c;l<e.length;l++)v(null,e[l]=s?ca(e[l]):sa(e[l]),t,n,r,i,a,o,s)},re=(e,n,r,i,a,o,s)=>{let l=n.el=e.el,{patchFlag:u,dynamicChildren:d,dirs:f}=n;u|=e.patchFlag&16;let m=e.props||t,h=n.props||t,g;if(r&&pi(r,!1),(g=h.onVnodeBeforeUpdate)&&da(g,r,n,e),f&&Rn(n,e,r,`beforeUpdate`),r&&pi(r,!0),(m.innerHTML&&h.innerHTML==null||m.textContent&&h.textContent==null)&&p(l,``),d?E(e.dynamicChildren,d,l,r,i,fi(n,a),o):s||fe(e,n,l,null,r,i,fi(n,a),o,!1),u>0){if(u&16)ie(l,m,h,r,a);else if(u&2&&m.class!==h.class&&c(l,`class`,null,h.class,a),u&4&&c(l,`style`,m.style,h.style,a),u&8){let e=n.dynamicProps;for(let t=0;t<e.length;t++){let n=e[t],i=m[n],o=h[n];(o!==i||n===`value`)&&c(l,n,i,o,a,r)}}u&1&&e.children!==n.children&&p(l,n.children)}else !s&&d==null&&ie(l,m,h,r,a);((g=h.onVnodeUpdated)||f)&&li(()=>{g&&da(g,r,n,e),f&&Rn(n,e,r,`updated`)},i)},E=(e,t,n,r,i,a,o)=>{for(let s=0;s<t.length;s++){let c=e[s],l=t[s];v(c,l,c.el&&(c.type===Ri||!Qi(c,l)||c.shapeFlag&198)?m(c.el):n,null,r,i,a,o,!0)}},ie=(e,n,r,i,a)=>{if(n!==r){if(n!==t)for(let t in n)!te(t)&&!(t in r)&&c(e,t,n[t],null,a,i);for(let t in r){if(te(t))continue;let o=r[t],s=n[t];o!==s&&t!==`value`&&c(e,t,s,o,a,i)}`value`in r&&c(e,`value`,n.value,r.value,a)}},ae=(e,t,n,r,i,a,s,c,l)=>{let d=t.el=e?e.el:u(``),f=t.anchor=e?e.anchor:u(``),{patchFlag:p,dynamicChildren:m,slotScopeIds:h}=t;h&&(c=c?c.concat(h):h),e==null?(o(d,n,r),o(f,n,r),T(t.children||[],n,f,i,a,s,c,l)):p>0&&p&64&&m&&e.dynamicChildren?(E(e.dynamicChildren,m,n,i,a,s,c),(t.key!=null||i&&t===i.subTree)&&hi(e,t,!0)):fe(e,t,n,f,i,a,s,c,l)},oe=(e,t,n,r,i,a,o,s,c)=>{t.slotScopeIds=s,e==null?t.shapeFlag&512?i.ctx.activate(t,n,r,o,c):D(t,n,r,i,a,o,c):ce(e,t,c)},D=(e,t,n,r,i,a,o)=>{let s=e.component=ma(e,r,i);if(Yn(e)&&(s.ctx.renderer=we),Ca(s,!1,o),s.asyncDep){if(i&&i.registerDep(s,le,o),!e.el){let r=s.subTree=ta(Bi);b(null,r,t,n),e.placeholder=r.el}}else le(s,e,t,n,i,a,o)},ce=(e,t,n)=>{let r=t.component=e.component;if(Ni(e,t,n))if(r.asyncDep&&!r.asyncResolved){de(r,t,n);return}else r.next=t,r.update();else t.el=e.el,r.vnode=t},le=(e,t,n,r,i,a,o)=>{let s=()=>{if(e.isMounted){let{next:t,bu:n,u:r,parent:c,vnode:l}=e;{let n=_i(e);if(n){t&&(t.el=l.el,de(e,t,o)),n.asyncDep.then(()=>{e.isUnmounted||s()});return}}let u=t,d;pi(e,!1),t?(t.el=l.el,de(e,t,o)):t=l,n&&se(n),(d=t.props&&t.props.onVnodeBeforeUpdate)&&da(d,c,t,l),pi(e,!0);let f=Ai(e),p=e.subTree;e.subTree=f,v(p,f,m(p.el),xe(p),e,i,a),t.el=f.el,u===null&&Fi(e,f.el),r&&li(r,i),(d=t.props&&t.props.onVnodeUpdated)&&li(()=>da(d,c,t,l),i)}else{let o,{el:s,props:c}=t,{bm:l,m:u,parent:d,root:f,type:p}=e,m=Jn(t);if(pi(e,!1),l&&se(l),!m&&(o=c&&c.onVnodeBeforeMount)&&da(o,d,t),pi(e,!0),s&&Ee){let t=()=>{e.subTree=Ai(e),Ee(s,e.subTree,e,i,null)};m&&p.__asyncHydrate?p.__asyncHydrate(s,e,t):t()}else{f.ce&&f.ce._def.shadowRoot!==!1&&f.ce._injectChildStyle(p);let o=e.subTree=Ai(e);v(null,o,n,r,e,i,a),t.el=o.el}if(u&&li(u,i),!m&&(o=c&&c.onVnodeMounted)){let e=t;li(()=>da(o,d,e),i)}(t.shapeFlag&256||d&&Jn(d.vnode)&&d.vnode.shapeFlag&256)&&e.a&&li(e.a,i),e.isMounted=!0,t=n=r=null}};e.scope.on();let c=e.effect=new Ne(s);e.scope.off();let l=e.update=c.run.bind(c),u=e.job=c.runIfDirty.bind(c);u.i=e,u.id=e.uid,c.scheduler=()=>En(u),pi(e,!0),l()},de=(e,t,n)=>{t.component=e;let r=e.vnode.props;e.vnode=t,e.next=null,Yr(e,t.props,r,n),ci(e,t.children,n),Je(),kn(e),Ye()},fe=(e,t,n,r,i,a,o,s,c=!1)=>{let l=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:f,shapeFlag:m}=t;if(f>0){if(f&128){me(l,d,n,r,i,a,o,s,c);return}else if(f&256){pe(l,d,n,r,i,a,o,s,c);return}}m&8?(u&16&&be(l,i,a),d!==l&&p(n,d)):u&16?m&16?me(l,d,n,r,i,a,o,s,c):be(l,i,a,!0):(u&8&&p(n,``),m&16&&T(d,n,r,i,a,o,s,c))},pe=(e,t,r,i,a,o,s,c,l)=>{e||=n,t||=n;let u=e.length,d=t.length,f=Math.min(u,d),p;for(p=0;p<f;p++){let n=t[p]=l?ca(t[p]):sa(t[p]);v(e[p],n,r,null,a,o,s,c,l)}u>d?be(e,a,o,!0,!1,f):T(t,r,i,a,o,s,c,l,f)},me=(e,t,r,i,a,o,s,c,l)=>{let u=0,d=t.length,f=e.length-1,p=d-1;for(;u<=f&&u<=p;){let n=e[u],i=t[u]=l?ca(t[u]):sa(t[u]);if(Qi(n,i))v(n,i,r,null,a,o,s,c,l);else break;u++}for(;u<=f&&u<=p;){let n=e[f],i=t[p]=l?ca(t[p]):sa(t[p]);if(Qi(n,i))v(n,i,r,null,a,o,s,c,l);else break;f--,p--}if(u>f){if(u<=p){let e=p+1,n=e<d?t[e].el:i;for(;u<=p;)v(null,t[u]=l?ca(t[u]):sa(t[u]),r,n,a,o,s,c,l),u++}}else if(u>p)for(;u<=f;)ge(e[u],a,o,!0),u++;else{let m=u,h=u,g=new Map;for(u=h;u<=p;u++){let e=t[u]=l?ca(t[u]):sa(t[u]);e.key!=null&&g.set(e.key,u)}let _,y=0,b=p-h+1,x=!1,S=0,C=Array(b);for(u=0;u<b;u++)C[u]=0;for(u=m;u<=f;u++){let n=e[u];if(y>=b){ge(n,a,o,!0);continue}let i;if(n.key!=null)i=g.get(n.key);else for(_=h;_<=p;_++)if(C[_-h]===0&&Qi(n,t[_])){i=_;break}i===void 0?ge(n,a,o,!0):(C[i-h]=u+1,i>=S?S=i:x=!0,v(n,t[i],r,null,a,o,s,c,l),y++)}let ee=x?gi(C):n;for(_=ee.length-1,u=b-1;u>=0;u--){let e=h+u,n=t[e],f=t[e+1],p=e+1<d?f.el||f.placeholder:i;C[u]===0?v(null,n,r,p,a,o,s,c,l):x&&(_<0||u!==ee[_]?he(n,r,p,2):_--)}}},he=(e,t,n,r,i=null)=>{let{el:a,type:c,transition:l,children:u,shapeFlag:d}=e;if(d&6){he(e.component.subTree,t,n,r);return}if(d&128){e.suspense.move(t,n,r);return}if(d&64){c.move(e,t,n,we);return}if(c===Ri){o(a,t,n);for(let e=0;e<u.length;e++)he(u[e],t,n,r);o(e.anchor,t,n);return}if(c===Vi){S(e,t,n);return}if(r!==2&&d&1&&l)if(r===0)l.beforeEnter(a),o(a,t,n),li(()=>l.enter(a),i);else{let{leave:r,delayLeave:i,afterLeave:c}=l,u=()=>{e.ctx.isUnmounted?s(a):o(a,t,n)},d=()=>{a._isLeaving&&a[Vn](!0),r(a,()=>{u(),c&&c()})};i?i(a,u,d):d()}else o(a,t,n)},ge=(e,t,n,r=!1,i=!1)=>{let{type:a,props:o,ref:s,children:c,dynamicChildren:l,shapeFlag:u,patchFlag:d,dirs:f,cacheIndex:p}=e;if(d===-2&&(i=!1),s!=null&&(Je(),Kn(s,null,n,e,!0),Ye()),p!=null&&(t.renderCache[p]=void 0),u&256){t.ctx.deactivate(e);return}let m=u&1&&f,h=!Jn(e),g;if(h&&(g=o&&o.onVnodeBeforeUnmount)&&da(g,t,e),u&6)ye(e.component,n,r);else{if(u&128){e.suspense.unmount(n,r);return}m&&Rn(e,null,t,`beforeUnmount`),u&64?e.type.remove(e,t,n,we,r):l&&!l.hasOnce&&(a!==Ri||d>0&&d&64)?be(l,t,n,!1,!0):(a===Ri&&d&384||!i&&u&16)&&be(c,t,n),r&&_e(e)}(h&&(g=o&&o.onVnodeUnmounted)||m)&&li(()=>{g&&da(g,t,e),m&&Rn(e,null,t,`unmounted`)},n)},_e=e=>{let{type:t,el:n,anchor:r,transition:i}=e;if(t===Ri){ve(n,r);return}if(t===Vi){C(e);return}let a=()=>{s(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(e.shapeFlag&1&&i&&!i.persisted){let{leave:t,delayLeave:r}=i,o=()=>t(n,a);r?r(e.el,a,o):o()}else a()},ve=(e,t)=>{let n;for(;e!==t;)n=h(e),s(e),e=n;s(t)},ye=(e,t,n)=>{let{bum:r,scope:i,job:a,subTree:o,um:s,m:c,a:l}=e;vi(c),vi(l),r&&se(r),i.stop(),a&&(a.flags|=8,ge(o,e,t,n)),s&&li(s,t),li(()=>{e.isUnmounted=!0},t)},be=(e,t,n,r=!1,i=!1,a=0)=>{for(let o=a;o<e.length;o++)ge(e[o],t,n,r,i)},xe=e=>{if(e.shapeFlag&6)return xe(e.component.subTree);if(e.shapeFlag&128)return e.suspense.next();let t=h(e.anchor||e.el),n=t&&t[zn];return n?h(n):t},Se=!1,Ce=(e,t,n)=>{e==null?t._vnode&&ge(t._vnode,null,null,!0):v(t._vnode||null,e,t,null,null,null,n),t._vnode=e,Se||=(Se=!0,kn(),An(),!1)},we={p:v,um:ge,m:he,r:_e,mt:D,mc:T,pc:fe,pbc:E,n:xe,o:e},Te,Ee;return i&&([Te,Ee]=i(we)),{render:Ce,hydrate:Te,createApp:Br(Ce,Te)}}function fi({type:e,props:t},n){return n===`svg`&&e===`foreignObject`||n===`mathml`&&e===`annotation-xml`&&t&&t.encoding&&t.encoding.includes(`html`)?void 0:n}function pi({effect:e,job:t},n){n?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function mi(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function hi(e,t,n=!1){let r=e.children,i=t.children;if(d(r)&&d(i))for(let e=0;e<r.length;e++){let t=r[e],a=i[e];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[e]=ca(i[e]),a.el=t.el),!n&&a.patchFlag!==-2&&hi(t,a)),a.type===zi&&a.patchFlag!==-1&&(a.el=t.el),a.type===Bi&&!a.el&&(a.el=t.el)}}function gi(e){let t=e.slice(),n=[0],r,i,a,o,s,c=e.length;for(r=0;r<c;r++){let c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(a=0,o=n.length-1;a<o;)s=a+o>>1,e[n[s]]<c?a=s+1:o=s;c<e[n[a]]&&(a>0&&(t[r]=n[a-1]),n[a]=r)}}for(a=n.length,o=n[a-1];a-- >0;)n[a]=o,o=t[o];return n}function _i(e){let t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:_i(t)}function vi(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}var yi=Symbol.for(`v-scx`),bi=()=>Ur(yi);function xi(e,t,n){return Si(e,t,n)}function Si(e,n,i=t){let{immediate:a,deep:o,flush:c,once:l}=i,u=s({},i),d=n&&a||!n&&c!==`post`,f;if(Sa){if(c===`sync`){let e=bi();f=e.__watcherHandles||=[]}else if(!d){let e=()=>{};return e.stop=r,e.resume=r,e.pause=r,e}}let p=ha;u.call=(e,t,n)=>mn(e,p,t,n);let m=!1;c===`post`?u.scheduler=e=>{li(e,p&&p.suspense)}:c!==`sync`&&(m=!0,u.scheduler=(e,t)=>{t?e():En(e)}),u.augmentJob=e=>{n&&(e.flags|=4),m&&(e.flags|=2,p&&(e.id=p.uid,e.i=p))};let h=fn(e,n,u);return Sa&&(f?f.push(h):d&&h()),h}function Ci(e,t,n){let r=this.proxy,i=g(e)?e.includes(`.`)?wi(r,e):()=>r[e]:e.bind(r,r),a;h(t)?a=t:(a=t.handler,n=t);let o=ya(this),s=Si(i,a.bind(r),n);return o(),s}function wi(e,t){let n=t.split(`.`);return()=>{let t=e;for(let e=0;e<n.length&&t;e++)t=t[n[e]];return t}}var Ti=(e,t)=>t===`modelValue`||t===`model-value`?e.modelModifiers:e[`${t}Modifiers`]||e[`${T(t)}Modifiers`]||e[`${E(t)}Modifiers`];function Ei(e,n,...r){if(e.isUnmounted)return;let i=e.vnode.props||t,a=r,o=n.startsWith(`update:`),s=o&&Ti(i,n.slice(7));s&&(s.trim&&(a=r.map(e=>g(e)?e.trim():e)),s.number&&(a=r.map(ce)));let c,l=i[c=ae(n)]||i[c=ae(T(n))];!l&&o&&(l=i[c=ae(E(n))]),l&&mn(l,e,6,a);let u=i[c+`Once`];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,mn(u,e,6,a)}}var Di=new WeakMap;function Oi(e,t,n=!1){let r=n?Di:t.emitsCache,i=r.get(e);if(i!==void 0)return i;let a=e.emits,o={},c=!1;if(!h(e)){let r=e=>{let n=Oi(e,t,!0);n&&(c=!0,s(o,n))};!n&&t.mixins.length&&t.mixins.forEach(r),e.extends&&r(e.extends),e.mixins&&e.mixins.forEach(r)}return!a&&!c?(v(e)&&r.set(e,null),null):(d(a)?a.forEach(e=>o[e]=null):s(o,a),v(e)&&r.set(e,o),o)}function ki(e,t){return!e||!a(t)?!1:(t=t.slice(2).replace(/Once$/,``),u(e,t[0].toLowerCase()+t.slice(1))||u(e,E(t))||u(e,t))}function Ai(e){let{type:t,vnode:n,proxy:r,withProxy:i,propsOptions:[a],slots:s,attrs:c,emit:l,render:u,renderCache:d,props:f,data:p,setupState:m,ctx:h,inheritAttrs:g}=e,_=Fn(e),v,y;try{if(n.shapeFlag&4){let e=i||r,t=e;v=sa(u.call(t,e,d,f,m,p,h)),y=c}else{let e=t;v=sa(e.length>1?e(f,{attrs:c,slots:s,emit:l}):e(f,null)),y=t.props?c:ji(c)}}catch(t){Hi.length=0,hn(t,e,1),v=ta(Bi)}let b=v;if(y&&g!==!1){let e=Object.keys(y),{shapeFlag:t}=b;e.length&&t&7&&(a&&e.some(o)&&(y=Mi(y,a)),b=ia(b,y,!1,!0))}return n.dirs&&(b=ia(b,null,!1,!0),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&Hn(b,n.transition),v=b,Fn(_),v}var ji=e=>{let t;for(let n in e)(n===`class`||n===`style`||a(n))&&((t||={})[n]=e[n]);return t},Mi=(e,t)=>{let n={};for(let r in e)(!o(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function Ni(e,t,n){let{props:r,children:i,component:a}=e,{props:o,children:s,patchFlag:c}=t,l=a.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&c>=0){if(c&1024)return!0;if(c&16)return r?Pi(r,o,l):!!o;if(c&8){let e=t.dynamicProps;for(let t=0;t<e.length;t++){let n=e[t];if(o[n]!==r[n]&&!ki(l,n))return!0}}}else return(i||s)&&(!s||!s.$stable)?!0:r===o?!1:r?o?Pi(r,o,l):!0:!!o;return!1}function Pi(e,t,n){let r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){let a=r[i];if(t[a]!==e[a]&&!ki(n,a))return!0}return!1}function Fi({vnode:e,parent:t},n){for(;t;){let r=t.subTree;if(r.suspense&&r.suspense.activeBranch===e&&(r.el=e.el),r===e)(e=t.vnode).el=n,t=t.parent;else break}}var Ii=e=>e.__isSuspense;function Li(e,t){t&&t.pendingBranch?d(e)?t.effects.push(...e):t.effects.push(e):On(e)}var Ri=Symbol.for(`v-fgt`),zi=Symbol.for(`v-txt`),Bi=Symbol.for(`v-cmt`),Vi=Symbol.for(`v-stc`),Hi=[],Ui=null;function Wi(e=!1){Hi.push(Ui=e?null:[])}function Gi(){Hi.pop(),Ui=Hi[Hi.length-1]||null}var Ki=1;function qi(e,t=!1){Ki+=e,e<0&&Ui&&t&&(Ui.hasOnce=!0)}function Ji(e){return e.dynamicChildren=Ki>0?Ui||n:null,Gi(),Ki>0&&Ui&&Ui.push(e),e}function Yi(e,t,n,r,i,a){return Ji(F(e,t,n,r,i,a,!0))}function Xi(e,t,n,r,i){return Ji(ta(e,t,n,r,i,!0))}function Zi(e){return e?e.__v_isVNode===!0:!1}function Qi(e,t){return e.type===t.type&&e.key===t.key}var $i=({key:e})=>e??null,ea=({ref:e,ref_key:t,ref_for:n})=>(typeof e==`number`&&(e=``+e),e==null?null:g(e)||N(e)||h(e)?{i:Nn,r:e,k:t,f:!!n}:e);function F(e,t=null,n=null,r=0,i=null,a=e===Ri?0:1,o=!1,s=!1){let c={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&$i(t),ref:t&&ea(t),scopeId:Pn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Nn};return s?(la(c,n),a&128&&e.normalize(c)):n&&(c.shapeFlag|=g(n)?8:16),Ki>0&&!o&&Ui&&(c.patchFlag>0||a&6)&&c.patchFlag!==32&&Ui.push(c),c}var ta=na;function na(e,t=null,n=null,r=0,i=null,a=!1){if((!e||e===mr)&&(e=Bi),Zi(e)){let r=ia(e,t,!0);return n&&la(r,n),Ki>0&&!a&&Ui&&(r.shapeFlag&6?Ui[Ui.indexOf(e)]=r:Ui.push(r)),r.patchFlag=-2,r}if(Na(e)&&(e=e.__vccOpts),t){t=ra(t);let{class:e,style:n}=t;e&&!g(e)&&(t.class=ge(e)),v(n)&&(Kt(n)&&!d(n)&&(n=s({},n)),t.style=de(n))}let o=g(e)?1:Ii(e)?128:Bn(e)?64:v(e)?4:h(e)?2:0;return F(e,t,n,r,i,o,a,!0)}function ra(e){return e?Kt(e)||qr(e)?s({},e):e:null}function ia(e,t,n=!1,r=!1){let{props:i,ref:a,patchFlag:o,children:s,transition:c}=e,l=t?ua(i||{},t):i,u={__v_isVNode:!0,__v_skip:!0,type:e.type,props:l,key:l&&$i(l),ref:t&&t.ref?n&&a?d(a)?a.concat(ea(t)):[a,ea(t)]:ea(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ri?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:c,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&ia(e.ssContent),ssFallback:e.ssFallback&&ia(e.ssFallback),placeholder:e.placeholder,el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return c&&r&&Hn(u,c.clone(u)),u}function aa(e=` `,t=0){return ta(zi,null,e,t)}function oa(e=``,t=!1){return t?(Wi(),Xi(Bi,null,e)):ta(Bi,null,e)}function sa(e){return e==null||typeof e==`boolean`?ta(Bi):d(e)?ta(Ri,null,e.slice()):Zi(e)?ca(e):ta(zi,null,String(e))}function ca(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:ia(e)}function la(e,t){let n=0,{shapeFlag:r}=e;if(t==null)t=null;else if(d(t))n=16;else if(typeof t==`object`)if(r&65){let n=t.default;n&&(n._c&&(n._d=!1),la(e,n()),n._c&&(n._d=!0));return}else{n=32;let r=t._;!r&&!qr(t)?t._ctx=Nn:r===3&&Nn&&(Nn.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else h(t)?(t={default:t,_ctx:Nn},n=32):(t=String(t),r&64?(n=16,t=[aa(t)]):n=8);e.children=t,e.shapeFlag|=n}function ua(...e){let t={};for(let n=0;n<e.length;n++){let r=e[n];for(let e in r)if(e===`class`)t.class!==r.class&&(t.class=ge([t.class,r.class]));else if(e===`style`)t.style=de([t.style,r.style]);else if(a(e)){let n=t[e],i=r[e];i&&n!==i&&!(d(n)&&n.includes(i))&&(t[e]=n?[].concat(n,i):i)}else e!==``&&(t[e]=r[e])}return t}function da(e,t,n,r=null){mn(e,t,7,[n,r])}var fa=Rr(),pa=0;function ma(e,n,r){let i=e.type,a=(n?n.appContext:e.appContext)||fa,o={uid:pa++,vnode:e,type:i,parent:n,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Oe(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:n?n.provides:Object.create(a.provides),ids:n?n.ids:[``,0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:$r(i,a),emitsOptions:Oi(i,a),emit:null,emitted:null,propsDefaults:t,inheritAttrs:i.inheritAttrs,ctx:t,data:t,props:t,attrs:t,slots:t,refs:t,setupState:t,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=n?n.root:o,o.emit=Ei.bind(null,o),e.ce&&e.ce(o),o}var ha=null,ga=()=>ha||Nn,_a,va;{let e=ue(),t=(t,n)=>{let r;return(r=e[t])||(r=e[t]=[]),r.push(n),e=>{r.length>1?r.forEach(t=>t(e)):r[0](e)}};_a=t(`__VUE_INSTANCE_SETTERS__`,e=>ha=e),va=t(`__VUE_SSR_SETTERS__`,e=>Sa=e)}var ya=e=>{let t=ha;return _a(e),e.scope.on(),()=>{e.scope.off(),_a(t)}},ba=()=>{ha&&ha.scope.off(),_a(null)};function xa(e){return e.vnode.shapeFlag&4}var Sa=!1;function Ca(e,t=!1,n=!1){t&&va(t);let{props:r,children:i}=e.vnode,a=xa(e);Jr(e,r,a,t),si(e,i,n||t);let o=a?wa(e,t):void 0;return t&&va(!1),o}function wa(e,t){let n=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,xr);let{setup:r}=n;if(r){Je();let n=e.setupContext=r.length>1?Aa(e):null,i=ya(e),a=pn(r,e,0,[e.props,n]),o=y(a);if(Ye(),i(),(o||e.sp)&&!Jn(e)&&Wn(e),o){if(a.then(ba,ba),t)return a.then(n=>{Ta(e,n,t)}).catch(t=>{hn(t,e,0)});e.asyncDep=a}else Ta(e,a,t)}else Oa(e,t)}function Ta(e,t,n){h(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:v(t)&&(e.setupState=tn(t)),Oa(e,n)}var Ea,Da;function Oa(e,t,n){let i=e.type;if(!e.render){if(!t&&Ea&&!i.render){let t=i.template||Or(e).template;if(t){let{isCustomElement:n,compilerOptions:r}=e.appContext.config,{delimiters:a,compilerOptions:o}=i;i.render=Ea(t,s(s({isCustomElement:n,delimiters:a},r),o))}}e.render=i.render||r,Da&&Da(e)}{let t=ya(e);Je();try{wr(e)}finally{Ye(),t()}}}var ka={get(e,t){return k(e,`get`,``),e[t]}};function Aa(e){return{attrs:new Proxy(e.attrs,ka),slots:e.slots,emit:e.emit,expose:t=>{e.exposed=t||{}}}}function ja(e){return e.exposed?e.exposeProxy||=new Proxy(tn(qt(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in yr)return yr[n](e)},has(e,t){return t in e||t in yr}}):e.proxy}function Ma(e,t=!0){return h(e)?e.displayName||e.name:e.name||t&&e.__name}function Na(e){return h(e)&&`__vccOpts`in e}var Pa=(e,t)=>sn(e,t,Sa);function Fa(e,t,n){try{qi(-1);let r=arguments.length;return r===2?v(t)&&!d(t)?Zi(t)?ta(e,null,[t]):ta(e,t):ta(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Zi(n)&&(n=[n]),ta(e,t,n))}finally{qi(1)}}var Ia=`3.5.24`,La=void 0,Ra=typeof window<`u`&&window.trustedTypes;if(Ra)try{La=Ra.createPolicy(`vue`,{createHTML:e=>e})}catch{}var za=La?e=>La.createHTML(e):e=>e,Ba=`http://www.w3.org/2000/svg`,Va=`http://www.w3.org/1998/Math/MathML`,Ha=typeof document<`u`?document:null,Ua=Ha&&Ha.createElement(`template`),Wa={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{let t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{let i=t===`svg`?Ha.createElementNS(Ba,e):t===`mathml`?Ha.createElementNS(Va,e):n?Ha.createElement(e,{is:n}):Ha.createElement(e);return e===`select`&&r&&r.multiple!=null&&i.setAttribute(`multiple`,r.multiple),i},createText:e=>Ha.createTextNode(e),createComment:e=>Ha.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ha.querySelector(e),setScopeId(e,t){e.setAttribute(t,``)},insertStaticContent(e,t,n,r,i,a){let o=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===a||!(i=i.nextSibling)););else{Ua.innerHTML=za(r===`svg`?`<svg>${e}</svg>`:r===`mathml`?`<math>${e}</math>`:e);let i=Ua.content;if(r===`svg`||r===`mathml`){let e=i.firstChild;for(;e.firstChild;)i.appendChild(e.firstChild);i.removeChild(e)}t.insertBefore(i,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},Ga=Symbol(`_vtc`);function Ka(e,t,n){let r=e[Ga];r&&(t=(t?[t,...r]:[...r]).join(` `)),t==null?e.removeAttribute(`class`):n?e.setAttribute(`class`,t):e.className=t}var qa=Symbol(`_vod`),Ja=Symbol(`_vsh`),Ya=Symbol(``),Xa=/(?:^|;)\s*display\s*:/;function Za(e,t,n){let r=e.style,i=g(n),a=!1;if(n&&!i){if(t)if(g(t))for(let e of t.split(`;`)){let t=e.slice(0,e.indexOf(`:`)).trim();n[t]??$a(r,t,``)}else for(let e in t)n[e]??$a(r,e,``);for(let e in n)e===`display`&&(a=!0),$a(r,e,n[e])}else if(i){if(t!==n){let e=r[Ya];e&&(n+=`;`+e),r.cssText=n,a=Xa.test(n)}}else t&&e.removeAttribute(`style`);qa in e&&(e[qa]=a?r.display:``,e[Ja]&&(r.display=`none`))}var Qa=/\s*!important$/;function $a(e,t,n){if(d(n))n.forEach(n=>$a(e,t,n));else if(n??=``,t.startsWith(`--`))e.setProperty(t,n);else{let r=no(e,t);Qa.test(n)?e.setProperty(E(r),n.replace(Qa,``),`important`):e[r]=n}}var eo=[`Webkit`,`Moz`,`ms`],to={};function no(e,t){let n=to[t];if(n)return n;let r=T(t);if(r!==`filter`&&r in e)return to[t]=r;r=ie(r);for(let n=0;n<eo.length;n++){let i=eo[n]+r;if(i in e)return to[t]=i}return t}var ro=`http://www.w3.org/1999/xlink`;function io(e,t,n,r,i,a=ve(t)){r&&t.startsWith(`xlink:`)?n==null?e.removeAttributeNS(ro,t.slice(6,t.length)):e.setAttributeNS(ro,t,n):n==null||a&&!ye(n)?e.removeAttribute(t):e.setAttribute(t,a?``:_(n)?String(n):n)}function ao(e,t,n,r,i){if(t===`innerHTML`||t===`textContent`){n!=null&&(e[t]=t===`innerHTML`?za(n):n);return}let a=e.tagName;if(t===`value`&&a!==`PROGRESS`&&!a.includes(`-`)){let r=a===`OPTION`?e.getAttribute(`value`)||``:e.value,i=n==null?e.type===`checkbox`?`on`:``:String(n);(r!==i||!(`_value`in e))&&(e.value=i),n??e.removeAttribute(t),e._value=n;return}let o=!1;if(n===``||n==null){let r=typeof e[t];r===`boolean`?n=ye(n):n==null&&r===`string`?(n=``,o=!0):r===`number`&&(n=0,o=!0)}try{e[t]=n}catch{}o&&e.removeAttribute(i||t)}function oo(e,t,n,r){e.addEventListener(t,n,r)}function so(e,t,n,r){e.removeEventListener(t,n,r)}var co=Symbol(`_vei`);function lo(e,t,n,r,i=null){let a=e[co]||(e[co]={}),o=a[t];if(r&&o)o.value=r;else{let[n,s]=fo(t);r?oo(e,n,a[t]=go(r,i),s):o&&(so(e,n,o,s),a[t]=void 0)}}var uo=/(?:Once|Passive|Capture)$/;function fo(e){let t;if(uo.test(e)){t={};let n;for(;n=e.match(uo);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}return[e[2]===`:`?e.slice(3):E(e.slice(2)),t]}var po=0,mo=Promise.resolve(),ho=()=>po||=(mo.then(()=>po=0),Date.now());function go(e,t){let n=e=>{if(!e._vts)e._vts=Date.now();else if(e._vts<=n.attached)return;mn(_o(e,n.value),t,5,[e])};return n.value=e,n.attached=ho(),n}function _o(e,t){if(d(t)){let n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(e=>t=>!t._stopped&&e&&e(t))}else return t}var vo=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,yo=(e,t,n,r,i,s)=>{let c=i===`svg`;t===`class`?Ka(e,r,c):t===`style`?Za(e,n,r):a(t)?o(t)||lo(e,t,n,r,s):(t[0]===`.`?(t=t.slice(1),!0):t[0]===`^`?(t=t.slice(1),!1):bo(e,t,r,c))?(ao(e,t,r),!e.tagName.includes(`-`)&&(t===`value`||t===`checked`||t===`selected`)&&io(e,t,r,c,s,t!==`value`)):e._isVueCE&&(/[A-Z]/.test(t)||!g(r))?ao(e,T(t),r,s,t):(t===`true-value`?e._trueValue=r:t===`false-value`&&(e._falseValue=r),io(e,t,r,c))};function bo(e,t,n,r){if(r)return!!(t===`innerHTML`||t===`textContent`||t in e&&vo(t)&&h(n));if(t===`spellcheck`||t===`draggable`||t===`translate`||t===`autocorrect`||t===`sandbox`&&e.tagName===`IFRAME`||t===`form`||t===`list`&&e.tagName===`INPUT`||t===`type`&&e.tagName===`TEXTAREA`)return!1;if(t===`width`||t===`height`){let t=e.tagName;if(t===`IMG`||t===`VIDEO`||t===`CANVAS`||t===`SOURCE`)return!1}return vo(t)&&g(n)?!1:t in e}var xo=e=>{let t=e.props[`onUpdate:modelValue`]||!1;return d(t)?e=>se(t,e):t};function So(e){e.target.composing=!0}function Co(e){let t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event(`input`)))}var wo=Symbol(`_assign`);function To(e,t,n){return t&&(e=e.trim()),n&&(e=ce(e)),e}var Eo={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e[wo]=xo(i);let a=r||i.props&&i.props.type===`number`;oo(e,t?`change`:`input`,t=>{t.target.composing||e[wo](To(e.value,n,a))}),(n||a)&&oo(e,`change`,()=>{e.value=To(e.value,n,a)}),t||(oo(e,`compositionstart`,So),oo(e,`compositionend`,Co),oo(e,`change`,Co))},mounted(e,{value:t}){e.value=t??``},beforeUpdate(e,{value:t,oldValue:n,modifiers:{lazy:r,trim:i,number:a}},o){if(e[wo]=xo(o),e.composing)return;let s=(a||e.type===`number`)&&!/^0\d/.test(e.value)?ce(e.value):e.value,c=t??``;s!==c&&(document.activeElement===e&&e.type!==`range`&&(r&&t===n||i&&e.value.trim()===c)||(e.value=c))}},Do={deep:!0,created(e,{value:t,modifiers:{number:n}},r){let i=p(t);oo(e,`change`,()=>{let t=Array.prototype.filter.call(e.options,e=>e.selected).map(e=>n?ce(ko(e)):ko(e));e[wo](e.multiple?i?new Set(t):t:t[0]),e._assigning=!0,wn(()=>{e._assigning=!1})}),e[wo]=xo(r)},mounted(e,{value:t}){Oo(e,t)},beforeUpdate(e,t,n){e[wo]=xo(n)},updated(e,{value:t}){e._assigning||Oo(e,t)}};function Oo(e,t){let n=e.multiple,r=d(t);if(!(n&&!r&&!p(t))){for(let i=0,a=e.options.length;i<a;i++){let a=e.options[i],o=ko(a);if(n)if(r){let e=typeof o;e===`string`||e===`number`?a.selected=t.some(e=>String(e)===String(o)):a.selected=Se(t,o)>-1}else a.selected=t.has(o);else if(xe(ko(a),t)){e.selectedIndex!==i&&(e.selectedIndex=i);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function ko(e){return`_value`in e?e._value:e.value}var Ao=s({patchProp:yo},Wa),jo;function Mo(){return jo||=ui(Ao)}var No=((...e)=>{let t=Mo().createApp(...e),{mount:n}=t;return t.mount=e=>{let r=Fo(e);if(!r)return;let i=t._component;!h(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.nodeType===1&&(r.textContent=``);let a=n(r,!1,Po(r));return r instanceof Element&&(r.removeAttribute(`v-cloak`),r.setAttribute(`data-v-app`,``)),a},t});function Po(e){if(e instanceof SVGElement)return`svg`;if(typeof MathMLElement==`function`&&e instanceof MathMLElement)return`mathml`}function Fo(e){return g(e)?document.querySelector(e):e}var Io=typeof window<`u`,Lo,Ro=e=>Lo=e,zo=Symbol();function Bo(e){return e&&typeof e==`object`&&Object.prototype.toString.call(e)===`[object Object]`&&typeof e.toJSON!=`function`}var Vo;(function(e){e.direct=`direct`,e.patchObject=`patch object`,e.patchFunction=`patch function`})(Vo||={});var Ho=(()=>typeof window==`object`&&window.window===window?window:typeof self==`object`&&self.self===self?self:typeof global==`object`&&global.global===global?global:typeof globalThis==`object`?globalThis:{HTMLElement:null})();function Uo(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([``,e],{type:e.type}):e}function Wo(e,t,n){let r=new XMLHttpRequest;r.open(`GET`,e),r.responseType=`blob`,r.onload=function(){Yo(r.response,t,n)},r.onerror=function(){console.error(`could not download file`)},r.send()}function Go(e){let t=new XMLHttpRequest;t.open(`HEAD`,e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Ko(e){try{e.dispatchEvent(new MouseEvent(`click`))}catch{let t=new MouseEvent(`click`,{bubbles:!0,cancelable:!0,view:window,detail:0,screenX:80,screenY:20,clientX:80,clientY:20,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:null});e.dispatchEvent(t)}}var qo=typeof navigator==`object`?navigator:{userAgent:``},Jo=(()=>/Macintosh/.test(qo.userAgent)&&/AppleWebKit/.test(qo.userAgent)&&!/Safari/.test(qo.userAgent))(),Yo=Io?typeof HTMLAnchorElement<`u`&&`download`in HTMLAnchorElement.prototype&&!Jo?Xo:`msSaveOrOpenBlob`in qo?Zo:Qo:()=>{};function Xo(e,t=`download`,n){let r=document.createElement(`a`);r.download=t,r.rel=`noopener`,typeof e==`string`?(r.href=e,r.origin===location.origin?Ko(r):Go(r.href)?Wo(e,t,n):(r.target=`_blank`,Ko(r))):(r.href=URL.createObjectURL(e),setTimeout(function(){URL.revokeObjectURL(r.href)},4e4),setTimeout(function(){Ko(r)},0))}function Zo(e,t=`download`,n){if(typeof e==`string`)if(Go(e))Wo(e,t,n);else{let t=document.createElement(`a`);t.href=e,t.target=`_blank`,setTimeout(function(){Ko(t)})}else navigator.msSaveOrOpenBlob(Uo(e,n),t)}function Qo(e,t,n,r){if(r||=open(``,`_blank`),r&&(r.document.title=r.document.body.innerText=`downloading...`),typeof e==`string`)return Wo(e,t,n);let i=e.type===`application/octet-stream`,a=/constructor/i.test(String(Ho.HTMLElement))||`safari`in Ho,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&a||Jo)&&typeof FileReader<`u`){let t=new FileReader;t.onloadend=function(){let e=t.result;if(typeof e!=`string`)throw r=null,Error(`Wrong reader.result type`);e=o?e:e.replace(/^data:[^;]*;/,`data:attachment/file;`),r?r.location.href=e:location.assign(e),r=null},t.readAsDataURL(e)}else{let t=URL.createObjectURL(e);r?r.location.assign(t):location.href=t,r=null,setTimeout(function(){URL.revokeObjectURL(t)},4e4)}}var{assign:$o}=Object;function es(){let e=ke(!0),t=e.run(()=>Yt({})),n=[],r=[],i=qt({install(e){Ro(i),i._a=e,e.provide(zo,i),e.config.globalProperties.$pinia=i,r.forEach(e=>n.push(e)),r=[]},use(e){return this._a?n.push(e):r.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}var ts=()=>{};function ns(e,t,n,r=ts){e.add(t);let i=()=>{e.delete(t)&&r()};return!n&&Ae()&&je(i),i}function rs(e,...t){e.forEach(e=>{e(...t)})}var is=e=>e(),as=Symbol(),os=Symbol();function ss(e,t){for(let n in e instanceof Map&&t instanceof Map?t.forEach((t,n)=>e.set(n,t)):e instanceof Set&&t instanceof Set&&t.forEach(e.add,e),t){if(!t.hasOwnProperty(n))continue;let r=t[n],i=e[n];Bo(i)&&Bo(r)&&e.hasOwnProperty(n)&&!N(r)&&!Ut(r)?e[n]=ss(i,r):e[n]=r}return e}var cs=Symbol();function ls(e){return!Bo(e)||!Object.prototype.hasOwnProperty.call(e,cs)}var{assign:us}=Object;function ds(e){return!!(N(e)&&e.effect)}function fs(e,t,n,r){let{state:i,actions:a,getters:o}=t,s=n.state.value[e],c;function l(){return s||(n.state.value[e]=i?i():{}),us(nn(n.state.value[e]),a,Object.keys(o||{}).reduce((t,r)=>(t[r]=qt(Pa(()=>{Ro(n);let t=n._s.get(e);return o[r].call(t,t)})),t),{}))}return c=ps(e,l,t,n,r,!0),c}function ps(e,t,n={},r,i,a){let o,s=us({actions:{}},n),c={deep:!0},l,u,d=new Set,f=new Set,p=r.state.value[e];!a&&!p&&(r.state.value[e]={}),Yt({});let m;function h(t){let n;l=u=!1,typeof t==`function`?(t(r.state.value[e]),n={type:Vo.patchFunction,storeId:e,events:void 0}):(ss(r.state.value[e],t),n={type:Vo.patchObject,payload:t,storeId:e,events:void 0});let i=m=Symbol();wn().then(()=>{m===i&&(l=!0)}),u=!0,rs(d,n,r.state.value[e])}let g=a?function(){let{state:e}=n,t=e?e():{};this.$patch(e=>{us(e,t)})}:ts;function _(){o.stop(),d.clear(),f.clear(),r._s.delete(e)}let v=(t,n=``)=>{if(as in t)return t[os]=n,t;let i=function(){Ro(r);let n=Array.from(arguments),a=new Set,o=new Set;function s(e){a.add(e)}function c(e){o.add(e)}rs(f,{args:n,name:i[os],store:y,after:s,onError:c});let l;try{l=t.apply(this&&this.$id===e?this:y,n)}catch(e){throw rs(o,e),e}return l instanceof Promise?l.then(e=>(rs(a,e),e)).catch(e=>(rs(o,e),Promise.reject(e))):(rs(a,l),l)};return i[as]=!0,i[os]=n,i},y=A({_p:r,$id:e,$onAction:ns.bind(null,f),$patch:h,$reset:g,$subscribe(t,n={}){let i=ns(d,t,n.detached,()=>a()),a=o.run(()=>xi(()=>r.state.value[e],r=>{(n.flush===`sync`?u:l)&&t({storeId:e,type:Vo.direct,events:void 0},r)},us({},c,n)));return i},$dispose:_});r._s.set(e,y);let b=(r._a&&r._a.runWithContext||is)(()=>r._e.run(()=>(o=ke()).run(()=>t({action:v}))));for(let t in b){let n=b[t];N(n)&&!ds(n)||Ut(n)?a||(p&&ls(n)&&(N(n)?n.value=p[t]:ss(n,p[t])),r.state.value[e][t]=n):typeof n==`function`&&(b[t]=v(n,t),s.actions[t]=n)}return us(y,b),us(j(y),b),Object.defineProperty(y,`$state`,{get:()=>r.state.value[e],set:e=>{h(t=>{us(t,e)})}}),r._p.forEach(e=>{us(y,o.run(()=>e({store:y,app:r._a,pinia:r,options:s})))}),p&&a&&n.hydrate&&n.hydrate(y.$state,p),l=!0,u=!0,y}function ms(e,t,n){let r,i=typeof t==`function`;r=i?n:t;function a(n,a){let o=Wr();return n||=o?Ur(zo,null):null,n&&Ro(n),n=Lo,n._s.has(e)||(i?ps(e,t,r,n):fs(e,r,n)),n._s.get(e)}return a.$id=e,a}var hs=(e,t)=>{let n=e.__vccOpts||e;for(let[e,r]of t)n[e]=r;return n},gs={},_s={id:`app`};function vs(e,t){let n=pr(`router-view`);return Wi(),Yi(`div`,_s,[ta(n)])}var ys=hs(gs,[[`render`,vs]]),bs=typeof document<`u`;function xs(e){return typeof e==`object`||`displayName`in e||`props`in e||`__vccOpts`in e}function Ss(e){return e.__esModule||e[Symbol.toStringTag]===`Module`||e.default&&xs(e.default)}var I=Object.assign;function Cs(e,t){let n={};for(let r in t){let i=t[r];n[r]=Ts(i)?i.map(e):e(i)}return n}var ws=()=>{},Ts=Array.isArray;function Es(e,t){let n={};for(let r in e)n[r]=r in t?t[r]:e[r];return n}var Ds=/#/g,Os=/&/g,ks=/\//g,As=/=/g,js=/\?/g,Ms=/\+/g,Ns=/%5B/g,Ps=/%5D/g,Fs=/%5E/g,Is=/%60/g,Ls=/%7B/g,Rs=/%7C/g,zs=/%7D/g,Bs=/%20/g;function Vs(e){return e==null?``:encodeURI(``+e).replace(Rs,`|`).replace(Ns,`[`).replace(Ps,`]`)}function Hs(e){return Vs(e).replace(Ls,`{`).replace(zs,`}`).replace(Fs,`^`)}function Us(e){return Vs(e).replace(Ms,`%2B`).replace(Bs,`+`).replace(Ds,`%23`).replace(Os,`%26`).replace(Is,"`").replace(Ls,`{`).replace(zs,`}`).replace(Fs,`^`)}function Ws(e){return Us(e).replace(As,`%3D`)}function Gs(e){return Vs(e).replace(Ds,`%23`).replace(js,`%3F`)}function Ks(e){return Gs(e).replace(ks,`%2F`)}function qs(e){if(e==null)return null;try{return decodeURIComponent(``+e)}catch{}return``+e}var Js=/\/$/,Ys=e=>e.replace(Js,``);function Xs(e,t,n=`/`){let r,i={},a=``,o=``,s=t.indexOf(`#`),c=t.indexOf(`?`);return c=s>=0&&c>s?-1:c,c>=0&&(r=t.slice(0,c),a=t.slice(c,s>0?s:t.length),i=e(a.slice(1))),s>=0&&(r||=t.slice(0,s),o=t.slice(s,t.length)),r=ic(r??t,n),{fullPath:r+a+o,path:r,query:i,hash:qs(o)}}function Zs(e,t){let n=t.query?e(t.query):``;return t.path+(n&&`?`)+n+(t.hash||``)}function Qs(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||`/`}function $s(e,t,n){let r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&ec(t.matched[r],n.matched[i])&&tc(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function ec(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function tc(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let n in e)if(!nc(e[n],t[n]))return!1;return!0}function nc(e,t){return Ts(e)?rc(e,t):Ts(t)?rc(t,e):e===t}function rc(e,t){return Ts(t)?e.length===t.length&&e.every((e,n)=>e===t[n]):e.length===1&&e[0]===t}function ic(e,t){if(e.startsWith(`/`))return e;if(!e)return t;let n=t.split(`/`),r=e.split(`/`),i=r[r.length-1];(i===`..`||i===`.`)&&r.push(``);let a=n.length-1,o,s;for(o=0;o<r.length;o++)if(s=r[o],s!==`.`)if(s===`..`)a>1&&a--;else break;return n.slice(0,a).join(`/`)+`/`+r.slice(o).join(`/`)}var ac={path:`/`,name:void 0,params:{},query:{},hash:``,fullPath:`/`,matched:[],meta:{},redirectedFrom:void 0},oc=function(e){return e.pop=`pop`,e.push=`push`,e}({}),sc=function(e){return e.back=`back`,e.forward=`forward`,e.unknown=``,e}({});function cc(e){if(!e)if(bs){let t=document.querySelector(`base`);e=t&&t.getAttribute(`href`)||`/`,e=e.replace(/^\w+:\/\/[^\/]+/,``)}else e=`/`;return e[0]!==`/`&&e[0]!==`#`&&(e=`/`+e),Ys(e)}var lc=/^[^#]+#/;function uc(e,t){return e.replace(lc,`#`)+t}function dc(e,t){let n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}var fc=()=>({left:window.scrollX,top:window.scrollY});function pc(e){let t;if(`el`in e){let n=e.el,r=typeof n==`string`&&n.startsWith(`#`),i=typeof n==`string`?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=dc(i,e)}else t=e;`scrollBehavior`in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left==null?window.scrollX:t.left,t.top==null?window.scrollY:t.top)}function mc(e,t){return(history.state?history.state.position-t:-1)+e}var hc=new Map;function gc(e,t){hc.set(e,t)}function _c(e){let t=hc.get(e);return hc.delete(e),t}function vc(e){return typeof e==`string`||e&&typeof e==`object`}function yc(e){return typeof e==`string`||typeof e==`symbol`}var L=function(e){return e[e.MATCHER_NOT_FOUND=1]=`MATCHER_NOT_FOUND`,e[e.NAVIGATION_GUARD_REDIRECT=2]=`NAVIGATION_GUARD_REDIRECT`,e[e.NAVIGATION_ABORTED=4]=`NAVIGATION_ABORTED`,e[e.NAVIGATION_CANCELLED=8]=`NAVIGATION_CANCELLED`,e[e.NAVIGATION_DUPLICATED=16]=`NAVIGATION_DUPLICATED`,e}({}),bc=Symbol(``);L.MATCHER_NOT_FOUND,L.NAVIGATION_GUARD_REDIRECT,L.NAVIGATION_ABORTED,L.NAVIGATION_CANCELLED,L.NAVIGATION_DUPLICATED;function xc(e,t){return I(Error(),{type:e,[bc]:!0},t)}function Sc(e,t){return e instanceof Error&&bc in e&&(t==null||!!(e.type&t))}function Cc(e){let t={};if(e===``||e===`?`)return t;let n=(e[0]===`?`?e.slice(1):e).split(`&`);for(let e=0;e<n.length;++e){let r=n[e].replace(Ms,` `),i=r.indexOf(`=`),a=qs(i<0?r:r.slice(0,i)),o=i<0?null:qs(r.slice(i+1));if(a in t){let e=t[a];Ts(e)||(e=t[a]=[e]),e.push(o)}else t[a]=o}return t}function wc(e){let t=``;for(let n in e){let r=e[n];if(n=Ws(n),r==null){r!==void 0&&(t+=(t.length?`&`:``)+n);continue}(Ts(r)?r.map(e=>e&&Us(e)):[r&&Us(r)]).forEach(e=>{e!==void 0&&(t+=(t.length?`&`:``)+n,e!=null&&(t+=`=`+e))})}return t}function Tc(e){let t={};for(let n in e){let r=e[n];r!==void 0&&(t[n]=Ts(r)?r.map(e=>e==null?null:``+e):r==null?r:``+r)}return t}var Ec=Symbol(``),Dc=Symbol(``),Oc=Symbol(``),kc=Symbol(``),Ac=Symbol(``);function jc(){let e=[];function t(t){return e.push(t),()=>{let n=e.indexOf(t);n>-1&&e.splice(n,1)}}function n(){e=[]}return{add:t,list:()=>e.slice(),reset:n}}function Mc(e,t,n,r,i,a=e=>e()){let o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((s,c)=>{let l=e=>{e===!1?c(xc(L.NAVIGATION_ABORTED,{from:n,to:t})):e instanceof Error?c(e):vc(e)?c(xc(L.NAVIGATION_GUARD_REDIRECT,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&typeof e==`function`&&o.push(e),s())},u=a(()=>e.call(r&&r.instances[i],t,n,l)),d=Promise.resolve(u);e.length<3&&(d=d.then(l)),d.catch(e=>c(e))})}function Nc(e,t,n,r,i=e=>e()){let a=[];for(let o of e)for(let e in o.components){let s=o.components[e];if(!(t!==`beforeRouteEnter`&&!o.instances[e]))if(xs(s)){let c=(s.__vccOpts||s)[t];c&&a.push(Mc(c,n,r,o,e,i))}else{let c=s();a.push(()=>c.then(a=>{if(!a)throw Error(`Couldn't resolve component "${e}" at "${o.path}"`);let s=Ss(a)?a.default:a;o.mods[e]=a,o.components[e]=s;let c=(s.__vccOpts||s)[t];return c&&Mc(c,n,r,o,e,i)()}))}}return a}function Pc(e,t){let n=[],r=[],i=[],a=Math.max(t.matched.length,e.matched.length);for(let o=0;o<a;o++){let a=t.matched[o];a&&(e.matched.find(e=>ec(e,a))?r.push(a):n.push(a));let s=e.matched[o];s&&(t.matched.find(e=>ec(e,s))||i.push(s))}return[n,r,i]}var Fc=()=>location.protocol+`//`+location.host;function Ic(e,t){let{pathname:n,search:r,hash:i}=t,a=e.indexOf(`#`);if(a>-1){let t=i.includes(e.slice(a))?e.slice(a).length:1,n=i.slice(t);return n[0]!==`/`&&(n=`/`+n),Qs(n,``)}return Qs(n,e)+r+i}function Lc(e,t,n,r){let i=[],a=[],o=null,s=({state:a})=>{let s=Ic(e,location),c=n.value,l=t.value,u=0;if(a){if(n.value=s,t.value=a,o&&o===c){o=null;return}u=l?a.position-l.position:0}else r(s);i.forEach(e=>{e(n.value,c,{delta:u,type:oc.pop,direction:u?u>0?sc.forward:sc.back:sc.unknown})})};function c(){o=n.value}function l(e){i.push(e);let t=()=>{let t=i.indexOf(e);t>-1&&i.splice(t,1)};return a.push(t),t}function u(){if(document.visibilityState===`hidden`){let{history:e}=window;if(!e.state)return;e.replaceState(I({},e.state,{scroll:fc()}),``)}}function d(){for(let e of a)e();a=[],window.removeEventListener(`popstate`,s),window.removeEventListener(`pagehide`,u),document.removeEventListener(`visibilitychange`,u)}return window.addEventListener(`popstate`,s),window.addEventListener(`pagehide`,u),document.addEventListener(`visibilitychange`,u),{pauseListeners:c,listen:l,destroy:d}}function Rc(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?fc():null}}function zc(e){let{history:t,location:n}=window,r={value:Ic(e,n)},i={value:t.state};i.value||a(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function a(r,a,o){let s=e.indexOf(`#`),c=s>-1?(n.host&&document.querySelector(`base`)?e:e.slice(s))+r:Fc()+e+r;try{t[o?`replaceState`:`pushState`](a,``,c),i.value=a}catch(e){console.error(e),n[o?`replace`:`assign`](c)}}function o(e,n){a(e,I({},t.state,Rc(i.value.back,e,i.value.forward,!0),n,{position:i.value.position}),!0),r.value=e}function s(e,n){let o=I({},i.value,t.state,{forward:e,scroll:fc()});a(o.current,o,!0),a(e,I({},Rc(r.value,e,null),{position:o.position+1},n),!1),r.value=e}return{location:r,state:i,push:s,replace:o}}function Bc(e){e=cc(e);let t=zc(e),n=Lc(e,t.state,t.location,t.replace);function r(e,t=!0){t||n.pauseListeners(),history.go(e)}let i=I({location:``,base:e,go:r,createHref:uc.bind(null,e)},t,n);return Object.defineProperty(i,`location`,{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,`state`,{enumerable:!0,get:()=>t.state.value}),i}var Vc=function(e){return e[e.Static=0]=`Static`,e[e.Param=1]=`Param`,e[e.Group=2]=`Group`,e}({}),Hc=function(e){return e[e.Static=0]=`Static`,e[e.Param=1]=`Param`,e[e.ParamRegExp=2]=`ParamRegExp`,e[e.ParamRegExpEnd=3]=`ParamRegExpEnd`,e[e.EscapeNext=4]=`EscapeNext`,e}(Hc||{}),Uc={type:Vc.Static,value:``},Wc=/[a-zA-Z0-9_]/;function Gc(e){if(!e)return[[]];if(e===`/`)return[[Uc]];if(!e.startsWith(`/`))throw Error(`Invalid path "${e}"`);function t(e){throw Error(`ERR (${n})/"${l}": ${e}`)}let n=Hc.Static,r=n,i=[],a;function o(){a&&i.push(a),a=[]}let s=0,c,l=``,u=``;function d(){l&&=(n===Hc.Static?a.push({type:Vc.Static,value:l}):n===Hc.Param||n===Hc.ParamRegExp||n===Hc.ParamRegExpEnd?(a.length>1&&(c===`*`||c===`+`)&&t(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),a.push({type:Vc.Param,value:l,regexp:u,repeatable:c===`*`||c===`+`,optional:c===`*`||c===`?`})):t(`Invalid state to consume buffer`),``)}function f(){l+=c}for(;s<e.length;){if(c=e[s++],c===`\\`&&n!==Hc.ParamRegExp){r=n,n=Hc.EscapeNext;continue}switch(n){case Hc.Static:c===`/`?(l&&d(),o()):c===`:`?(d(),n=Hc.Param):f();break;case Hc.EscapeNext:f(),n=r;break;case Hc.Param:c===`(`?n=Hc.ParamRegExp:Wc.test(c)?f():(d(),n=Hc.Static,c!==`*`&&c!==`?`&&c!==`+`&&s--);break;case Hc.ParamRegExp:c===`)`?u[u.length-1]==`\\`?u=u.slice(0,-1)+c:n=Hc.ParamRegExpEnd:u+=c;break;case Hc.ParamRegExpEnd:d(),n=Hc.Static,c!==`*`&&c!==`?`&&c!==`+`&&s--,u=``;break;default:t(`Unknown state`);break}}return n===Hc.ParamRegExp&&t(`Unfinished custom RegExp for param "${l}"`),d(),o(),i}var Kc=`[^/]+?`,qc={sensitive:!1,strict:!1,start:!0,end:!0},Jc=function(e){return e[e._multiplier=10]=`_multiplier`,e[e.Root=90]=`Root`,e[e.Segment=40]=`Segment`,e[e.SubSegment=30]=`SubSegment`,e[e.Static=40]=`Static`,e[e.Dynamic=20]=`Dynamic`,e[e.BonusCustomRegExp=10]=`BonusCustomRegExp`,e[e.BonusWildcard=-50]=`BonusWildcard`,e[e.BonusRepeatable=-20]=`BonusRepeatable`,e[e.BonusOptional=-8]=`BonusOptional`,e[e.BonusStrict=.7000000000000001]=`BonusStrict`,e[e.BonusCaseSensitive=.25]=`BonusCaseSensitive`,e}(Jc||{}),Yc=/[.+*?^${}()[\]/\\]/g;function Xc(e,t){let n=I({},qc,t),r=[],i=n.start?`^`:``,a=[];for(let t of e){let e=t.length?[]:[Jc.Root];n.strict&&!t.length&&(i+=`/`);for(let r=0;r<t.length;r++){let o=t[r],s=Jc.Segment+(n.sensitive?Jc.BonusCaseSensitive:0);if(o.type===Vc.Static)r||(i+=`/`),i+=o.value.replace(Yc,`\\$&`),s+=Jc.Static;else if(o.type===Vc.Param){let{value:e,repeatable:n,optional:c,regexp:l}=o;a.push({name:e,repeatable:n,optional:c});let u=l||Kc;if(u!==Kc){s+=Jc.BonusCustomRegExp;try{`${u}`}catch(t){throw Error(`Invalid custom RegExp for param "${e}" (${u}): `+t.message)}}let d=n?`((?:${u})(?:/(?:${u}))*)`:`(${u})`;r||(d=c&&t.length<2?`(?:/${d})`:`/`+d),c&&(d+=`?`),i+=d,s+=Jc.Dynamic,c&&(s+=Jc.BonusOptional),n&&(s+=Jc.BonusRepeatable),u===`.*`&&(s+=Jc.BonusWildcard)}e.push(s)}r.push(e)}if(n.strict&&n.end){let e=r.length-1;r[e][r[e].length-1]+=Jc.BonusStrict}n.strict||(i+=`/?`),n.end?i+=`$`:n.strict&&!i.endsWith(`/`)&&(i+=`(?:/|$)`);let o=new RegExp(i,n.sensitive?``:`i`);function s(e){let t=e.match(o),n={};if(!t)return null;for(let e=1;e<t.length;e++){let r=t[e]||``,i=a[e-1];n[i.name]=r&&i.repeatable?r.split(`/`):r}return n}function c(t){let n=``,r=!1;for(let i of e){(!r||!n.endsWith(`/`))&&(n+=`/`),r=!1;for(let e of i)if(e.type===Vc.Static)n+=e.value;else if(e.type===Vc.Param){let{value:a,repeatable:o,optional:s}=e,c=a in t?t[a]:``;if(Ts(c)&&!o)throw Error(`Provided param "${a}" is an array but it is not repeatable (* or + modifiers)`);let l=Ts(c)?c.join(`/`):c;if(!l)if(s)i.length<2&&(n.endsWith(`/`)?n=n.slice(0,-1):r=!0);else throw Error(`Missing required param "${a}"`);n+=l}}return n||`/`}return{re:o,score:r,keys:a,parse:s,stringify:c}}function Zc(e,t){let n=0;for(;n<e.length&&n<t.length;){let r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===Jc.Static+Jc.Segment?-1:1:e.length>t.length?t.length===1&&t[0]===Jc.Static+Jc.Segment?1:-1:0}function Qc(e,t){let n=0,r=e.score,i=t.score;for(;n<r.length&&n<i.length;){let e=Zc(r[n],i[n]);if(e)return e;n++}if(Math.abs(i.length-r.length)===1){if($c(r))return 1;if($c(i))return-1}return i.length-r.length}function $c(e){let t=e[e.length-1];return e.length>0&&t[t.length-1]<0}var el={strict:!1,end:!0,sensitive:!1};function tl(e,t,n){let r=I(Xc(Gc(e.path),n),{record:e,parent:t,children:[],alias:[]});return t&&!r.record.aliasOf==!t.record.aliasOf&&t.children.push(r),r}function nl(e,t){let n=[],r=new Map;t=Es(el,t);function i(e){return r.get(e)}function a(e,n,r){let i=!r,s=il(e);s.aliasOf=r&&r.record;let l=Es(t,e),u=[s];if(`alias`in e){let t=typeof e.alias==`string`?[e.alias]:e.alias;for(let e of t)u.push(il(I({},s,{components:r?r.record.components:s.components,path:e,aliasOf:r?r.record:s})))}let d,f;for(let t of u){let{path:u}=t;if(n&&u[0]!==`/`){let e=n.record.path,r=e[e.length-1]===`/`?``:`/`;t.path=n.record.path+(u&&r+u)}if(d=tl(t,n,l),r?r.alias.push(d):(f||=d,f!==d&&f.alias.push(d),i&&e.name&&!ol(d)&&o(e.name)),ul(d)&&c(d),s.children){let e=s.children;for(let t=0;t<e.length;t++)a(e[t],d,r&&r.children[t])}r||=d}return f?()=>{o(f)}:ws}function o(e){if(yc(e)){let t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(o),t.alias.forEach(o))}else{let t=n.indexOf(e);t>-1&&(n.splice(t,1),e.record.name&&r.delete(e.record.name),e.children.forEach(o),e.alias.forEach(o))}}function s(){return n}function c(e){let t=cl(e,n);n.splice(t,0,e),e.record.name&&!ol(e)&&r.set(e.record.name,e)}function l(e,t){let i,a={},o,s;if(`name`in e&&e.name){if(i=r.get(e.name),!i)throw xc(L.MATCHER_NOT_FOUND,{location:e});s=i.record.name,a=I(rl(t.params,i.keys.filter(e=>!e.optional).concat(i.parent?i.parent.keys.filter(e=>e.optional):[]).map(e=>e.name)),e.params&&rl(e.params,i.keys.map(e=>e.name))),o=i.stringify(a)}else if(e.path!=null)o=e.path,i=n.find(e=>e.re.test(o)),i&&(a=i.parse(o),s=i.record.name);else{if(i=t.name?r.get(t.name):n.find(e=>e.re.test(t.path)),!i)throw xc(L.MATCHER_NOT_FOUND,{location:e,currentLocation:t});s=i.record.name,a=I({},t.params,e.params),o=i.stringify(a)}let c=[],l=i;for(;l;)c.unshift(l.record),l=l.parent;return{name:s,path:o,params:a,matched:c,meta:sl(c)}}e.forEach(e=>a(e));function u(){n.length=0,r.clear()}return{addRoute:a,resolve:l,removeRoute:o,clearRoutes:u,getRoutes:s,getRecordMatcher:i}}function rl(e,t){let n={};for(let r of t)r in e&&(n[r]=e[r]);return n}function il(e){let t={path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:e.aliasOf,beforeEnter:e.beforeEnter,props:al(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:`components`in e?e.components||null:e.component&&{default:e.component}};return Object.defineProperty(t,`mods`,{value:{}}),t}function al(e){let t={},n=e.props||!1;if(`component`in e)t.default=n;else for(let r in e.components)t[r]=typeof n==`object`?n[r]:n;return t}function ol(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function sl(e){return e.reduce((e,t)=>I(e,t.meta),{})}function cl(e,t){let n=0,r=t.length;for(;n!==r;){let i=n+r>>1;Qc(e,t[i])<0?r=i:n=i+1}let i=ll(e);return i&&(r=t.lastIndexOf(i,r-1)),r}function ll(e){let t=e;for(;t=t.parent;)if(ul(t)&&Qc(e,t)===0)return t}function ul({record:e}){return!!(e.name||e.components&&Object.keys(e.components).length||e.redirect)}function dl(e){let t=Ur(Oc),n=Ur(kc),r=Pa(()=>{let n=$t(e.to);return t.resolve(n)}),i=Pa(()=>{let{matched:e}=r.value,{length:t}=e,i=e[t-1],a=n.matched;if(!i||!a.length)return-1;let o=a.findIndex(ec.bind(null,i));if(o>-1)return o;let s=gl(e[t-2]);return t>1&&gl(i)===s&&a[a.length-1].path!==s?a.findIndex(ec.bind(null,e[t-2])):o}),a=Pa(()=>i.value>-1&&hl(n.params,r.value.params)),o=Pa(()=>i.value>-1&&i.value===n.matched.length-1&&tc(n.params,r.value.params));function s(n={}){if(ml(n)){let n=t[$t(e.replace)?`replace`:`push`]($t(e.to)).catch(ws);return e.viewTransition&&typeof document<`u`&&`startViewTransition`in document&&document.startViewTransition(()=>n),n}return Promise.resolve()}return{route:r,href:Pa(()=>r.value.href),isActive:a,isExactActive:o,navigate:s}}function fl(e){return e.length===1?e[0]:e}var pl=Un({name:`RouterLink`,compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:`page`},viewTransition:Boolean},useLink:dl,setup(e,{slots:t}){let n=A(dl(e)),{options:r}=Ur(Oc),i=Pa(()=>({[_l(e.activeClass,r.linkActiveClass,`router-link-active`)]:n.isActive,[_l(e.exactActiveClass,r.linkExactActiveClass,`router-link-exact-active`)]:n.isExactActive}));return()=>{let r=t.default&&fl(t.default(n));return e.custom?r:Fa(`a`,{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}});function ml(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){let t=e.currentTarget.getAttribute(`target`);if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function hl(e,t){for(let n in t){let r=t[n],i=e[n];if(typeof r==`string`){if(r!==i)return!1}else if(!Ts(i)||i.length!==r.length||r.some((e,t)=>e!==i[t]))return!1}return!0}function gl(e){return e?e.aliasOf?e.aliasOf.path:e.path:``}var _l=(e,t,n)=>e??t??n,vl=Un({name:`RouterView`,inheritAttrs:!1,props:{name:{type:String,default:`default`},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){let r=Ur(Ac),i=Pa(()=>e.route||r.value),a=Ur(Dc,0),o=Pa(()=>{let e=$t(a),{matched:t}=i.value,n;for(;(n=t[e])&&!n.components;)e++;return e}),s=Pa(()=>i.value.matched[o.value]);Hr(Dc,Pa(()=>o.value+1)),Hr(Ec,s),Hr(Ac,i);let c=Yt();return xi(()=>[c.value,s.value,e.name],([e,t,n],[r,i,a])=>{t&&(t.instances[n]=e,i&&i!==t&&e&&e===r&&(t.leaveGuards.size||(t.leaveGuards=i.leaveGuards),t.updateGuards.size||(t.updateGuards=i.updateGuards))),e&&t&&(!i||!ec(t,i)||!r)&&(t.enterCallbacks[n]||[]).forEach(t=>t(e))},{flush:`post`}),()=>{let r=i.value,a=e.name,o=s.value,l=o&&o.components[a];if(!l)return yl(n.default,{Component:l,route:r});let u=o.props[a],d=Fa(l,I({},u?u===!0?r.params:typeof u==`function`?u(r):u:null,t,{onVnodeUnmounted:e=>{e.component.isUnmounted&&(o.instances[a]=null)},ref:c}));return yl(n.default,{Component:d,route:r})||d}}});function yl(e,t){if(!e)return null;let n=e(t);return n.length===1?n[0]:n}var bl=vl;function xl(e){let t=nl(e.routes,e),n=e.parseQuery||Cc,r=e.stringifyQuery||wc,i=e.history,a=jc(),o=jc(),s=jc(),c=Xt(ac),l=ac;bs&&e.scrollBehavior&&`scrollRestoration`in history&&(history.scrollRestoration=`manual`);let u=Cs.bind(null,e=>``+e),d=Cs.bind(null,Ks),f=Cs.bind(null,qs);function p(e,n){let r,i;return yc(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)}function m(e){let n=t.getRecordMatcher(e);n&&t.removeRoute(n)}function h(){return t.getRoutes().map(e=>e.record)}function g(e){return!!t.getRecordMatcher(e)}function _(e,a){if(a=I({},a||c.value),typeof e==`string`){let r=Xs(n,e,a.path),o=t.resolve({path:r.path},a),s=i.createHref(r.fullPath);return I(r,o,{params:f(o.params),hash:qs(r.hash),redirectedFrom:void 0,href:s})}let o;if(e.path!=null)o=I({},e,{path:Xs(n,e.path,a.path).path});else{let t=I({},e.params);for(let e in t)t[e]??delete t[e];o=I({},e,{params:d(t)}),a.params=d(a.params)}let s=t.resolve(o,a),l=e.hash||``;s.params=u(f(s.params));let p=Zs(r,I({},e,{hash:Hs(l),path:s.path})),m=i.createHref(p);return I({fullPath:p,hash:l,query:r===wc?Tc(e.query):e.query||{}},s,{redirectedFrom:void 0,href:m})}function v(e){return typeof e==`string`?Xs(n,e,c.value.path):I({},e)}function y(e,t){if(l!==e)return xc(L.NAVIGATION_CANCELLED,{from:t,to:e})}function b(e){return C(e)}function x(e){return b(I(v(e),{replace:!0}))}function S(e,t){let n=e.matched[e.matched.length-1];if(n&&n.redirect){let{redirect:r}=n,i=typeof r==`function`?r(e,t):r;return typeof i==`string`&&(i=i.includes(`?`)||i.includes(`#`)?i=v(i):{path:i},i.params={}),I({query:e.query,hash:e.hash,params:i.path==null?e.params:{}},i)}}function C(e,t){let n=l=_(e),i=c.value,a=e.state,o=e.force,s=e.replace===!0,u=S(n,i);if(u)return C(I(v(u),{state:typeof u==`object`?I({},a,u.state):a,force:o,replace:s}),t||n);let d=n;d.redirectedFrom=t;let f;return!o&&$s(r,i,n)&&(f=xc(L.NAVIGATION_DUPLICATED,{to:d,from:i}),le(i,i,!0,!1)),(f?Promise.resolve(f):ne(d,i)).catch(e=>Sc(e)?Sc(e,L.NAVIGATION_GUARD_REDIRECT)?e:ce(e):se(e,d,i)).then(e=>{if(e){if(Sc(e,L.NAVIGATION_GUARD_REDIRECT))return C(I({replace:s},v(e.to),{state:typeof e.to==`object`?I({},a,e.to.state):a,force:o}),t||d)}else e=T(d,i,!0,s,a);return w(d,i,e),e})}function ee(e,t){let n=y(e,t);return n?Promise.reject(n):Promise.resolve()}function te(e){let t=fe.values().next().value;return t&&typeof t.runWithContext==`function`?t.runWithContext(e):e()}function ne(e,t){let n,[r,i,s]=Pc(e,t);n=Nc(r.reverse(),`beforeRouteLeave`,e,t);for(let i of r)i.leaveGuards.forEach(r=>{n.push(Mc(r,e,t))});let c=ee.bind(null,e,t);return n.push(c),me(n).then(()=>{n=[];for(let r of a.list())n.push(Mc(r,e,t));return n.push(c),me(n)}).then(()=>{n=Nc(i,`beforeRouteUpdate`,e,t);for(let r of i)r.updateGuards.forEach(r=>{n.push(Mc(r,e,t))});return n.push(c),me(n)}).then(()=>{n=[];for(let r of s)if(r.beforeEnter)if(Ts(r.beforeEnter))for(let i of r.beforeEnter)n.push(Mc(i,e,t));else n.push(Mc(r.beforeEnter,e,t));return n.push(c),me(n)}).then(()=>(e.matched.forEach(e=>e.enterCallbacks={}),n=Nc(s,`beforeRouteEnter`,e,t,te),n.push(c),me(n))).then(()=>{n=[];for(let r of o.list())n.push(Mc(r,e,t));return n.push(c),me(n)}).catch(e=>Sc(e,L.NAVIGATION_CANCELLED)?e:Promise.reject(e))}function w(e,t,n){s.list().forEach(r=>te(()=>r(e,t,n)))}function T(e,t,n,r,a){let o=y(e,t);if(o)return o;let s=t===ac,l=bs?history.state:{};n&&(r||s?i.replace(e.fullPath,I({scroll:s&&l&&l.scroll},a)):i.push(e.fullPath,a)),c.value=e,le(e,t,n,s),ce()}let re;function E(){re||=i.listen((e,t,n)=>{if(!pe.listening)return;let r=_(e),a=S(r,pe.currentRoute.value);if(a){C(I(a,{replace:!0,force:!0}),r).catch(ws);return}l=r;let o=c.value;bs&&gc(mc(o.fullPath,n.delta),fc()),ne(r,o).catch(e=>Sc(e,L.NAVIGATION_ABORTED|L.NAVIGATION_CANCELLED)?e:Sc(e,L.NAVIGATION_GUARD_REDIRECT)?(C(I(v(e.to),{force:!0}),r).then(e=>{Sc(e,L.NAVIGATION_ABORTED|L.NAVIGATION_DUPLICATED)&&!n.delta&&n.type===oc.pop&&i.go(-1,!1)}).catch(ws),Promise.reject()):(n.delta&&i.go(-n.delta,!1),se(e,r,o))).then(e=>{e||=T(r,o,!1),e&&(n.delta&&!Sc(e,L.NAVIGATION_CANCELLED)?i.go(-n.delta,!1):n.type===oc.pop&&Sc(e,L.NAVIGATION_ABORTED|L.NAVIGATION_DUPLICATED)&&i.go(-1,!1)),w(r,o,e)}).catch(ws)})}let ie=jc(),ae=jc(),oe;function se(e,t,n){ce(e);let r=ae.list();return r.length?r.forEach(r=>r(e,t,n)):console.error(e),Promise.reject(e)}function D(){return oe&&c.value!==ac?Promise.resolve():new Promise((e,t)=>{ie.add([e,t])})}function ce(e){return oe||(oe=!e,E(),ie.list().forEach(([t,n])=>e?n(e):t()),ie.reset()),e}function le(t,n,r,i){let{scrollBehavior:a}=e;if(!bs||!a)return Promise.resolve();let o=!r&&_c(mc(t.fullPath,0))||(i||!r)&&history.state&&history.state.scroll||null;return wn().then(()=>a(t,n,o)).then(e=>e&&pc(e)).catch(e=>se(e,t,n))}let ue=e=>i.go(e),de,fe=new Set,pe={currentRoute:c,listening:!0,addRoute:p,removeRoute:m,clearRoutes:t.clearRoutes,hasRoute:g,getRoutes:h,resolve:_,options:e,push:b,replace:x,go:ue,back:()=>ue(-1),forward:()=>ue(1),beforeEach:a.add,beforeResolve:o.add,afterEach:s.add,onError:ae.add,isReady:D,install(e){e.component(`RouterLink`,pl),e.component(`RouterView`,bl),e.config.globalProperties.$router=pe,Object.defineProperty(e.config.globalProperties,`$route`,{enumerable:!0,get:()=>$t(c)}),bs&&!de&&c.value===ac&&(de=!0,b(i.location).catch(e=>{}));let t={};for(let e in ac)Object.defineProperty(t,e,{get:()=>c.value[e],enumerable:!0});e.provide(Oc,pe),e.provide(kc,Bt(t)),e.provide(Ac,c);let n=e.unmount;fe.add(e),e.unmount=function(){fe.delete(e),fe.size<1&&(l=ac,re&&re(),re=null,c.value=ac,de=!1,oe=!1),n()}}};function me(e){return e.reduce((e,t)=>e.then(()=>te(t)),Promise.resolve())}return pe}var Sl=()=>void 0,Cl=function(e){let t=[],n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)==55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)==56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},wl=function(e){let t=[],n=0,r=0;for(;n<e.length;){let i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){let a=e[n++];t[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){let a=e[n++],o=e[n++],s=e[n++],c=((i&7)<<18|(a&63)<<12|(o&63)<<6|s&63)-65536;t[r++]=String.fromCharCode(55296+(c>>10)),t[r++]=String.fromCharCode(56320+(c&1023))}else{let a=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|o&63)}}return t.join(``)},Tl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`,get ENCODED_VALS(){return this.ENCODED_VALS_BASE+`+/=`},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+`-_.`},HAS_NATIVE_SUPPORT:typeof atob==`function`,encodeByteArray(e,t){if(!Array.isArray(e))throw Error(`encodeByteArray takes an array as a parameter`);this.init_();let n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){let i=e[t],a=t+1<e.length,o=a?e[t+1]:0,s=t+2<e.length,c=s?e[t+2]:0,l=i>>2,u=(i&3)<<4|o>>4,d=(o&15)<<2|c>>6,f=c&63;s||(f=64,a||(d=64)),r.push(n[l],n[u],n[d],n[f])}return r.join(``)},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Cl(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):wl(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();let n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){let i=n[e.charAt(t++)],a=t<e.length?n[e.charAt(t)]:0;++t;let o=t<e.length?n[e.charAt(t)]:64;++t;let s=t<e.length?n[e.charAt(t)]:64;if(++t,i==null||a==null||o==null||s==null)throw new El;let c=i<<2|a>>4;if(r.push(c),o!==64){let e=a<<4&240|o>>2;if(r.push(e),s!==64){let e=o<<6&192|s;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},El=class extends Error{constructor(){super(...arguments),this.name=`DecodeBase64StringError`}},Dl=function(e){let t=Cl(e);return Tl.encodeByteArray(t,!0)},Ol=function(e){return Dl(e).replace(/\./g,``)},kl=function(e){try{return Tl.decodeString(e,!0)}catch(e){console.error(`base64Decode failed: `,e)}return null};function Al(){if(typeof self<`u`)return self;if(typeof window<`u`)return window;if(typeof global<`u`)return global;throw Error(`Unable to locate global object.`)}var jl=()=>Al().__FIREBASE_DEFAULTS__,Ml=()=>{if(typeof process>`u`)return;let e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},Nl=()=>{if(typeof document>`u`)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let t=e&&kl(e[1]);return t&&JSON.parse(t)},Pl=()=>{try{return Sl()||jl()||Ml()||Nl()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Fl=e=>Pl()?.emulatorHosts?.[e],Il=e=>{let t=Fl(e);if(!t)return;let n=t.lastIndexOf(`:`);if(n<=0||n+1===t.length)throw Error(`Invalid host ${t} with no separate hostname and port!`);let r=parseInt(t.substring(n+1),10);return t[0]===`[`?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Ll=()=>Pl()?.config,Rl=e=>Pl()?.[`_${e}`],zl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e==`function`&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}};function Bl(e){try{return(e.startsWith(`http://`)||e.startsWith(`https://`)?new URL(e).hostname:e).endsWith(`.cloudworkstations.dev`)}catch{return!1}}async function Vl(e){return(await fetch(e,{credentials:`include`})).ok}function Hl(e,t){if(e.uid)throw Error(`The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.`);let n={alg:`none`,type:`JWT`},r=t||`demo-project`,i=e.iat||0,a=e.sub||e.user_id;if(!a)throw Error(`mockUserToken must contain 'sub' or 'user_id' field!`);let o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:`custom`,identities:{}},...e};return[Ol(JSON.stringify(n)),Ol(JSON.stringify(o)),``].join(`.`)}var Ul={};function Wl(){let e={prod:[],emulator:[]};for(let t of Object.keys(Ul))Ul[t]?e.emulator.push(t):e.prod.push(t);return e}function Gl(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement(`div`),t.setAttribute(`id`,e),n=!0),{created:n,element:t}}var Kl=!1;function ql(e,t){if(typeof window>`u`||typeof document>`u`||!Bl(window.location.host)||Ul[e]===t||Ul[e]||Kl)return;Ul[e]=t;function n(e){return`__firebase__banner__${e}`}let r=`__firebase__banner`,i=Wl().prod.length>0;function a(){let e=document.getElementById(r);e&&e.remove()}function o(e){e.style.display=`flex`,e.style.background=`#7faaf0`,e.style.position=`fixed`,e.style.bottom=`5px`,e.style.left=`5px`,e.style.padding=`.5em`,e.style.borderRadius=`5px`,e.style.alignItems=`center`}function s(e,t){e.setAttribute(`width`,`24`),e.setAttribute(`id`,t),e.setAttribute(`height`,`24`),e.setAttribute(`viewBox`,`0 0 24 24`),e.setAttribute(`fill`,`none`),e.style.marginLeft=`-6px`}function c(){let e=document.createElement(`span`);return e.style.cursor=`pointer`,e.style.marginLeft=`16px`,e.style.fontSize=`24px`,e.innerHTML=` &times;`,e.onclick=()=>{Kl=!0,a()},e}function l(e,t){e.setAttribute(`id`,t),e.innerText=`Learn more`,e.href=`https://firebase.google.com/docs/studio/preview-apps#preview-backend`,e.setAttribute(`target`,`__blank`),e.style.paddingLeft=`5px`,e.style.textDecoration=`underline`}function u(){let e=Gl(r),t=n(`text`),a=document.getElementById(t)||document.createElement(`span`),u=n(`learnmore`),d=document.getElementById(u)||document.createElement(`a`),f=n(`preprendIcon`),p=document.getElementById(f)||document.createElementNS(`http://www.w3.org/2000/svg`,`svg`);if(e.created){let t=e.element;o(t),l(d,u);let n=c();s(p,f),t.append(p,a,d,n),document.body.appendChild(t)}i?(a.innerText=`Preview backend disconnected.`,p.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(p.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,a.innerText=`Preview backend running in this workspace.`),a.setAttribute(`id`,t)}document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,u):u()}function Jl(){return typeof navigator<`u`&&typeof navigator.userAgent==`string`?navigator.userAgent:``}function Yl(){return typeof window<`u`&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jl())}function Xl(){let e=Pl()?.forceEnvironment;if(e===`node`)return!0;if(e===`browser`)return!1;try{return Object.prototype.toString.call(global.process)===`[object process]`}catch{return!1}}function Zl(){return typeof navigator<`u`&&navigator.userAgent===`Cloudflare-Workers`}function Ql(){let e=typeof chrome==`object`?chrome.runtime:typeof browser==`object`?browser.runtime:void 0;return typeof e==`object`&&e.id!==void 0}function $l(){return typeof navigator==`object`&&navigator.product===`ReactNative`}function eu(){let e=Jl();return e.indexOf(`MSIE `)>=0||e.indexOf(`Trident/`)>=0}function tu(){return!Xl()&&!!navigator.userAgent&&navigator.userAgent.includes(`Safari`)&&!navigator.userAgent.includes(`Chrome`)}function nu(){try{return typeof indexedDB==`object`}catch{return!1}}function ru(){return new Promise((e,t)=>{try{let n=!0,r=`validate-browser-context-for-indexeddb-analytics-module`,i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{t(i.error?.message||``)}}catch(e){t(e)}})}var iu=`FirebaseError`,au=class e extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=iu,Object.setPrototypeOf(this,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ou.prototype.create)}},ou=class{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){let n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],a=i?su(i,n):`Error`;return new au(r,`${this.serviceName}: ${a} (${r}).`,n)}};function su(e,t){return e.replace(cu,(e,n)=>{let r=t[n];return r==null?`<${n}?>`:String(r)})}var cu=/\{\$([^}]+)}/g;function lu(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function uu(e,t){if(e===t)return!0;let n=Object.keys(e),r=Object.keys(t);for(let i of n){if(!r.includes(i))return!1;let n=e[i],a=t[i];if(du(n)&&du(a)){if(!uu(n,a))return!1}else if(n!==a)return!1}for(let e of r)if(!n.includes(e))return!1;return!0}function du(e){return typeof e==`object`&&!!e}function fu(e){let t=[];for(let[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+`=`+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+`=`+encodeURIComponent(r));return t.length?`&`+t.join(`&`):``}function pu(e){let t={};return e.replace(/^\?/,``).split(`&`).forEach(e=>{if(e){let[n,r]=e.split(`=`);t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function mu(e){let t=e.indexOf(`?`);if(!t)return``;let n=e.indexOf(`#`,t);return e.substring(t,n>0?n:void 0)}function hu(e,t){let n=new gu(e,t);return n.subscribe.bind(n)}var gu=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(e===void 0&&t===void 0&&n===void 0)throw Error(`Missing Observer.`);r=_u(e,[`next`,`error`,`complete`])?e:{next:e,error:t,complete:n},r.next===void 0&&(r.next=vu),r.error===void 0&&(r.error=vu),r.complete===void 0&&(r.complete=vu);let i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],--this.observerCount,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(e){typeof console<`u`&&console.error&&console.error(e)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function _u(e,t){if(typeof e!=`object`||!e)return!1;for(let n of t)if(n in e&&typeof e[n]==`function`)return!0;return!1}function vu(){}function yu(e){return e&&e._delegate?e._delegate:e}var bu=class{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode=`LAZY`,this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}},xu=`[DEFAULT]`,Su=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let e=new zl;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{let n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){let t=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(e){if(n)return null;throw e}else if(n)return null;else throw Error(`Service ${this.name} is not available`)}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(wu(e))try{this.getOrInitializeService({instanceIdentifier:xu})}catch{}for(let[e,t]of this.instancesDeferred.entries()){let n=this.normalizeInstanceIdentifier(e);try{let e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch{}}}}clearInstance(e=xu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(e=>`INTERNAL`in e).map(e=>e.INTERNAL.delete()),...e.filter(e=>`_delete`in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=xu){return this.instances.has(e)}getOptions(e=xu){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(let[e,t]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(e)&&t.resolve(r);return r}onInit(e,t){let n=this.normalizeInstanceIdentifier(t),r=this.onInitCallbacks.get(n)??new Set;r.add(e),this.onInitCallbacks.set(n,r);let i=this.instances.get(n);return i&&e(i,n),()=>{r.delete(e)}}invokeOnInitCallbacks(e,t){let n=this.onInitCallbacks.get(t);if(n)for(let r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Cu(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=xu){return this.component?this.component.multipleInstances?e:xu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!==`EXPLICIT`}};function Cu(e){return e===xu?void 0:e}function wu(e){return e.instantiationMode===`EAGER`}var Tu=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Su(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}},Eu=[],R;(function(e){e[e.DEBUG=0]=`DEBUG`,e[e.VERBOSE=1]=`VERBOSE`,e[e.INFO=2]=`INFO`,e[e.WARN=3]=`WARN`,e[e.ERROR=4]=`ERROR`,e[e.SILENT=5]=`SILENT`})(R||={});var Du={debug:R.DEBUG,verbose:R.VERBOSE,info:R.INFO,warn:R.WARN,error:R.ERROR,silent:R.SILENT},Ou=R.INFO,ku={[R.DEBUG]:`log`,[R.VERBOSE]:`log`,[R.INFO]:`info`,[R.WARN]:`warn`,[R.ERROR]:`error`},Au=(e,t,...n)=>{if(t<e.logLevel)return;let r=new Date().toISOString(),i=ku[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw Error(`Attempted to log a message with an invalid logType (value: ${t})`)},ju=class{constructor(e){this.name=e,this._logLevel=Ou,this._logHandler=Au,this._userLogHandler=null,Eu.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in R))throw TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e==`string`?Du[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!=`function`)throw TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,R.DEBUG,...e),this._logHandler(this,R.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,R.VERBOSE,...e),this._logHandler(this,R.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,R.INFO,...e),this._logHandler(this,R.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,R.WARN,...e),this._logHandler(this,R.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,R.ERROR,...e),this._logHandler(this,R.ERROR,...e)}},Mu=(e,t)=>t.some(t=>e instanceof t),Nu,Pu;function Fu(){return Nu||=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]}function Iu(){return Pu||=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey]}var Lu=new WeakMap,Ru=new WeakMap,zu=new WeakMap,Bu=new WeakMap,Vu=new WeakMap;function Hu(e){let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`success`,i),e.removeEventListener(`error`,a)},i=()=>{t(Ju(e.result)),r()},a=()=>{n(e.error),r()};e.addEventListener(`success`,i),e.addEventListener(`error`,a)});return t.then(t=>{t instanceof IDBCursor&&Lu.set(t,e)}).catch(()=>{}),Vu.set(t,e),t}function Uu(e){if(Ru.has(e))return;let t=new Promise((t,n)=>{let r=()=>{e.removeEventListener(`complete`,i),e.removeEventListener(`error`,a),e.removeEventListener(`abort`,a)},i=()=>{t(),r()},a=()=>{n(e.error||new DOMException(`AbortError`,`AbortError`)),r()};e.addEventListener(`complete`,i),e.addEventListener(`error`,a),e.addEventListener(`abort`,a)});Ru.set(e,t)}var Wu={get(e,t,n){if(e instanceof IDBTransaction){if(t===`done`)return Ru.get(e);if(t===`objectStoreNames`)return e.objectStoreNames||zu.get(e);if(t===`store`)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ju(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t===`done`||t===`store`)?!0:t in e}};function Gu(e){Wu=e(Wu)}function Ku(e){return e===IDBDatabase.prototype.transaction&&!(`objectStoreNames`in IDBTransaction.prototype)?function(t,...n){let r=e.call(Yu(this),t,...n);return zu.set(r,t.sort?t.sort():[t]),Ju(r)}:Iu().includes(e)?function(...t){return e.apply(Yu(this),t),Ju(Lu.get(this))}:function(...t){return Ju(e.apply(Yu(this),t))}}function qu(e){return typeof e==`function`?Ku(e):(e instanceof IDBTransaction&&Uu(e),Mu(e,Fu())?new Proxy(e,Wu):e)}function Ju(e){if(e instanceof IDBRequest)return Hu(e);if(Bu.has(e))return Bu.get(e);let t=qu(e);return t!==e&&(Bu.set(e,t),Vu.set(t,e)),t}var Yu=e=>Vu.get(e);function Xu(e,t,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){let o=indexedDB.open(e,t),s=Ju(o);return r&&o.addEventListener(`upgradeneeded`,e=>{r(Ju(o.result),e.oldVersion,e.newVersion,Ju(o.transaction),e)}),n&&o.addEventListener(`blocked`,e=>n(e.oldVersion,e.newVersion,e)),s.then(e=>{a&&e.addEventListener(`close`,()=>a()),i&&e.addEventListener(`versionchange`,e=>i(e.oldVersion,e.newVersion,e))}).catch(()=>{}),s}var Zu=[`get`,`getKey`,`getAll`,`getAllKeys`,`count`],Qu=[`put`,`add`,`delete`,`clear`],$u=new Map;function ed(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t==`string`))return;if($u.get(t))return $u.get(t);let n=t.replace(/FromIndex$/,``),r=t!==n,i=Qu.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Zu.includes(n)))return;let a=async function(e,...t){let a=this.transaction(e,i?`readwrite`:`readonly`),o=a.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&a.done]))[0]};return $u.set(t,a),a}Gu(e=>({...e,get:(t,n,r)=>ed(t,n)||e.get(t,n,r),has:(t,n)=>!!ed(t,n)||e.has(t,n)}));var td=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(nd(e)){let t=e.getImmediate();return`${t.library}/${t.version}`}else return null}).filter(e=>e).join(` `)}};function nd(e){return e.getComponent()?.type===`VERSION`}var rd=`@firebase/app`,id=`0.14.6`,ad=new ju(`@firebase/app`),od=`@firebase/app-compat`,sd=`@firebase/analytics-compat`,cd=`@firebase/analytics`,ld=`@firebase/app-check-compat`,ud=`@firebase/app-check`,dd=`@firebase/auth`,fd=`@firebase/auth-compat`,pd=`@firebase/database`,md=`@firebase/data-connect`,hd=`@firebase/database-compat`,gd=`@firebase/functions`,_d=`@firebase/functions-compat`,vd=`@firebase/installations`,yd=`@firebase/installations-compat`,bd=`@firebase/messaging`,xd=`@firebase/messaging-compat`,Sd=`@firebase/performance`,Cd=`@firebase/performance-compat`,wd=`@firebase/remote-config`,Td=`@firebase/remote-config-compat`,Ed=`@firebase/storage`,Dd=`@firebase/storage-compat`,Od=`@firebase/firestore`,kd=`@firebase/ai`,Ad=`@firebase/firestore-compat`,jd=`firebase`,Md=`12.6.0`,Nd=`[DEFAULT]`,Pd={[rd]:`fire-core`,[od]:`fire-core-compat`,[cd]:`fire-analytics`,[sd]:`fire-analytics-compat`,[ud]:`fire-app-check`,[ld]:`fire-app-check-compat`,[dd]:`fire-auth`,[fd]:`fire-auth-compat`,[pd]:`fire-rtdb`,[md]:`fire-data-connect`,[hd]:`fire-rtdb-compat`,[gd]:`fire-fn`,[_d]:`fire-fn-compat`,[vd]:`fire-iid`,[yd]:`fire-iid-compat`,[bd]:`fire-fcm`,[xd]:`fire-fcm-compat`,[Sd]:`fire-perf`,[Cd]:`fire-perf-compat`,[wd]:`fire-rc`,[Td]:`fire-rc-compat`,[Ed]:`fire-gcs`,[Dd]:`fire-gcs-compat`,[Od]:`fire-fst`,[Ad]:`fire-fst-compat`,[kd]:`fire-vertex`,"fire-js":`fire-js`,[jd]:`fire-js-all`},Fd=new Map,Id=new Map,Ld=new Map;function Rd(e,t){try{e.container.addComponent(t)}catch(n){ad.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function zd(e){let t=e.name;if(Ld.has(t))return ad.debug(`There were multiple attempts to register component ${t}.`),!1;Ld.set(t,e);for(let t of Fd.values())Rd(t,e);for(let t of Id.values())Rd(t,e);return!0}function Bd(e,t){let n=e.container.getProvider(`heartbeat`).getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Vd(e){return e==null?!1:e.settings!==void 0}var Hd=new ou(`app`,`Firebase`,{"no-app":`No Firebase App '{$appName}' has been created - call initializeApp() first`,"bad-app-name":`Illegal App name: '{$appName}'`,"duplicate-app":`Firebase App named '{$appName}' already exists with different options or config`,"app-deleted":`Firebase App named '{$appName}' already deleted`,"server-app-deleted":`Firebase Server App has been deleted`,"no-options":`Need to provide options, when not being deployed to hosting via source.`,"invalid-app-argument":`firebase.{$appName}() takes either no argument or a Firebase App instance.`,"invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":`Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.`,"idb-get":`Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.`,"idb-set":`Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.`,"idb-delete":`Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.`,"finalization-registry-not-supported":`FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.`,"invalid-server-app-environment":`FirebaseServerApp is not for use in browser environments.`}),Ud=class{constructor(e,t,n){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new bu(`app`,()=>this,`PUBLIC`))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hd.create(`app-deleted`,{appName:this._name})}},Wd=Md;function Gd(e,t={}){let n=e;typeof t!=`object`&&(t={name:t});let r={name:Nd,automaticDataCollectionEnabled:!0,...t},i=r.name;if(typeof i!=`string`||!i)throw Hd.create(`bad-app-name`,{appName:String(i)});if(n||=Ll(),!n)throw Hd.create(`no-options`);let a=Fd.get(i);if(a){if(uu(n,a.options)&&uu(r,a.config))return a;throw Hd.create(`duplicate-app`,{appName:i})}let o=new Tu(i);for(let e of Ld.values())o.addComponent(e);let s=new Ud(n,r,o);return Fd.set(i,s),s}function Kd(e=Nd){let t=Fd.get(e);if(!t&&e===`[DEFAULT]`&&Ll())return Gd();if(!t)throw Hd.create(`no-app`,{appName:e});return t}function qd(e,t,n){let r=Pd[e]??e;n&&(r+=`-${n}`);let i=r.match(/\s|\//),a=t.match(/\s|\//);if(i||a){let e=[`Unable to register library "${r}" with version "${t}":`];i&&e.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&a&&e.push(`and`),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ad.warn(e.join(` `));return}zd(new bu(`${r}-version`,()=>({library:r,version:t}),`VERSION`))}var Jd=`firebase-heartbeat-database`,Yd=1,Xd=`firebase-heartbeat-store`,Zd=null;function Qd(){return Zd||=Xu(Jd,Yd,{upgrade:(e,t)=>{switch(t){case 0:try{e.createObjectStore(Xd)}catch(e){console.warn(e)}}}}).catch(e=>{throw Hd.create(`idb-open`,{originalErrorMessage:e.message})}),Zd}async function $d(e){try{let t=(await Qd()).transaction(Xd),n=await t.objectStore(Xd).get(tf(e));return await t.done,n}catch(e){if(e instanceof au)ad.warn(e.message);else{let t=Hd.create(`idb-get`,{originalErrorMessage:e?.message});ad.warn(t.message)}}}async function ef(e,t){try{let n=(await Qd()).transaction(Xd,`readwrite`);await n.objectStore(Xd).put(t,tf(e)),await n.done}catch(e){if(e instanceof au)ad.warn(e.message);else{let t=Hd.create(`idb-set`,{originalErrorMessage:e?.message});ad.warn(t.message)}}}function tf(e){return`${e.name}!${e.options.appId}`}var nf=1024,rf=30,af=class{constructor(e){this.container=e,this._heartbeatsCache=null,this._storage=new cf(this.container.getProvider(`app`).getImmediate()),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}async triggerHeartbeat(){try{let e=this.container.getProvider(`platform-logger`).getImmediate().getPlatformInfoString(),t=of();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===t||this._heartbeatsCache.heartbeats.some(e=>e.date===t))return;if(this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats.length>rf){let e=uf(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){ad.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return``;let e=of(),{heartbeatsToSend:t,unsentEntries:n}=sf(this._heartbeatsCache.heartbeats),r=Ol(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return ad.warn(e),``}}};function of(){return new Date().toISOString().substring(0,10)}function sf(e,t=nf){let n=[],r=e.slice();for(let i of e){let e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),lf(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lf(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var cf=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return nu()?ru().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){let e=await $d(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return ef(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){let t=await this.read();return ef(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??t.lastSentHeartbeatDate,heartbeats:[...t.heartbeats,...e.heartbeats]})}else return}};function lf(e){return Ol(JSON.stringify({version:2,heartbeats:e})).length}function uf(e){if(e.length===0)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}function df(e){zd(new bu(`platform-logger`,e=>new td(e),`PRIVATE`)),zd(new bu(`heartbeat`,e=>new af(e),`PRIVATE`)),qd(rd,id,e),qd(rd,id,`esm2020`),qd(`fire-js`,``)}df(``);var ff=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},pf={},mf,hf;(function(){var e;function t(e,t){function n(){}n.prototype=t.prototype,e.F=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.D=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=[,,,,],this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(e,t,n){n||=0;let r=Array(16);if(typeof t==`string`)for(var i=0;i<16;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;i<16;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];let a=e.g[3],o;o=t+(a^n&(i^a))+r[0]+3614090360&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[1]+3905402710&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[2]+606105819&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[5]+1200080426&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[6]+2821735955&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[9]+2336552879&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[10]+4294925233&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(a^n&(i^a))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=a+(i^t&(n^i))+r[13]+4254626195&4294967295,a=t+(o<<12&4294967295|o>>>20),o=i+(n^a&(t^n))+r[14]+2792965006&4294967295,i=a+(o<<17&4294967295|o>>>15),o=n+(t^i&(a^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^a&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[6]+3225465664&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[11]+643717713&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[10]+38016083&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[15]+3634488961&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[14]+3275163606&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[3]+4107603335&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^a&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=a+(n^i&(t^n))+r[2]+4243563512&4294967295,a=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(a^t))+r[7]+1735328473&4294967295,i=a+(o<<14&4294967295|o>>>18),o=n+(a^t&(i^a))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^a)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[8]+2272392833&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[11]+1839030562&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[4]+1272893353&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[7]+4139469664&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[0]+3936430074&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[3]+3572445317&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^a)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=a+(t^n^i)+r[12]+3873151461&4294967295,a=t+(o<<11&4294967295|o>>>21),o=i+(a^t^n)+r[15]+530742520&4294967295,i=a+(o<<16&4294967295|o>>>16),o=n+(i^a^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~a))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[7]+1126891415&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[14]+2878612391&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[3]+2399980690&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[10]+4293915773&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[15]+4264355552&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[6]+2734768916&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~a))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=a+(n^(t|~i))+r[11]+3174756917&4294967295,a=t+(o<<10&4294967295|o>>>22),o=i+(t^(a|~n))+r[2]+718787259&4294967295,i=a+(o<<15&4294967295|o>>>17),o=n+(a^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}r.prototype.v=function(e,t){t===void 0&&(t=e.length);let n=t-this.blockSize,r=this.C,a=this.h,o=0;for(;o<t;){if(a==0)for(;o<=n;)i(this,e,o),o+=this.blockSize;if(typeof e==`string`){for(;o<t;)if(r[a++]=e.charCodeAt(o++),a==this.blockSize){i(this,r),a=0;break}}else for(;o<t;)if(r[a++]=e[o++],a==this.blockSize){i(this,r),a=0;break}}this.h=a,this.o+=t},r.prototype.A=function(){var e=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;t=this.o*8;for(var n=e.length-8;n<e.length;++n)e[n]=t&255,t/=256;for(this.v(e),e=Array(16),t=0,n=0;n<4;++n)for(let r=0;r<32;r+=8)e[t++]=this.g[n]>>>r&255;return e};function a(e,t){var n=s;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}function o(e,t){this.h=t;let n=[],r=!0;for(let i=e.length-1;i>=0;i--){let a=e[i]|0;r&&a==t||(n[i]=a,r=!1)}this.g=n}var s={};function c(e){return-128<=e&&e<128?a(e,function(e){return new o([e|0],e<0?-1:0)}):new o([e|0],e<0?-1:0)}function l(e){if(isNaN(e)||!isFinite(e))return d;if(e<0)return g(l(-e));let t=[],n=1;for(let r=0;e>=n;r++)t[r]=e/n|0,n*=4294967296;return new o(t,0)}function u(e,t){if(e.length==0)throw Error(`number format error: empty string`);if(t||=10,t<2||36<t)throw Error(`radix out of range: `+t);if(e.charAt(0)==`-`)return g(u(e.substring(1),t));if(e.indexOf(`-`)>=0)throw Error(`number format error: interior "-" character`);let n=l(t**8),r=d;for(let a=0;a<e.length;a+=8){var i=Math.min(8,e.length-a);let o=parseInt(e.substring(a,a+i),t);i<8?(i=l(t**+i),r=r.j(i).add(l(o))):(r=r.j(n),r=r.add(l(o)))}return r}var d=c(0),f=c(1),p=c(16777216);e=o.prototype,e.m=function(){if(h(this))return-g(this).m();let e=0,t=1;for(let n=0;n<this.g.length;n++){let r=this.i(n);e+=(r>=0?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(e||=10,e<2||36<e)throw Error(`radix out of range: `+e);if(m(this))return`0`;if(h(this))return`-`+g(this).toString(e);let t=l(e**6);var n=this;let r=``;for(;;){let i=b(n,t).g;n=_(n,i.j(t));let a=((n.g.length>0?n.g[0]:n.h)>>>0).toString(e);if(n=i,m(n))return a+r;for(;a.length<6;)a=`0`+a;r=a+r}},e.i=function(e){return e<0?0:e<this.g.length?this.g[e]:this.h};function m(e){if(e.h!=0)return!1;for(let t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function h(e){return e.h==-1}e.l=function(e){return e=_(this,e),h(e)?-1:m(e)?0:1};function g(e){let t=e.g.length,n=[];for(let r=0;r<t;r++)n[r]=~e.g[r];return new o(n,~e.h).add(f)}e.abs=function(){return h(this)?g(this):this},e.add=function(e){let t=Math.max(this.g.length,e.g.length),n=[],r=0;for(let i=0;i<=t;i++){let t=r+(this.i(i)&65535)+(e.i(i)&65535),a=(t>>>16)+(this.i(i)>>>16)+(e.i(i)>>>16);r=a>>>16,t&=65535,a&=65535,n[i]=a<<16|t}return new o(n,n[n.length-1]&-2147483648?-1:0)};function _(e,t){return e.add(g(t))}e.j=function(e){if(m(this)||m(e))return d;if(h(this))return h(e)?g(this).j(g(e)):g(g(this).j(e));if(h(e))return g(this.j(g(e)));if(this.l(p)<0&&e.l(p)<0)return l(this.m()*e.m());let t=this.g.length+e.g.length,n=[];for(var r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(let t=0;t<e.g.length;t++){let i=this.i(r)>>>16,a=this.i(r)&65535,o=e.i(t)>>>16,s=e.i(t)&65535;n[2*r+2*t]+=a*s,v(n,2*r+2*t),n[2*r+2*t+1]+=i*s,v(n,2*r+2*t+1),n[2*r+2*t+1]+=a*o,v(n,2*r+2*t+1),n[2*r+2*t+2]+=i*o,v(n,2*r+2*t+2)}for(e=0;e<t;e++)n[e]=n[2*e+1]<<16|n[2*e];for(e=t;e<2*t;e++)n[e]=0;return new o(n,0)};function v(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function y(e,t){this.g=e,this.h=t}function b(e,t){if(m(t))throw Error(`division by zero`);if(m(e))return new y(d,d);if(h(e))return t=b(g(e),t),new y(g(t.g),g(t.h));if(h(t))return t=b(e,g(t)),new y(g(t.g),t.h);if(e.g.length>30){if(h(e)||h(t))throw Error(`slowDivide_ only works with positive integers.`);for(var n=f,r=t;r.l(e)<=0;)n=x(n),r=x(r);var i=S(n,1),a=S(r,1);for(r=S(r,2),n=S(n,2);!m(r);){var o=a.add(r);o.l(e)<=0&&(i=i.add(n),a=o),r=S(r,1),n=S(n,1)}return t=_(e,i.j(t)),new y(i,t)}for(i=d;e.l(t)>=0;){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=Math.ceil(Math.log(n)/Math.LN2),r=r<=48?1:2**(r-48),a=l(n),o=a.j(t);h(o)||o.l(e)>0;)n-=r,a=l(n),o=a.j(t);m(a)&&(a=f),i=i.add(a),e=_(e,o)}return new y(i,e)}e.B=function(e){return b(this,e).h},e.and=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)&e.i(r);return new o(n,this.h&e.h)},e.or=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)|e.i(r);return new o(n,this.h|e.h)},e.xor=function(e){let t=Math.max(this.g.length,e.g.length),n=[];for(let r=0;r<t;r++)n[r]=this.i(r)^e.i(r);return new o(n,this.h^e.h)};function x(e){let t=e.g.length+1,n=[];for(let r=0;r<t;r++)n[r]=e.i(r)<<1|e.i(r-1)>>>31;return new o(n,e.h)}function S(e,t){let n=t>>5;t%=32;let r=e.g.length-n,i=[];for(let a=0;a<r;a++)i[a]=t>0?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new o(i,e.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,hf=pf.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=l,o.fromString=u,mf=pf.Integer=o}).apply(ff===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:ff);var gf=typeof globalThis<`u`?globalThis:typeof window<`u`?window:typeof global<`u`?global:typeof self<`u`?self:{},_f={},vf,yf,bf,xf,Sf,Cf,wf,Tf;(function(){var e,t=Object.defineProperty;function n(e){e=[typeof globalThis==`object`&&globalThis,e,typeof window==`object`&&window,typeof self==`object`&&self,typeof gf==`object`&&gf];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error(`Cannot find global object`)}var r=n(this);function i(e,n){if(n)a:{var i=r;e=e.split(`.`);for(var a=0;a<e.length-1;a++){var o=e[a];if(!(o in i))break a;i=i[o]}e=e[e.length-1],a=i[e],n=n(a),n!=a&&n!=null&&t(i,e,{configurable:!0,writable:!0,value:n})}}i(`Symbol.dispose`,function(e){return e||Symbol(`Symbol.dispose`)}),i(`Array.prototype.values`,function(e){return e||function(){return this[Symbol.iterator]()}}),i(`Object.entries`,function(e){return e||function(e){var t=[],n;for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push([n,e[n]]);return t}});var a=a||{},o=this||self;function s(e){var t=typeof e;return t==`object`&&e!=null||t==`function`}function c(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){return l=c,l.apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Ob=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}var f=typeof AsyncContext<`u`&&typeof AsyncContext.Snapshot==`function`?e=>e&&AsyncContext.Snapshot.wrap(e):e=>e;function p(e){let t=e.length;if(t>0){let n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let t=1;t<arguments.length;t++){let r=arguments[t];var n=typeof r;if(n=n==`object`?r?Array.isArray(r)?`array`:n:`null`:n,n==`array`||n==`object`&&typeof r.length==`number`){n=e.length||0;let t=r.length||0;e.length=n+t;for(let i=0;i<t;i++)e[n+i]=r[i]}else e.push(r)}}class h{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function g(e){o.setTimeout(()=>{throw e},0)}function _(){var e=C;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class v{constructor(){this.h=this.g=null}add(e,t){let n=y.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var y=new h(()=>new b,e=>e.reset());class b{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,S=!1,C=new v,ee=()=>{let e=Promise.resolve(void 0);x=()=>{e.then(te)}};function te(){for(var e;e=_();){try{e.h.call(e.g)}catch(e){g(e)}var t=y;t.j(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}S=!1}function ne(){this.u=this.u,this.C=this.C}ne.prototype.u=!1,ne.prototype.dispose=function(){this.u||(this.u=!0,this.N())},ne.prototype[Symbol.dispose]=function(){this.dispose()},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function w(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}w.prototype.h=function(){this.defaultPrevented=!0};var T=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},`passive`,{get:function(){e=!0}});try{let e=()=>{};o.addEventListener(`test`,e,t),o.removeEventListener(`test`,e,t)}catch{}return e}();function re(e){return/^[\s\xa0]*$/.test(e)}function E(e,t){w.call(this,e?e.type:``),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key=``,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType=``,this.i=null,e&&this.init(e,t)}d(E,w),E.prototype.init=function(e,t){let n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget,t||(n==`mouseover`?t=e.fromElement:n==`mouseout`&&(t=e.toElement)),this.relatedTarget=t,r?(this.clientX=r.clientX===void 0?r.pageX:r.clientX,this.clientY=r.clientY===void 0?r.pageY:r.clientY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX===void 0?e.pageX:e.clientX,this.clientY=e.clientY===void 0?e.pageY:e.clientY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||``,this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=e.pointerType,this.state=e.state,this.i=e,e.defaultPrevented&&E.Z.h.call(this)},E.prototype.h=function(){E.Z.h.call(this);let e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ie=`closure_listenable_`+(Math.random()*1e6|0),ae=0;function oe(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++ae,this.da=this.fa=!1}function se(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function D(e,t,n){for(let r in e)t.call(n,e[r],r,e)}function ce(e,t){for(let n in e)t.call(void 0,e[n],n,e)}function le(e){let t={};for(let n in e)t[n]=e[n];return t}let ue=`constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf`.split(` `);function de(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<ue.length;t++)n=ue[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function fe(e){this.src=e,this.g={},this.h=0}fe.prototype.add=function(e,t,n,r,i){let a=e.toString();e=this.g[a],e||(e=this.g[a]=[],this.h++);let o=me(e,t,r,i);return o>-1?(t=e[o],n||(t.fa=!1)):(t=new oe(t,this.src,a,!!r,i),t.fa=n,e.push(t)),t};function pe(e,t){let n=t.type;if(n in e.g){var r=e.g[n],i=Array.prototype.indexOf.call(r,t,void 0),a;(a=i>=0)&&Array.prototype.splice.call(r,i,1),a&&(se(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function me(e,t,n,r){for(let i=0;i<e.length;++i){let a=e[i];if(!a.da&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}var he=`closure_lm_`+(Math.random()*1e6|0),ge={};function _e(e,t,n,r,i){if(r&&r.once)return be(e,t,n,r,i);if(Array.isArray(t)){for(let a=0;a<t.length;a++)_e(e,t[a],n,r,i);return null}return n=De(n),e&&e[ie]?e.J(t,n,s(r)?!!r.capture:!!r,i):ve(e,t,n,!1,r,i)}function ve(e,t,n,r,i,a){if(!t)throw Error(`Invalid event type`);let o=s(i)?!!i.capture:!!i,c=Te(e);if(c||(e[he]=c=new fe(e)),n=c.add(t,n,r,o,a),n.proxy)return n;if(r=ye(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)T||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ce(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error(`addEventListener and attachEvent are unavailable.`);return n}function ye(){function e(n){return t.call(e.src,e.listener,n)}let t=we;return e}function be(e,t,n,r,i){if(Array.isArray(t)){for(let a=0;a<t.length;a++)be(e,t[a],n,r,i);return null}return n=De(n),e&&e[ie]?e.K(t,n,s(r)?!!r.capture:!!r,i):ve(e,t,n,!0,r,i)}function xe(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)xe(e,t[a],n,r,i);else r=s(r)?!!r.capture:!!r,n=De(n),e&&e[ie]?(e=e.i,a=String(t).toString(),a in e.g&&(t=e.g[a],n=me(t,n,r,i),n>-1&&(se(t[n]),Array.prototype.splice.call(t,n,1),t.length==0&&(delete e.g[a],e.h--)))):(e&&=Te(e))&&(t=e.g[t.toString()],e=-1,t&&(e=me(t,n,r,i)),(n=e>-1?t[e]:null)&&Se(n))}function Se(e){if(typeof e!=`number`&&e&&!e.da){var t=e.src;if(t&&t[ie])pe(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ce(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Te(t))?(pe(n,e),n.h==0&&(n.src=null,t[he]=null)):se(e)}}}function Ce(e){return e in ge?ge[e]:ge[e]=`on`+e}function we(e,t){if(e.da)e=!0;else{t=new E(t,this);let n=e.listener,r=e.ha||e.src;e.fa&&Se(e),e=n.call(r,t)}return e}function Te(e){return e=e[he],e instanceof fe?e:null}var Ee=`__closure_events_fn_`+(Math.random()*1e9>>>0);function De(e){return typeof e==`function`?e:(e[Ee]||(e[Ee]=function(t){return e.handleEvent(t)}),e[Ee])}function Oe(){ne.call(this),this.i=new fe(this),this.M=this,this.G=null}d(Oe,ne),Oe.prototype[ie]=!0,Oe.prototype.removeEventListener=function(e,t,n,r){xe(this,e,t,n,r)};function ke(e,t){var n,r=e.G;if(r)for(n=[];r;r=r.G)n.push(r);if(e=e.M,r=t.type||t,typeof t==`string`)t=new w(t,e);else if(t instanceof w)t.target=t.target||e;else{var i=t;t=new w(r,e),de(t,i)}i=!0;let a,o;if(n)for(o=n.length-1;o>=0;o--)a=t.g=n[o],i=Ae(a,r,!0,t)&&i;if(a=t.g=e,i=Ae(a,r,!0,t)&&i,i=Ae(a,r,!1,t)&&i,n)for(o=0;o<n.length;o++)a=t.g=n[o],i=Ae(a,r,!1,t)&&i}Oe.prototype.N=function(){if(Oe.Z.N.call(this),this.i){var e=this.i;for(let t in e.g){let n=e.g[t];for(let e=0;e<n.length;e++)se(n[e]);delete e.g[t],e.h--}}this.G=null},Oe.prototype.J=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Oe.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function Ae(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();let i=!0;for(let a=0;a<t.length;++a){let o=t[a];if(o&&!o.da&&o.capture==n){let t=o.listener,n=o.ha||o.src;o.fa&&pe(e.i,o),i=t.call(n,r)!==!1&&i}}return i&&!r.defaultPrevented}function je(e,t){if(typeof e!=`function`)if(e&&typeof e.handleEvent==`function`)e=l(e.handleEvent,e);else throw Error(`Invalid listener argument`);return Number(t)>2147483647?-1:o.setTimeout(e,t||0)}function O(e){e.g=je(()=>{e.g=null,e.i&&(e.i=!1,O(e))},e.l);let t=e.h;e.h=null,e.m.apply(null,t)}class Me extends ne{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:O(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ne(e){ne.call(this),this.h=e,this.g={}}d(Ne,ne);var Pe=[];function Fe(e){D(e.g,function(e,t){this.g.hasOwnProperty(t)&&Se(e)},e),e.g={}}Ne.prototype.N=function(){Ne.Z.N.call(this),Fe(this)},Ne.prototype.handleEvent=function(){throw Error(`EventHandler.handleEvent not implemented`)};var Ie=o.JSON.stringify,Le=o.JSON.parse,Re=class{stringify(e){return o.JSON.stringify(e,void 0)}parse(e){return o.JSON.parse(e,void 0)}};function ze(){}function Be(){}var Ve={OPEN:`a`,hb:`b`,ERROR:`c`,tb:`d`};function He(){w.call(this,`d`)}d(He,w);function Ue(){w.call(this,`c`)}d(Ue,w);var We={},Ge=null;function Ke(){return Ge||=new Oe}We.Ia=`serverreachability`;function qe(e){w.call(this,We.Ia,e)}d(qe,w);function Je(e){let t=Ke();ke(t,new qe(t))}We.STAT_EVENT=`statevent`;function Ye(e,t){w.call(this,We.STAT_EVENT,e),this.stat=t}d(Ye,w);function Xe(e){let t=Ke();ke(t,new Ye(t,e))}We.Ja=`timingevent`;function Ze(e,t){w.call(this,We.Ja,e),this.size=t}d(Ze,w);function Qe(e,t){if(typeof e!=`function`)throw Error(`Fn must not be null and must be a function`);return o.setTimeout(function(){e()},t)}function $e(){this.g=!0}$e.prototype.ua=function(){this.g=!1};function et(e,t,n,r,i,a){e.info(function(){if(e.g)if(a){var o=``,s=a.split(`&`);for(let e=0;e<s.length;e++){var c=s[e].split(`=`);if(c.length>1){let e=c[0];c=c[1];let t=e.split(`_`);o=t.length>=2&&t[1]==`type`?o+(e+`=`+c+`&`):o+(e+`=redacted&`)}}}else o=null;else o=a;return`XMLHTTP REQ (`+r+`) [attempt `+i+`]: `+t+`
`+n+`
`+o})}function tt(e,t,n,r,i,a,o){e.info(function(){return`XMLHTTP RESP (`+r+`) [ attempt `+i+`]: `+t+`
`+n+`
`+a+` `+o})}function nt(e,t,n,r){e.info(function(){return`XMLHTTP TEXT (`+t+`): `+it(e,n)+(r?` `+r:``)})}function rt(e,t){e.info(function(){return`TIMEOUT: `+t})}$e.prototype.info=function(){};function it(e,t){if(!e.g)return t;if(!t)return null;try{let a=JSON.parse(t);if(a){for(e=0;e<a.length;e++)if(Array.isArray(a[e])){var n=a[e];if(!(n.length<2)){var r=n[1];if(Array.isArray(r)&&!(r.length<1)){var i=r[0];if(i!=`noop`&&i!=`stop`&&i!=`close`)for(let e=1;e<r.length;e++)r[e]=``}}}}return Ie(a)}catch{return t}}var k={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},at={ib:`complete`,Fb:`success`,ERROR:`error`,Ga:`abort`,xb:`ready`,yb:`readystatechange`,TIMEOUT:`timeout`,sb:`incrementaldata`,wb:`progress`,lb:`downloadprogress`,Nb:`uploadprogress`},ot;function st(){}d(st,ze),st.prototype.g=function(){return new XMLHttpRequest},ot=new st;function ct(e){return encodeURIComponent(String(e))}function lt(e){var t=1;e=e.split(`:`);let n=[];for(;t>0&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(`:`)),n}function ut(e,t,n,r){this.j=e,this.i=t,this.l=n,this.S=r||1,this.V=new Ne(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new dt}function dt(){this.i=null,this.g=``,this.h=!1}var ft={},pt={};function mt(e,t,n){e.M=1,e.A=Bt(It(t)),e.u=n,e.R=!0,ht(e,null)}function ht(e,t){e.F=Date.now(),yt(e),e.B=It(e.A);var n=e.B,r=e.S;Array.isArray(r)||(r=[String(r)]),Zt(n.i,`t`,r),e.C=0,n=e.j.L,e.h=new dt,e.g=Hn(e.j,n?t:null,!e.u),e.P>0&&(e.O=new Me(l(e.Y,e,e.g),e.P)),t=e.V,n=e.g,r=e.ba;var i=`readystatechange`;Array.isArray(i)||(i&&(Pe[0]=i.toString()),i=Pe);for(let e=0;e<i.length;e++){let a=_e(n,i[e],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.J?le(e.J):{},e.u?(e.v||=`POST`,t[`Content-Type`]=`application/x-www-form-urlencoded`,e.g.ea(e.B,e.v,e.u,t)):(e.v=`GET`,e.g.ea(e.B,e.v,null,t)),Je(),et(e.i,e.v,e.B,e.l,e.S,e.u)}ut.prototype.ba=function(e){e=e.target;let t=this.O;t&&yn(e)==3?t.j():this.Y(e)},ut.prototype.Y=function(e){try{if(e==this.g)a:{let s=yn(this.g),c=this.g.ya(),l=this.g.ca();if(!(s<3)&&(s!=3||this.g&&(this.h.h||this.g.la()||bn(this.g)))){this.K||s!=4||c==7||Je(c==8||l<=0?3:2),xt(this);var t=this.g.ca();this.X=t;var n=gt(this);if(this.o=t==200,tt(this.i,this.v,this.B,this.l,this.S,s,t),this.o){if(this.U&&!this.L){b:{if(this.g){var r,i=this.g;if((r=i.g?i.g.getResponseHeader(`X-HTTP-Initial-Response`):null)&&!re(r)){var a=r;break b}}a=null}if(e=a)nt(this.i,this.l,e,`Initial handshake response via X-HTTP-Initial-Response`),this.L=!0,wt(this,e);else{this.o=!1,this.m=3,Xe(12),Ct(this),St(this);break a}}if(this.R){e=!0;let t;for(;!this.K&&this.C<n.length;)if(t=vt(this,n),t==pt){s==4&&(this.m=4,Xe(14),e=!1),nt(this.i,this.l,null,`[Incomplete Response]`);break}else if(t==ft){this.m=4,Xe(15),nt(this.i,this.l,n,`[Invalid Chunk]`),e=!1;break}else nt(this.i,this.l,t,null),wt(this,t);if(_t(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),s!=4||n.length!=0||this.h.h||(this.m=1,Xe(16),e=!1),this.o=this.o&&e,!e)nt(this.i,this.l,n,`[Invalid Chunked Response]`),Ct(this),St(this);else if(n.length>0&&!this.W){this.W=!0;var o=this.j;o.g==this&&o.aa&&!o.P&&(o.j.info(`Great, no buffering proxy detected. Bytes received: `+n.length),Pn(o),o.P=!0,Xe(11))}}else nt(this.i,this.l,n,null),wt(this,n);s==4&&Ct(this),this.o&&!this.K&&(s==4?Ln(this.j,this):(this.o=!1,yt(this)))}else xn(this.g),t==400&&n.indexOf(`Unknown SID`)>0?(this.m=3,Xe(12)):(this.m=0,Xe(13)),Ct(this),St(this)}}}catch{}};function gt(e){if(!_t(e))return e.g.la();let t=bn(e.g);if(t===``)return``;let n=``,r=t.length,i=yn(e.g)==4;if(!e.h.i){if(typeof TextDecoder>`u`)return Ct(e),St(e),``;e.h.i=new o.TextDecoder}for(let a=0;a<r;a++)e.h.h=!0,n+=e.h.i.decode(t[a],{stream:!(i&&a==r-1)});return t.length=0,e.h.g+=n,e.C=0,e.h.g}function _t(e){return e.g?e.v==`GET`&&e.M!=2&&e.j.Aa:!1}function vt(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?pt:(n=Number(t.substring(n,r)),isNaN(n)?ft:(r+=1,r+n>t.length?pt:(t=t.slice(r,r+n),e.C=r+n,t)))}ut.prototype.cancel=function(){this.K=!0,Ct(this)};function yt(e){e.T=Date.now()+e.H,bt(e,e.H)}function bt(e,t){if(e.D!=null)throw Error(`WatchDog timer not null`);e.D=Qe(l(e.aa,e),t)}function xt(e){e.D&&=(o.clearTimeout(e.D),null)}ut.prototype.aa=function(){this.D=null;let e=Date.now();e-this.T>=0?(rt(this.i,this.B),this.M!=2&&(Je(),Xe(17)),Ct(this),this.m=2,St(this)):bt(this,this.T-e)};function St(e){e.j.I==0||e.K||Ln(e.j,e)}function Ct(e){xt(e);var t=e.O;t&&typeof t.dispose==`function`&&t.dispose(),e.O=null,Fe(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.dispose())}function wt(e,t){try{var n=e.j;if(n.I!=0&&(n.g==e||kt(n.h,e))){if(!e.L&&kt(n.h,e)&&n.I==3){try{var r=n.Ba.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){a:if(!n.v){if(n.g)if(n.g.F+3e3<e.F)In(n),Tn(n);else break a;Nn(n),Xe(18)}}else n.xa=i[1],0<n.xa-n.K&&i[2]<37500&&n.F&&n.A==0&&!n.C&&(n.C=Qe(l(n.Va,n),6e3));Ot(n.h)<=1&&n.ta&&(n.ta=void 0)}else zn(n,11)}else if((e.L||n.g==e)&&In(n),!re(t))for(i=n.Ba.g.parse(t),t=0;t<i.length;t++){let l=i[t],u=l[0];if(!(u<=n.K))if(n.K=u,l=l[1],n.I==2)if(l[0]==`c`){n.M=l[1],n.ba=l[2];let t=l[3];t!=null&&(n.ka=t,n.j.info(`VER=`+n.ka));let i=l[4];i!=null&&(n.za=i,n.j.info(`SVER=`+n.za));let u=l[5];u!=null&&typeof u==`number`&&u>0&&(r=1.5*u,n.O=r,n.j.info(`backChannelRequestTimeoutMs_=`+r)),r=n;let d=e.g;if(d){let e=d.g?d.g.getResponseHeader(`X-Client-Wire-Protocol`):null;if(e){var a=r.h;a.g||e.indexOf(`spdy`)==-1&&e.indexOf(`quic`)==-1&&e.indexOf(`h2`)==-1||(a.j=a.l,a.g=new Set,a.h&&=(At(a,a.h),null))}if(r.G){let e=d.g?d.g.getResponseHeader(`X-HTTP-Session-Id`):null;e&&(r.wa=e,A(r.J,r.G,e))}}n.I=3,n.l&&n.l.ra(),n.aa&&(n.T=Date.now()-e.F,n.j.info(`Handshake RTT: `+n.T+`ms`)),r=n;var o=e;if(r.na=Vn(r,r.L?r.ba:null,r.W),o.L){jt(r.h,o);var s=o,c=r.O;c&&(s.H=c),s.D&&(xt(s),yt(s)),r.g=o}else Mn(r);n.i.length>0&&Dn(n)}else l[0]!=`stop`&&l[0]!=`close`||zn(n,7);else n.I==3&&(l[0]==`stop`||l[0]==`close`?l[0]==`stop`?zn(n,7):wn(n):l[0]!=`noop`&&n.l&&n.l.qa(l),n.A=0)}}Je(4)}catch{}}var Tt=class{constructor(e,t){this.g=e,this.map=t}};function Et(e){this.l=e||10,o.PerformanceNavigationTiming?(e=o.performance.getEntriesByType(`navigation`),e=e.length>0&&(e[0].nextHopProtocol==`hq`||e[0].nextHopProtocol==`h2`)):e=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Dt(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function Ot(e){return e.h?1:e.g?e.g.size:0}function kt(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function At(e,t){e.g?e.g.add(t):e.h=t}function jt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}Et.prototype.cancel=function(){if(this.i=Mt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let e of this.g.values())e.cancel();this.g.clear()}};function Mt(e){if(e.h!=null)return e.i.concat(e.h.G);if(e.g!=null&&e.g.size!==0){let t=e.i;for(let n of e.g.values())t=t.concat(n.G);return t}return p(e.i)}var Nt=RegExp(`^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$`);function Pt(e,t){if(e){e=e.split(`&`);for(let n=0;n<e.length;n++){let r=e[n].indexOf(`=`),i,a=null;r>=0?(i=e[n].substring(0,r),a=e[n].substring(r+1)):i=e[n],t(i,a?decodeURIComponent(a.replace(/\+/g,` `)):``)}}}function Ft(e){this.g=this.o=this.j=``,this.u=null,this.m=this.h=``,this.l=!1;let t;e instanceof Ft?(this.l=e.l,Lt(this,e.j),this.o=e.o,this.g=e.g,Rt(this,e.u),this.h=e.h,zt(this,Qt(e.i)),this.m=e.m):e&&(t=String(e).match(Nt))?(this.l=!1,Lt(this,t[1]||``,!0),this.o=Vt(t[2]||``),this.g=Vt(t[3]||``,!0),Rt(this,t[4]),this.h=Vt(t[5]||``,!0),zt(this,t[6]||``,!0),this.m=Vt(t[7]||``)):(this.l=!1,this.i=new M(null,this.l))}Ft.prototype.toString=function(){let e=[];var t=this.j;t&&e.push(Ht(t,Wt,!0),`:`);var n=this.g;return(n||t==`file`)&&(e.push(`//`),(t=this.o)&&e.push(Ht(t,Wt,!0),`@`),e.push(ct(n).replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),n=this.u,n!=null&&e.push(`:`,String(n))),(n=this.h)&&(this.g&&n.charAt(0)!=`/`&&e.push(`/`),e.push(Ht(n,n.charAt(0)==`/`?Kt:Gt,!0))),(n=this.i.toString())&&e.push(`?`,n),(n=this.m)&&e.push(`#`,Ht(n,qt)),e.join(``)},Ft.prototype.resolve=function(e){let t=It(this),n=!!e.j;n?Lt(t,e.j):n=!!e.o,n?t.o=e.o:n=!!e.g,n?t.g=e.g:n=e.u!=null;var r=e.h;if(n)Rt(t,e.u);else if(n=!!e.h){if(r.charAt(0)!=`/`)if(this.g&&!this.h)r=`/`+r;else{var i=t.h.lastIndexOf(`/`);i!=-1&&(r=t.h.slice(0,i+1)+r)}if(i=r,i==`..`||i==`.`)r=``;else if(i.indexOf(`./`)!=-1||i.indexOf(`/.`)!=-1){r=i.lastIndexOf(`/`,0)==0,i=i.split(`/`);let e=[];for(let t=0;t<i.length;){let n=i[t++];n==`.`?r&&t==i.length&&e.push(``):n==`..`?((e.length>1||e.length==1&&e[0]!=``)&&e.pop(),r&&t==i.length&&e.push(``)):(e.push(n),r=!0)}r=e.join(`/`)}else r=i}return n?t.h=r:n=e.i.toString()!==``,n?zt(t,Qt(e.i)):n=!!e.m,n&&(t.m=e.m),t};function It(e){return new Ft(e)}function Lt(e,t,n){e.j=n?Vt(t,!0):t,e.j&&=e.j.replace(/:$/,``)}function Rt(e,t){if(t){if(t=Number(t),isNaN(t)||t<0)throw Error(`Bad port number `+t);e.u=t}else e.u=null}function zt(e,t,n){t instanceof M?(e.i=t,en(e.i,e.l)):(n||(t=Ht(t,j)),e.i=new M(t,e.l))}function A(e,t,n){e.i.set(t,n)}function Bt(e){return A(e,`zx`,Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),e}function Vt(e,t){return e?t?decodeURI(e.replace(/%25/g,`%2525`)):decodeURIComponent(e):``}function Ht(e,t,n){return typeof e==`string`?(e=encodeURI(e).replace(t,Ut),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,`%$1`)),e):null}function Ut(e){return e=e.charCodeAt(0),`%`+(e>>4&15).toString(16)+(e&15).toString(16)}var Wt=/[#\/\?@]/g,Gt=/[#\?:]/g,Kt=/[#\?]/g,j=/[#\?@]/g,qt=/#/g;function M(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Jt(e){e.g||(e.g=new Map,e.h=0,e.i&&Pt(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g,` `)),n)}))}e=M.prototype,e.add=function(e,t){Jt(this),this.i=null,e=$t(this,e);let n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function N(e,t){Jt(e),t=$t(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Yt(e,t){return Jt(e),t=$t(e,t),e.g.has(t)}e.forEach=function(e,t){Jt(this),this.g.forEach(function(n,r){n.forEach(function(n){e.call(t,n,r,this)},this)},this)};function Xt(e,t){Jt(e);let n=[];if(typeof t==`string`)Yt(e,t)&&(n=n.concat(e.g.get($t(e,t))));else for(e=Array.from(e.g.values()),t=0;t<e.length;t++)n=n.concat(e[t]);return n}e.set=function(e,t){return Jt(this),this.i=null,e=$t(this,e),Yt(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e?(e=Xt(this,e),e.length>0?String(e[0]):t):t};function Zt(e,t,n){N(e,t),n.length>0&&(e.i=null,e.g.set($t(e,t),p(n)),e.h+=n.length)}e.toString=function(){if(this.i)return this.i;if(!this.g)return``;let e=[],t=Array.from(this.g.keys());for(let r=0;r<t.length;r++){var n=t[r];let i=ct(n);n=Xt(this,n);for(let t=0;t<n.length;t++){let r=i;n[t]!==``&&(r+=`=`+ct(n[t])),e.push(r)}}return this.i=e.join(`&`)};function Qt(e){let t=new M;return t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),t}function $t(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function en(e,t){t&&!e.j&&(Jt(e),e.i=null,e.g.forEach(function(e,t){let n=t.toLowerCase();t!=n&&(N(this,t),Zt(this,n,e))},e)),e.j=t}function tn(e,t){let n=new $e;if(o.Image){let r=new Image;r.onload=u(rn,n,`TestLoadImage: loaded`,!0,t,r),r.onerror=u(rn,n,`TestLoadImage: error`,!1,t,r),r.onabort=u(rn,n,`TestLoadImage: abort`,!1,t,r),r.ontimeout=u(rn,n,`TestLoadImage: timeout`,!1,t,r),o.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function nn(e,t){let n=new $e,r=new AbortController,i=setTimeout(()=>{r.abort(),rn(n,`TestPingServer: timeout`,!1,t)},1e4);fetch(e,{signal:r.signal}).then(e=>{clearTimeout(i),e.ok?rn(n,`TestPingServer: ok`,!0,t):rn(n,`TestPingServer: server error`,!1,t)}).catch(()=>{clearTimeout(i),rn(n,`TestPingServer: error`,!1,t)})}function rn(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch{}}function an(){this.g=new Re}function on(e){this.i=e.Sb||null,this.h=e.ab||!1}d(on,ze),on.prototype.g=function(){return new sn(this.i,this.h)};function sn(e,t){Oe.call(this),this.H=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText=``,this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F=`GET`,this.D=``,this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}d(sn,Oe),e=sn.prototype,e.open=function(e,t){if(this.readyState!=0)throw this.abort(),Error(`Error reopening a connection`);this.F=e,this.D=t,this.readyState=1,un(this)},e.send=function(e){if(this.readyState!=1)throw this.abort(),Error(`need to call open() first. `);if(this.v.signal.aborted)throw this.abort(),Error(`Request was aborted.`);this.g=!0;let t={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};e&&(t.body=e),(this.H||o).fetch(new Request(this.D,t)).then(this.Pa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText=``,this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel(`Request was aborted.`).catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ln(this)),this.readyState=0},e.Pa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,un(this)),this.g&&(this.readyState=3,un(this),this.g)))if(this.responseType===`arraybuffer`)e.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(o.ReadableStream!==void 0&&`body`in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error(`responseType must be empty for "streamBinaryChunks" mode responses.`);this.response=[]}else this.response=this.responseText=``,this.B=new TextDecoder;cn(this)}else e.text().then(this.Oa.bind(this),this.ga.bind(this))};function cn(e){e.j.read().then(e.Ma.bind(e)).catch(e.ga.bind(e))}e.Ma=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array;(t=this.B.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?ln(this):un(this),this.readyState==3&&cn(this)}},e.Oa=function(e){this.g&&(this.response=this.responseText=e,ln(this))},e.Na=function(e){this.g&&(this.response=e,ln(this))},e.ga=function(){this.g&&ln(this)};function ln(e){e.readyState=4,e.l=null,e.j=null,e.B=null,un(e)}e.setRequestHeader=function(e,t){this.A.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||``},e.getAllResponseHeaders=function(){if(!this.h)return``;let e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+`: `+n[1]),n=t.next();return e.join(`\r
`)};function un(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(sn.prototype,`withCredentials`,{get:function(){return this.m===`include`},set:function(e){this.m=e?`include`:`same-origin`}});function dn(e){let t=``;return D(e,function(e,n){t+=n,t+=`:`,t+=e,t+=`\r
`}),t}function fn(e,t,n){a:{for(r in n){var r=!1;break a}r=!0}r||(n=dn(n),typeof e==`string`||A(e,t,n))}function P(e){Oe.call(this),this.headers=new Map,this.L=e||null,this.h=!1,this.g=null,this.D=``,this.o=0,this.l=``,this.j=this.B=this.v=this.A=!1,this.m=null,this.F=``,this.H=!1}d(P,Oe);var pn=/^https?$/i,mn=[`POST`,`PUT`];e=P.prototype,e.Fa=function(e){this.H=e},e.ea=function(e,t,n,r){if(this.g)throw Error(`[goog.net.XhrIo] Object is active with another request=`+this.D+`; newUri=`+e);t=t?t.toUpperCase():`GET`,this.D=e,this.l=``,this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():ot.g(),this.g.onreadystatechange=f(l(this.Ca,this));try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(e){hn(this,e);return}if(e=n||``,n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys==`function`&&typeof r.get==`function`)for(let e of r.keys())n.set(e,r.get(e));else throw Error(`Unknown input type for opt_headers: `+String(r));r=Array.from(n.keys()).find(e=>e.toLowerCase()==`content-type`),i=o.FormData&&e instanceof o.FormData,!(Array.prototype.indexOf.call(mn,t,void 0)>=0)||r||i||n.set(`Content-Type`,`application/x-www-form-urlencoded;charset=utf-8`);for(let[e,t]of n)this.g.setRequestHeader(e,t);this.F&&(this.g.responseType=this.F),`withCredentials`in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&=(clearTimeout(this.m),null),this.v=!0,this.g.send(e),this.v=!1}catch(e){hn(this,e)}};function hn(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.o=5,gn(e),vn(e)}function gn(e){e.A||(e.A=!0,ke(e,`complete`),ke(e,`error`))}e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=e||7,ke(this,`complete`),ke(this,`abort`),vn(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vn(this,!0)),P.Z.N.call(this)},e.Ca=function(){this.u||(this.B||this.v||this.j?_n(this):this.Xa())},e.Xa=function(){_n(this)};function _n(e){if(e.h&&a!==void 0){if(e.v&&yn(e)==4)setTimeout(e.Ca.bind(e),0);else if(ke(e,`readystatechange`),yn(e)==4){e.h=!1;try{let a=e.ca();a:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break a;default:t=!1}var n;if(!(n=t)){var r;if(r=a===0){let t=String(e.D).match(Nt)[1]||null;!t&&o.self&&o.self.location&&(t=o.self.location.protocol.slice(0,-1)),r=!pn.test(t?t.toLowerCase():``)}n=r}if(n)ke(e,`complete`),ke(e,`success`);else{e.o=6;try{var i=yn(e)>2?e.g.statusText:``}catch{i=``}e.l=i+` [`+e.ca()+`]`,gn(e)}}finally{vn(e)}}}}function vn(e,t){if(e.g){e.m&&=(clearTimeout(e.m),null);let n=e.g;e.g=null,t||ke(e,`ready`);try{n.onreadystatechange=null}catch{}}}e.isActive=function(){return!!this.g};function yn(e){return e.g?e.g.readyState:0}e.ca=function(){try{return yn(this)>2?this.g.status:-1}catch{return-1}},e.la=function(){try{return this.g?this.g.responseText:``}catch{return``}},e.La=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Le(t)}};function bn(e){try{if(!e.g)return null;if(`response`in e.g)return e.g.response;switch(e.F){case``:case`text`:return e.g.responseText;case`arraybuffer`:if(`mozResponseArrayBuffer`in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function xn(e){let t={};e=(e.g&&yn(e)>=2&&e.g.getAllResponseHeaders()||``).split(`\r
`);for(let r=0;r<e.length;r++){if(re(e[r]))continue;var n=lt(e[r]);let i=n[0];if(n=n[1],typeof n!=`string`)continue;n=n.trim();let a=t[i]||[];t[i]=a,a.push(n)}ce(t,function(e){return e.join(`, `)})}e.ya=function(){return this.o},e.Ha=function(){return typeof this.l==`string`?this.l:String(this.l)};function Sn(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Cn(e){this.za=0,this.i=[],this.j=new $e,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Sn(`failFast`,!1,e),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Sn(`baseRetryDelayMs`,5e3,e),this.Za=Sn(`retryDelaySeedMs`,1e4,e),this.Ta=Sn(`forwardChannelMaxRetries`,2,e),this.va=Sn(`forwardChannelRequestTimeoutMs`,2e4,e),this.ma=e&&e.xmlHttpFactory||void 0,this.Ua=e&&e.Rb||void 0,this.Aa=e&&e.useFetchStreams||!1,this.O=void 0,this.L=e&&e.supportsCrossDomainXhr||!1,this.M=``,this.h=new Et(e&&e.concurrentRequestLimit),this.Ba=new an,this.S=e&&e.fastHandshake||!1,this.R=e&&e.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=e&&e.Pb||!1,e&&e.ua&&this.j.ua(),e&&e.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&e&&e.detectBufferingProxy||!1,this.ia=void 0,e&&e.longPollingTimeout&&e.longPollingTimeout>0&&(this.ia=e.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}e=Cn.prototype,e.ka=8,e.I=1,e.connect=function(e,t,n,r){Xe(0),this.W=e,this.H=t||{},n&&r!==void 0&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.J=Vn(this,null,this.W),Dn(this)};function wn(e){if(En(e),e.I==3){var t=e.V++,n=It(e.J);if(A(n,`SID`,e.M),A(n,`RID`,t),A(n,`TYPE`,`terminate`),An(e,n),t=new ut(e,e.j,t),t.M=2,t.A=Bt(It(n)),n=!1,o.navigator&&o.navigator.sendBeacon)try{n=o.navigator.sendBeacon(t.A.toString(),``)}catch{}!n&&o.Image&&(new Image().src=t.A,n=!0),n||(t.g=Hn(t.j,null),t.g.ea(t.A)),t.F=Date.now(),yt(t)}Bn(e)}function Tn(e){e.g&&=(Pn(e),e.g.cancel(),null)}function En(e){Tn(e),e.v&&=(o.clearTimeout(e.v),null),In(e),e.h.cancel(),e.m&&=(typeof e.m==`number`&&o.clearTimeout(e.m),null)}function Dn(e){if(!Dt(e.h)&&!e.m){e.m=!0;var t=e.Ea;x||ee(),S||=(x(),!0),C.add(t,e),e.D=0}}function On(e,t){return Ot(e.h)>=e.h.j-(e.m?1:0)?!1:e.m?(e.i=t.G.concat(e.i),!0):e.I==1||e.I==2||e.D>=(e.Sa?0:e.Ta)?!1:(e.m=Qe(l(e.Ea,e,t),Rn(e,e.D)),e.D++,!0)}e.Ea=function(e){if(this.m)if(this.m=null,this.I==1){if(!e){this.V=Math.floor(Math.random()*1e5),e=this.V++;let i=new ut(this,this.j,e),a=this.o;if(this.U&&(a?(a=le(a),de(a,this.U)):a=this.U),this.u!==null||this.R||(i.J=a,a=null),this.S)a:{for(var t=0,n=0;n<this.i.length;n++){b:{var r=this.i[n];if(`__data__`in r.map&&(r=r.map.__data__,typeof r==`string`)){r=r.length;break b}r=void 0}if(r===void 0)break;if(t+=r,t>4096){t=n;break a}if(t===4096||n===this.i.length-1){t=n+1;break a}}t=1e3}else t=1e3;t=jn(this,i,t),n=It(this.J),A(n,`RID`,e),A(n,`CVER`,22),this.G&&A(n,`X-HTTP-Session-Id`,this.G),An(this,n),a&&(this.R?t=`headers=`+ct(dn(a))+`&`+t:this.u&&fn(n,this.u,a)),At(this.h,i),this.Ra&&A(n,`TYPE`,`init`),this.S?(A(n,`$req`,t),A(n,`SID`,`null`),i.U=!0,mt(i,n,null)):mt(i,n,t),this.I=2}}else this.I==3&&(e?kn(this,e):this.i.length==0||Dt(this.h)||kn(this))};function kn(e,t){var n=t?t.l:e.V++;let r=It(e.J);A(r,`SID`,e.M),A(r,`RID`,n),A(r,`AID`,e.K),An(e,r),e.u&&e.o&&fn(r,e.u,e.o),n=new ut(e,e.j,n,e.D+1),e.u===null&&(n.J=e.o),t&&(e.i=t.G.concat(e.i)),t=jn(e,n,1e3),n.H=Math.round(e.va*.5)+Math.round(e.va*.5*Math.random()),At(e.h,n),mt(n,r,t)}function An(e,t){e.H&&D(e.H,function(e,n){A(t,n,e)}),e.l&&D({},function(e,n){A(t,n,e)})}function jn(e,t,n){n=Math.min(e.i.length,n);let r=e.l?l(e.l.Ka,e.l,e):null;a:{var i=e.i;let t=-1;for(;;){let e=[`count=`+n];t==-1?n>0?(t=i[0].g,e.push(`ofs=`+t)):t=0:e.push(`ofs=`+t);let c=!0;for(let l=0;l<n;l++){var a=i[l].g;let n=i[l].map;if(a-=t,a<0)t=Math.max(0,i[l].g-100),c=!1;else try{a=`req`+a+`_`||``;try{var o=n instanceof Map?n:Object.entries(n);for(let[t,n]of o){let r=n;s(n)&&(r=Ie(n)),e.push(a+t+`=`+encodeURIComponent(r))}}catch(t){throw e.push(a+`type=_badmap`),t}}catch{r&&r(n)}}if(c){o=e.join(`&`);break a}}o=void 0}return e=e.i.splice(0,n),t.G=e,o}function Mn(e){if(!e.g&&!e.v){e.Y=1;var t=e.Da;x||ee(),S||=(x(),!0),C.add(t,e),e.A=0}}function Nn(e){return e.g||e.v||e.A>=3?!1:(e.Y++,e.v=Qe(l(e.Da,e),Rn(e,e.A)),e.A++,!0)}e.Da=function(){if(this.v=null,Fn(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var e=4*this.T;this.j.info(`BP detection timer enabled: `+e),this.B=Qe(l(this.Wa,this),e)}},e.Wa=function(){this.B&&(this.B=null,this.j.info(`BP detection timeout reached.`),this.j.info(`Buffering proxy detected and switch to long-polling!`),this.F=!1,this.P=!0,Xe(10),Tn(this),Fn(this))};function Pn(e){e.B!=null&&(o.clearTimeout(e.B),e.B=null)}function Fn(e){e.g=new ut(e,e.j,`rpc`,e.Y),e.u===null&&(e.g.J=e.o),e.g.P=0;var t=It(e.na);A(t,`RID`,`rpc`),A(t,`SID`,e.M),A(t,`AID`,e.K),A(t,`CI`,e.F?`0`:`1`),!e.F&&e.ia&&A(t,`TO`,e.ia),A(t,`TYPE`,`xmlhttp`),An(e,t),e.u&&e.o&&fn(t,e.u,e.o),e.O&&(e.g.H=e.O);var n=e.g;e=e.ba,n.M=1,n.A=Bt(It(t)),n.u=null,n.R=!0,ht(n,e)}e.Va=function(){this.C!=null&&(this.C=null,Tn(this),Nn(this),Xe(19))};function In(e){e.C!=null&&(o.clearTimeout(e.C),e.C=null)}function Ln(e,t){var n=null;if(e.g==t){In(e),Pn(e),e.g=null;var r=2}else if(kt(e.h,t))n=t.G,jt(e.h,t),r=1;else return;if(e.I!=0){if(t.o)if(r==1){n=t.u?t.u.length:0,t=Date.now()-t.F;var i=e.D;r=Ke(),ke(r,new Ze(r,n)),Dn(e)}else Mn(e);else if(i=t.m,i==3||i==0&&t.X>0||!(r==1&&On(e,t)||r==2&&Nn(e)))switch(n&&n.length>0&&(t=e.h,t.i=t.i.concat(n)),i){case 1:zn(e,5);break;case 4:zn(e,10);break;case 3:zn(e,6);break;default:zn(e,2)}}}function Rn(e,t){let n=e.Qa+Math.floor(Math.random()*e.Za);return e.isActive()||(n*=2),n*t}function zn(e,t){if(e.j.info(`Error code `+t),t==2){var n=l(e.bb,e),r=e.Ua;let t=!r;r=new Ft(r||`//www.google.com/images/cleardot.gif`),o.location&&o.location.protocol==`http`||Lt(r,`https`),Bt(r),t?tn(r.toString(),n):nn(r.toString(),n)}else Xe(2);e.I=0,e.l&&e.l.pa(t),Bn(e),En(e)}e.bb=function(e){e?(this.j.info(`Successfully pinged google.com`),Xe(2)):(this.j.info(`Failed to ping google.com`),Xe(1))};function Bn(e){if(e.I=0,e.ja=[],e.l){let t=Mt(e.h);(t.length!=0||e.i.length!=0)&&(m(e.ja,t),m(e.ja,e.i),e.h.i.length=0,p(e.i),e.i.length=0),e.l.oa()}}function Vn(e,t,n){var r=n instanceof Ft?It(n):new Ft(n);if(r.g!=``)t&&(r.g=t+`.`+r.g),Rt(r,r.u);else{var i=o.location;r=i.protocol,t=t?t+`.`+i.hostname:i.hostname,i=+i.port;let e=new Ft(null);r&&Lt(e,r),t&&(e.g=t),i&&Rt(e,i),n&&(e.h=n),r=e}return n=e.G,t=e.wa,n&&t&&A(r,n,t),A(r,`VER`,e.ka),An(e,r),r}function Hn(e,t,n){if(t&&!e.L)throw Error(`Can't create secondary domain capable XhrIo object.`);return t=e.Aa&&!e.ma?new P(new on({ab:n})):new P(e.ma),t.Fa(e.L),t}e.isActive=function(){return!!this.l&&this.l.isActive(this)};function Un(){}e=Un.prototype,e.ra=function(){},e.qa=function(){},e.pa=function(){},e.oa=function(){},e.isActive=function(){return!0},e.Ka=function(){};function Wn(){}Wn.prototype.g=function(e,t){return new Gn(e,t)};function Gn(e,t){Oe.call(this),this.g=new Cn(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e[`X-Client-Protocol`]=`webchannel`:e={"X-Client-Protocol":`webchannel`}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e[`X-WebChannel-Content-Type`]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.sa&&(e?e[`X-WebChannel-Client-Profile`]=t.sa:e={"X-WebChannel-Client-Profile":t.sa}),this.g.U=e,(e=t&&t.Qb)&&!re(e)&&(this.g.u=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t&&=t.httpSessionIdParam)&&!re(t)&&(this.g.G=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Jn(this)}d(Gn,Oe),Gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Gn.prototype.close=function(){wn(this.g)},Gn.prototype.o=function(e){var t=this.g;if(typeof e==`string`){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=Ie(e),e=n);t.i.push(new Tt(t.Ya++,e)),t.I==3&&Dn(t)},Gn.prototype.N=function(){this.g.l=null,delete this.j,wn(this.g),delete this.g,Gn.Z.N.call(this)};function Kn(e){He.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){a:{for(let n in t){e=n;break a}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}d(Kn,He);function qn(){Ue.call(this),this.status=1}d(qn,Ue);function Jn(e){this.g=e}d(Jn,Un),Jn.prototype.ra=function(){ke(this.g,`a`)},Jn.prototype.qa=function(e){ke(this.g,new Kn(e))},Jn.prototype.pa=function(e){ke(this.g,new qn)},Jn.prototype.oa=function(){ke(this.g,`b`)},Wn.prototype.createWebChannel=Wn.prototype.g,Gn.prototype.send=Gn.prototype.o,Gn.prototype.open=Gn.prototype.m,Gn.prototype.close=Gn.prototype.close,Tf=_f.createWebChannelTransport=function(){return new Wn},wf=_f.getStatEventTarget=function(){return Ke()},Cf=_f.Event=We,Sf=_f.Stat={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},k.NO_ERROR=0,k.TIMEOUT=8,k.HTTP_ERROR=6,xf=_f.ErrorCode=k,at.COMPLETE=`complete`,bf=_f.EventType=at,Be.EventType=Ve,Ve.OPEN=`a`,Ve.CLOSE=`b`,Ve.ERROR=`c`,Ve.MESSAGE=`d`,Oe.prototype.listen=Oe.prototype.J,yf=_f.WebChannel=Be,_f.FetchXmlHttpFactory=on,P.prototype.listenOnce=P.prototype.K,P.prototype.getLastError=P.prototype.Ha,P.prototype.getLastErrorCode=P.prototype.ya,P.prototype.getStatus=P.prototype.ca,P.prototype.getResponseJson=P.prototype.La,P.prototype.getResponseText=P.prototype.la,P.prototype.send=P.prototype.ea,P.prototype.setWithCredentials=P.prototype.Fa,vf=_f.XhrIo=P}).apply(gf===void 0?typeof self<`u`?self:typeof window<`u`?window:{}:gf);var Ef=`@firebase/firestore`,Df=`4.9.2`,Of=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?`uid:`+this.uid:`anonymous-user`}isEqual(e){return e.uid===this.uid}};Of.UNAUTHENTICATED=new Of(null),Of.GOOGLE_CREDENTIALS=new Of(`google-credentials-uid`),Of.FIRST_PARTY=new Of(`first-party-uid`),Of.MOCK_USER=new Of(`mock-user`);var kf=`12.3.0`,Af=new ju(`@firebase/firestore`);function jf(){return Af.logLevel}function z(e,...t){if(Af.logLevel<=R.DEBUG){let n=t.map(Pf);Af.debug(`Firestore (${kf}): ${e}`,...n)}}function Mf(e,...t){if(Af.logLevel<=R.ERROR){let n=t.map(Pf);Af.error(`Firestore (${kf}): ${e}`,...n)}}function Nf(e,...t){if(Af.logLevel<=R.WARN){let n=t.map(Pf);Af.warn(`Firestore (${kf}): ${e}`,...n)}}function Pf(e){if(typeof e==`string`)return e;try{return function(e){return JSON.stringify(e)}(e)}catch{return e}}function B(e,t,n){let r=`Unexpected state`;typeof t==`string`?r=t:n=t,Ff(e,r,n)}function Ff(e,t,n){let r=`FIRESTORE (${kf}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(n!==void 0)try{r+=` CONTEXT: `+JSON.stringify(n)}catch{r+=` CONTEXT: `+n}throw Mf(r),Error(r)}function V(e,t,n,r){let i=`Unexpected state`;typeof n==`string`?i=n:r=n,e||Ff(t,i,r)}function H(e,t){return e}var U={OK:`ok`,CANCELLED:`cancelled`,UNKNOWN:`unknown`,INVALID_ARGUMENT:`invalid-argument`,DEADLINE_EXCEEDED:`deadline-exceeded`,NOT_FOUND:`not-found`,ALREADY_EXISTS:`already-exists`,PERMISSION_DENIED:`permission-denied`,UNAUTHENTICATED:`unauthenticated`,RESOURCE_EXHAUSTED:`resource-exhausted`,FAILED_PRECONDITION:`failed-precondition`,ABORTED:`aborted`,OUT_OF_RANGE:`out-of-range`,UNIMPLEMENTED:`unimplemented`,INTERNAL:`internal`,UNAVAILABLE:`unavailable`,DATA_LOSS:`data-loss`},W=class extends au{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}},If=class{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}},Lf=class{constructor(e,t){this.user=t,this.type=`OAuth`,this.headers=new Map,this.headers.set(`Authorization`,`Bearer ${e}`)}},Rf=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Of.UNAUTHENTICATED)))}shutdown(){}},zf=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}},Bf=class{constructor(e){this.t=e,this.currentUser=Of.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){V(this.o===void 0,42304);let n=this.i,r=e=>this.i===n?Promise.resolve():(n=this.i,t(e)),i=new If;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new If,e.enqueueRetryable((()=>r(this.currentUser)))};let a=()=>{let t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{z(`FirebaseAuthCredentialsProvider`,`Auth detected`),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){let e=this.t.getImmediate({optional:!0});e?o(e):(z(`FirebaseAuthCredentialsProvider`,`Auth not yet detected`),i.resolve(),i=new If)}}),0),a()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i===e?t?(V(typeof t.accessToken==`string`,31837,{l:t}),new Lf(t.accessToken,this.currentUser)):null:(z(`FirebaseAuthCredentialsProvider`,`getToken aborted due to token change.`),this.getToken()))):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return V(e===null||typeof e==`string`,2055,{h:e}),new Of(e)}},Vf=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type=`FirstParty`,this.user=Of.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set(`X-Goog-AuthUser`,this.P);let e=this.R();return e&&this.A.set(`Authorization`,e),this.T&&this.A.set(`X-Goog-Iam-Authorization-Token`,this.T),this.A}},Hf=class{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new Vf(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Of.FIRST_PARTY)))}shutdown(){}invalidateToken(){}},Uf=class{constructor(e){this.value=e,this.type=`AppCheck`,this.headers=new Map,e&&e.length>0&&this.headers.set(`x-firebase-appcheck`,this.value)}},Wf=class{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Vd(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){V(this.o===void 0,3512);let n=e=>{e.error!=null&&z(`FirebaseAppCheckTokenProvider`,`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);let n=e.token!==this.m;return this.m=e.token,z(`FirebaseAppCheckTokenProvider`,`Received ${n?`new`:`existing`} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};let r=e=>{z(`FirebaseAppCheckTokenProvider`,`AppCheck detected`),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){let e=this.V.getImmediate({optional:!0});e?r(e):z(`FirebaseAppCheckTokenProvider`,`AppCheck not yet detected`)}}),0)}getToken(){if(this.p)return Promise.resolve(new Uf(this.p));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(V(typeof e.token==`string`,44558,{tokenResult:e}),this.m=e.token,new Uf(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Gf(e){let t=typeof self<`u`&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues==`function`)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}var Kf=class{static newId(){let e=``;for(;e.length<20;){let t=Gf(40);for(let n=0;n<t.length;++n)e.length<20&&t[n]<248&&(e+=`ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789`.charAt(t[n]%62))}return e}};function G(e,t){return e<t?-1:e>t?1:0}function qf(e,t){let n=Math.min(e.length,t.length);for(let r=0;r<n;r++){let n=e.charAt(r),i=t.charAt(r);if(n!==i)return Xf(n)===Xf(i)?G(n,i):Xf(n)?1:-1}return G(e.length,t.length)}var Jf=55296,Yf=57343;function Xf(e){let t=e.charCodeAt(0);return t>=Jf&&t<=Yf}function Zf(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}var Qf=`__name__`,$f=class e{constructor(e,t,n){t===void 0?t=0:t>e.length&&B(637,{offset:t,range:e.length}),n===void 0?n=e.length-t:n>e.length-t&&B(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(t){return e.comparator(this,t)===0}child(t){let n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((e=>{n.push(e)})):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){let r=Math.min(t.length,n.length);for(let i=0;i<r;i++){let r=e.compareSegments(t.get(i),n.get(i));if(r!==0)return r}return G(t.length,n.length)}static compareSegments(t,n){let r=e.isNumericId(t),i=e.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?e.extractNumericId(t).compare(e.extractNumericId(n)):qf(t,n)}static isNumericId(e){return e.startsWith(`__id`)&&e.endsWith(`__`)}static extractNumericId(e){return mf.fromString(e.substring(4,e.length-2))}},K=class e extends $f{construct(t,n,r){return new e(t,n,r)}canonicalString(){return this.toArray().join(`/`)}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join(`/`)}static fromString(...t){let n=[];for(let e of t){if(e.indexOf(`//`)>=0)throw new W(U.INVALID_ARGUMENT,`Invalid segment (${e}). Paths must not contain // in them.`);n.push(...e.split(`/`).filter((e=>e.length>0)))}return new e(n)}static emptyPath(){return new e([])}},ep=/^[_a-zA-Z][_a-zA-Z0-9]*$/,tp=class e extends $f{construct(t,n,r){return new e(t,n,r)}static isValidIdentifier(e){return ep.test(e)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,`\\\\`).replace(/`/g,"\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(`.`)}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qf}static keyField(){return new e([Qf])}static fromServerFormat(t){let n=[],r=``,i=0,a=()=>{if(r.length===0)throw new W(U.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=``},o=!1;for(;i<t.length;){let e=t[i];if(e===`\\`){if(i+1===t.length)throw new W(U.INVALID_ARGUMENT,`Path has trailing escape character: `+t);let e=t[i+1];if(e!==`\\`&&e!==`.`&&e!=="`")throw new W(U.INVALID_ARGUMENT,`Path has invalid escape sequence: `+t);r+=e,i+=2}else e==="`"?(o=!o,i++):e!==`.`||o?(r+=e,i++):(a(),i++)}if(a(),o)throw new W(U.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)}static emptyPath(){return new e([])}},q=class e{constructor(e){this.path=e}static fromPath(t){return new e(K.fromString(t))}static fromName(t){return new e(K.fromString(t).popFirst(5))}static empty(){return new e(K.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&K.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return K.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(t){return new e(new K(t.slice()))}};function np(e,t,n){if(!n)throw new W(U.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function rp(e,t,n,r){if(!0===t&&!0===r)throw new W(U.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function ip(e){if(!q.isDocumentKey(e))throw new W(U.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function ap(e){if(q.isDocumentKey(e))throw new W(U.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function op(e){return typeof e==`object`&&!!e&&(Object.getPrototypeOf(e)===Object.prototype||Object.getPrototypeOf(e)===null)}function sp(e){if(e===void 0)return`undefined`;if(e===null)return`null`;if(typeof e==`string`)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e==`number`||typeof e==`boolean`)return``+e;if(typeof e==`object`){if(e instanceof Array)return`an array`;{let t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:`an object`}}return typeof e==`function`?`a function`:B(12329,{type:typeof e})}function cp(e,t){if(`_delegate`in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new W(U.INVALID_ARGUMENT,`Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?`);{let n=sp(e);throw new W(U.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function lp(e,t){let n={typeString:e};return t&&(n.value=t),n}function up(e,t){if(!op(e))throw new W(U.INVALID_ARGUMENT,`JSON must be an object`);let n;for(let r in t)if(t[r]){let i=t[r].typeString,a=`value`in t[r]?{value:t[r].value}:void 0;if(!(r in e)){n=`JSON missing required field: '${r}'`;break}let o=e[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(a!==void 0&&o!==a.value){n=`Expected '${r}' field to equal '${a.value}'`;break}}if(n)throw new W(U.INVALID_ARGUMENT,n);return!0}var dp=-62135596800,fp=1e6,pp=class e{static now(){return e.fromMillis(Date.now())}static fromDate(t){return e.fromMillis(t.getTime())}static fromMillis(t){let n=Math.floor(t/1e3);return new e(n,Math.floor((t-1e3*n)*fp))}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0||t>=1e9)throw new W(U.INVALID_ARGUMENT,`Timestamp nanoseconds out of range: `+t);if(e<dp||e>=253402300800)throw new W(U.INVALID_ARGUMENT,`Timestamp seconds out of range: `+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fp}_compareTo(e){return this.seconds===e.seconds?G(this.nanoseconds,e.nanoseconds):G(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return`Timestamp(seconds=`+this.seconds+`, nanoseconds=`+this.nanoseconds+`)`}toJSON(){return{type:e._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(up(t,e._jsonSchema))return new e(t.seconds,t.nanoseconds)}valueOf(){let e=this.seconds-dp;return String(e).padStart(12,`0`)+`.`+String(this.nanoseconds).padStart(9,`0`)}};pp._jsonSchemaVersion=`firestore/timestamp/1.0`,pp._jsonSchema={type:lp(`string`,pp._jsonSchemaVersion),seconds:lp(`number`),nanoseconds:lp(`number`)};var J=class e{static fromTimestamp(t){return new e(t)}static min(){return new e(new pp(0,0))}static max(){return new e(new pp(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return`SnapshotVersion(`+this.timestamp.toString()+`)`}toTimestamp(){return this.timestamp}},mp=-1,hp=class{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}};hp.UNKNOWN_ID=-1;function gp(e,t){let n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1;return new vp(J.fromTimestamp(r===1e9?new pp(n+1,0):new pp(n,r)),q.empty(),t)}function _p(e){return new vp(e.readTime,e.key,mp)}var vp=class e{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new e(J.min(),q.empty(),mp)}static max(){return new e(J.max(),q.empty(),mp)}};function yp(e,t){let n=e.readTime.compareTo(t.readTime);return n===0?(n=q.comparator(e.documentKey,t.documentKey),n===0?G(e.largestBatchId,t.largestBatchId):n):n}var bp=`The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.`,xp=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}};async function Sp(e){if(e.code!==U.FAILED_PRECONDITION||e.message!==bp)throw e;z(`LocalStore`,`Unexpectedly lost primary lease`)}var Y=class e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(t,n){return this.callbackAttached&&B(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e(((e,r)=>{this.nextCallback=n=>{this.wrapSuccess(t,n).next(e,r)},this.catchCallback=t=>{this.wrapFailure(n,t).next(e,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(t){try{let n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}wrapSuccess(t,n){return t?this.wrapUserFunction((()=>t(n))):e.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction((()=>t(n))):e.reject(n)}static resolve(t){return new e(((e,n)=>{e(t)}))}static reject(t){return new e(((e,n)=>{n(t)}))}static waitFor(t){return new e(((e,n)=>{let r=0,i=0,a=!1;t.forEach((t=>{++r,t.next((()=>{++i,a&&i===r&&e()}),(e=>n(e)))})),a=!0,i===r&&e()}))}static or(t){let n=e.resolve(!1);for(let r of t)n=n.next((t=>t?e.resolve(t):r()));return n}static forEach(e,t){let n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(t,n){return new e(((e,r)=>{let i=t.length,a=Array(i),o=0;for(let s=0;s<i;s++){let c=s;n(t[c]).next((t=>{a[c]=t,++o,o===i&&e(a)}),(e=>r(e)))}}))}static doWhile(t,n){return new e(((e,r)=>{let i=()=>{!0===t()?n().next((()=>{i()}),r):e()};i()}))}};function Cp(e){let t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(`.`).slice(0,2).join(`.`):`-1`;return Number(n)}function wp(e){return e.name===`IndexedDbTransactionError`}var Tp=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ae(e),this.ue=e=>t.writeSequenceNumber(e))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ue&&this.ue(e),e}};Tp.ce=-1;var Ep=-1;function Dp(e){return e==null}function Op(e){return e===0&&1/e==-1/0}function kp(e){return typeof e==`number`&&Number.isInteger(e)&&!Op(e)&&e<=2**53-1&&e>=-(2**53-1)}var Ap=``;function jp(e){let t=``;for(let n=0;n<e.length;n++)t.length>0&&(t=Np(t)),t=Mp(e.get(n),t);return Np(t)}function Mp(e,t){let n=t,r=e.length;for(let t=0;t<r;t++){let r=e.charAt(t);switch(r){case`\0`:n+=``;break;case Ap:n+=``;break;default:n+=r}}return n}function Np(e){return e+Ap+``}function Pp(e){let t=0;for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Fp(e,t){for(let n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Ip(e){for(let t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Lp=class e{constructor(e,t){this.comparator=e,this.root=t||zp.EMPTY}insert(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,zp.BLACK,null,null))}remove(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,zp.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){let e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(`, `)}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rp(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rp(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rp(this.root,e,this.comparator,!0)}},Rp=class{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},zp=class e{constructor(t,n,r,i,a){this.key=t,this.value=n,this.color=r??e.RED,this.left=i??e.EMPTY,this.right=a??e.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,a){return new e(t??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this,i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):i===0?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return e.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){let t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){return 2**this.check()<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw B(43730,{key:this.key,value:this.value});if(this.right.isRed())throw B(14113,{key:this.key,value:this.value});let e=this.left.check();if(e!==this.right.check())throw B(27949);return e+(this.isRed()?0:1)}};zp.EMPTY=null,zp.RED=!0,zp.BLACK=!1,zp.EMPTY=new class{constructor(){this.size=0}get key(){throw B(57766)}get value(){throw B(16141)}get color(){throw B(16727)}get left(){throw B(29726)}get right(){throw B(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new zp(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Bp=class e{constructor(e){this.comparator=e,this.data=new Lp(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){let n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){let r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=t===void 0?this.data.getIterator():this.data.getIteratorFrom(t);n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Vp(this.data.getIterator())}getIteratorFrom(e){return new Vp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(this.comparator(e,t)!==0)return!1}return!0}toArray(){let e=[];return this.forEach((t=>{e.push(t)})),e}toString(){let e=[];return this.forEach((t=>e.push(t))),`SortedSet(`+e.toString()+`)`}copy(t){let n=new e(this.comparator);return n.data=t,n}},Vp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}},Hp=class e{constructor(e){this.fields=e,e.sort(tp.comparator)}static empty(){return new e([])}unionWith(t){let n=new Bp(tp.comparator);for(let e of this.fields)n=n.add(e);for(let e of t)n=n.add(e);return new e(n.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zf(this.fields,e.fields,((e,t)=>e.isEqual(t)))}},Up=class extends Error{constructor(){super(...arguments),this.name=`Base64DecodeError`}},Wp=class e{constructor(e){this.binaryString=e}static fromBase64String(t){return new e(function(e){try{return atob(e)}catch(e){throw typeof DOMException<`u`&&e instanceof DOMException?new Up(`Invalid base64 string: `+e):e}}(t))}static fromUint8Array(t){return new e(function(e){let t=``;for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t))}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(e){return btoa(e)}(this.binaryString)}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return G(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Wp.EMPTY_BYTE_STRING=new Wp(``);var Gp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kp(e){if(V(!!e,39018),typeof e==`string`){let t=0,n=Gp.exec(e);if(V(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+`000000000`).substr(0,9),t=Number(e)}let r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:X(e.seconds),nanos:X(e.nanos)}}function X(e){return typeof e==`number`?e:typeof e==`string`?Number(e):0}function qp(e){return typeof e==`string`?Wp.fromBase64String(e):Wp.fromUint8Array(e)}var Jp=`server_timestamp`,Yp=`__type__`,Xp=`__previous_value__`,Zp=`__local_write_time__`;function Qp(e){return(e?.mapValue?.fields||{})[Yp]?.stringValue===Jp}function $p(e){let t=e.mapValue.fields[Xp];return Qp(t)?$p(t):t}function em(e){let t=Kp(e.mapValue.fields[Zp].timestampValue);return new pp(t.seconds,t.nanos)}var tm=class{constructor(e,t,n,r,i,a,o,s,c,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=s,this.useFetchStreams=c,this.isUsingEmulator=l}},nm=`(default)`,rm=class e{constructor(e,t){this.projectId=e,this.database=t||nm}static empty(){return new e(``,``)}get isDefaultDatabase(){return this.database===nm}isEqual(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}},im=`__type__`,am=`__max__`,om={mapValue:{fields:{__type__:{stringValue:am}}}},sm=`__vector__`,cm=`value`;function lm(e){return`nullValue`in e?0:`booleanValue`in e?1:`integerValue`in e||`doubleValue`in e?2:`timestampValue`in e?3:`stringValue`in e?5:`bytesValue`in e?6:`referenceValue`in e?7:`geoPointValue`in e?8:`arrayValue`in e?9:`mapValue`in e?Qp(e)?4:Tm(e)?9007199254740991:Cm(e)?10:11:B(28295,{value:e})}function um(e,t){if(e===t)return!0;let n=lm(e);if(n!==lm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return em(e).isEqual(em(t));case 3:return function(e,t){if(typeof e.timestampValue==`string`&&typeof t.timestampValue==`string`&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;let n=Kp(e.timestampValue),r=Kp(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return qp(e.bytesValue).isEqual(qp(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return X(e.geoPointValue.latitude)===X(t.geoPointValue.latitude)&&X(e.geoPointValue.longitude)===X(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if(`integerValue`in e&&`integerValue`in t)return X(e.integerValue)===X(t.integerValue);if(`doubleValue`in e&&`doubleValue`in t){let n=X(e.doubleValue),r=X(t.doubleValue);return n===r?Op(n)===Op(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Zf(e.arrayValue.values||[],t.arrayValue.values||[],um);case 10:case 11:return function(e,t){let n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Pp(n)!==Pp(r))return!1;for(let e in n)if(n.hasOwnProperty(e)&&(r[e]===void 0||!um(n[e],r[e])))return!1;return!0}(e,t);default:return B(52216,{left:e})}}function dm(e,t){return(e.values||[]).find((e=>um(e,t)))!==void 0}function fm(e,t){if(e===t)return 0;let n=lm(e),r=lm(t);if(n!==r)return G(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return G(e.booleanValue,t.booleanValue);case 2:return function(e,t){let n=X(e.integerValue||e.doubleValue),r=X(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return pm(e.timestampValue,t.timestampValue);case 4:return pm(em(e),em(t));case 5:return qf(e.stringValue,t.stringValue);case 6:return function(e,t){let n=qp(e),r=qp(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){let n=e.split(`/`),r=t.split(`/`);for(let e=0;e<n.length&&e<r.length;e++){let t=G(n[e],r[e]);if(t!==0)return t}return G(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){let n=G(X(e.latitude),X(t.latitude));return n===0?G(X(e.longitude),X(t.longitude)):n}(e.geoPointValue,t.geoPointValue);case 9:return mm(e.arrayValue,t.arrayValue);case 10:return function(e,t){let n=e.fields||{},r=t.fields||{},i=n[cm]?.arrayValue,a=r[cm]?.arrayValue,o=G(i?.values?.length||0,a?.values?.length||0);return o===0?mm(i,a):o}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===om.mapValue&&t===om.mapValue)return 0;if(e===om.mapValue)return 1;if(t===om.mapValue)return-1;let n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(let e=0;e<r.length&&e<a.length;++e){let t=qf(r[e],a[e]);if(t!==0)return t;let o=fm(n[r[e]],i[a[e]]);if(o!==0)return o}return G(r.length,a.length)}(e.mapValue,t.mapValue);default:throw B(23264,{he:n})}}function pm(e,t){if(typeof e==`string`&&typeof t==`string`&&e.length===t.length)return G(e,t);let n=Kp(e),r=Kp(t),i=G(n.seconds,r.seconds);return i===0?G(n.nanos,r.nanos):i}function mm(e,t){let n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){let t=fm(n[e],r[e]);if(t)return t}return G(n.length,r.length)}function hm(e){return gm(e)}function gm(e){return`nullValue`in e?`null`:`booleanValue`in e?``+e.booleanValue:`integerValue`in e?``+e.integerValue:`doubleValue`in e?``+e.doubleValue:`timestampValue`in e?function(e){let t=Kp(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):`stringValue`in e?e.stringValue:`bytesValue`in e?function(e){return qp(e).toBase64()}(e.bytesValue):`referenceValue`in e?function(e){return q.fromName(e).toString()}(e.referenceValue):`geoPointValue`in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):`arrayValue`in e?function(e){let t=`[`,n=!0;for(let r of e.values||[])n?n=!1:t+=`,`,t+=gm(r);return t+`]`}(e.arrayValue):`mapValue`in e?function(e){let t=Object.keys(e.fields||{}).sort(),n=`{`,r=!0;for(let i of t)r?r=!1:n+=`,`,n+=`${i}:${gm(e.fields[i])}`;return n+`}`}(e.mapValue):B(61005,{value:e})}function _m(e){switch(lm(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let t=$p(e);return t?16+_m(t):16;case 5:return 2*e.stringValue.length;case 6:return qp(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+_m(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return Fp(e.fields,((e,n)=>{t+=e.length+_m(n)})),t}(e.mapValue);default:throw B(13486,{value:e})}}function vm(e){return!!e&&`integerValue`in e}function ym(e){return!!e&&`arrayValue`in e}function bm(e){return!!e&&`nullValue`in e}function xm(e){return!!e&&`doubleValue`in e&&isNaN(Number(e.doubleValue))}function Sm(e){return!!e&&`mapValue`in e}function Cm(e){return(e?.mapValue?.fields||{})[im]?.stringValue===sm}function wm(e){if(e.geoPointValue)return{geoPointValue:{...e.geoPointValue}};if(e.timestampValue&&typeof e.timestampValue==`object`)return{timestampValue:{...e.timestampValue}};if(e.mapValue){let t={mapValue:{fields:{}}};return Fp(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=wm(n))),t}if(e.arrayValue){let t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=wm(e.arrayValue.values[n]);return t}return{...e}}function Tm(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===am}var Em=class e{constructor(e){this.value=e}static empty(){return new e({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Sm(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=wm(t)}setAll(e){let t=tp.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){let e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=wm(e):r.push(i.lastSegment())}));let i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){let t=this.field(e.popLast());Sm(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return um(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Sm(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){Fp(t,((t,n)=>e[t]=n));for(let t of n)delete e[t]}clone(){return new e(wm(this.value))}};function Dm(e){let t=[];return Fp(e.fields,((e,n)=>{let r=new tp([e]);if(Sm(n)){let e=Dm(n.mapValue).fields;if(e.length===0)t.push(r);else for(let n of e)t.push(r.child(n))}else t.push(r)})),new Hp(t)}var Om=class e{constructor(e,t,n,r,i,a,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=a,this.documentState=o}static newInvalidDocument(t){return new e(t,0,J.min(),J.min(),J.min(),Em.empty(),0)}static newFoundDocument(t,n,r,i){return new e(t,1,n,J.min(),r,i,0)}static newNoDocument(t,n){return new e(t,2,n,J.min(),J.min(),Em.empty(),0)}static newUnknownDocument(t,n){return new e(t,3,n,J.min(),J.min(),Em.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(J.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Em.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Em.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=J.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}},km=class{constructor(e,t){this.position=e,this.inclusive=t}};function Am(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){let a=t[i],o=e.position[i];if(r=a.field.isKeyField()?q.comparator(q.fromName(o.referenceValue),n.key):fm(o,n.data.field(a.field)),a.dir===`desc`&&(r*=-1),r!==0)break}return r}function jm(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!um(e.position[n],t.position[n]))return!1;return!0}var Mm=class{constructor(e,t=`asc`){this.field=e,this.dir=t}};function Nm(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Pm=class{},Fm=class e extends Pm{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(t,n,r){return t.isKeyField()?n===`in`||n===`not-in`?this.createKeyFieldInFilter(t,n,r):new Um(t,n,r):n===`array-contains`?new qm(t,r):n===`in`?new Jm(t,r):n===`not-in`?new Ym(t,r):n===`array-contains-any`?new Xm(t,r):new e(t,n,r)}static createKeyFieldInFilter(e,t,n){return t===`in`?new Wm(e,n):new Gm(e,n)}matches(e){let t=e.data.field(this.field);return this.op===`!=`?t!==null&&t.nullValue===void 0&&this.matchesComparison(fm(t,this.value)):t!==null&&lm(this.value)===lm(t)&&this.matchesComparison(fm(t,this.value))}matchesComparison(e){switch(this.op){case`<`:return e<0;case`<=`:return e<=0;case`==`:return e===0;case`!=`:return e!==0;case`>`:return e>0;case`>=`:return e>=0;default:return B(47266,{operator:this.op})}}isInequality(){return[`<`,`<=`,`>`,`>=`,`!=`,`not-in`].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Im=class e extends Pm{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(t,n){return new e(t,n)}matches(e){return Lm(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}};function Lm(e){return e.op===`and`}function Rm(e){return zm(e)&&Lm(e)}function zm(e){for(let t of e.filters)if(t instanceof Im)return!1;return!0}function Bm(e){if(e instanceof Fm)return e.field.canonicalString()+e.op.toString()+hm(e.value);if(Rm(e))return e.filters.map((e=>Bm(e))).join(`,`);{let t=e.filters.map((e=>Bm(e))).join(`,`);return`${e.op}(${t})`}}function Vm(e,t){return e instanceof Fm?function(e,t){return t instanceof Fm&&e.op===t.op&&e.field.isEqual(t.field)&&um(e.value,t.value)}(e,t):e instanceof Im?function(e,t){return t instanceof Im&&e.op===t.op&&e.filters.length===t.filters.length?e.filters.reduce(((e,n,r)=>e&&Vm(n,t.filters[r])),!0):!1}(e,t):void B(19439)}function Hm(e){return e instanceof Fm?function(e){return`${e.field.canonicalString()} ${e.op} ${hm(e.value)}`}(e):e instanceof Im?function(e){return e.op.toString()+` {`+e.getFilters().map(Hm).join(` ,`)+`}`}(e):`Filter`}var Um=class extends Fm{constructor(e,t,n){super(e,t,n),this.key=q.fromName(n.referenceValue)}matches(e){let t=q.comparator(e.key,this.key);return this.matchesComparison(t)}},Wm=class extends Fm{constructor(e,t){super(e,`in`,t),this.keys=Km(`in`,t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}},Gm=class extends Fm{constructor(e,t){super(e,`not-in`,t),this.keys=Km(`not-in`,t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}};function Km(e,t){return(t.arrayValue?.values||[]).map((e=>q.fromName(e.referenceValue)))}var qm=class extends Fm{constructor(e,t){super(e,`array-contains`,t)}matches(e){let t=e.data.field(this.field);return ym(t)&&dm(t.arrayValue,this.value)}},Jm=class extends Fm{constructor(e,t){super(e,`in`,t)}matches(e){let t=e.data.field(this.field);return t!==null&&dm(this.value.arrayValue,t)}},Ym=class extends Fm{constructor(e,t){super(e,`not-in`,t)}matches(e){if(dm(this.value.arrayValue,{nullValue:`NULL_VALUE`}))return!1;let t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!dm(this.value.arrayValue,t)}},Xm=class extends Fm{constructor(e,t){super(e,`array-contains-any`,t)}matches(e){let t=e.data.field(this.field);return!(!ym(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>dm(this.value.arrayValue,e)))}},Zm=class{constructor(e,t=null,n=[],r=[],i=null,a=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=a,this.endAt=o,this.Te=null}};function Qm(e,t=null,n=[],r=[],i=null,a=null,o=null){return new Zm(e,t,n,r,i,a,o)}function $m(e){let t=H(e);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+=`|cg:`+t.collectionGroup),e+=`|f:`,e+=t.filters.map((e=>Bm(e))).join(`,`),e+=`|ob:`,e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(`,`),Dp(t.limit)||(e+=`|l:`,e+=t.limit),t.startAt&&(e+=`|lb:`,e+=t.startAt.inclusive?`b:`:`a:`,e+=t.startAt.position.map((e=>hm(e))).join(`,`)),t.endAt&&(e+=`|ub:`,e+=t.endAt.inclusive?`a:`:`b:`,e+=t.endAt.position.map((e=>hm(e))).join(`,`)),t.Te=e}return t.Te}function eh(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Nm(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Vm(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!jm(e.startAt,t.startAt)&&jm(e.endAt,t.endAt)}function th(e){return q.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}var nh=class{constructor(e,t=null,n=[],r=[],i=null,a=`F`,o=null,s=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=a,this.startAt=o,this.endAt=s,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}};function rh(e,t,n,r,i,a,o,s){return new nh(e,t,n,r,i,a,o,s)}function ih(e){return new nh(e)}function ah(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function oh(e){return e.collectionGroup!==null}function sh(e){let t=H(e);if(t.Ie===null){t.Ie=[];let e=new Set;for(let n of t.explicitOrderBy)t.Ie.push(n),e.add(n.field.canonicalString());let n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:`asc`;(function(e){let t=new Bp(tp.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t})(t).forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ie.push(new Mm(r,n))})),e.has(tp.keyField().canonicalString())||t.Ie.push(new Mm(tp.keyField(),n))}return t.Ie}function ch(e){let t=H(e);return t.Ee||=lh(t,sh(e)),t.Ee}function lh(e,t){if(e.limitType===`F`)return Qm(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{let t=e.dir===`desc`?`asc`:`desc`;return new Mm(e.field,t)}));let n=e.endAt?new km(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new km(e.startAt.position,e.startAt.inclusive):null;return Qm(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function uh(e,t,n){return new nh(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function dh(e,t){return eh(ch(e),ch(t))&&e.limitType===t.limitType}function fh(e){return`${$m(ch(e))}|lt:${e.limitType}`}function ph(e){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=` collectionGroup=`+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Hm(e))).join(`, `)}]`),Dp(e.limit)||(t+=`, limit: `+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(`, `)}]`),e.startAt&&(t+=`, startAt: `,t+=e.startAt.inclusive?`b:`:`a:`,t+=e.startAt.position.map((e=>hm(e))).join(`,`)),e.endAt&&(t+=`, endAt: `,t+=e.endAt.inclusive?`a:`:`b:`,t+=e.endAt.position.map((e=>hm(e))).join(`,`)),`Target(${t})`}(ch(e))}; limitType=${e.limitType})`}function mh(e,t){return t.isFoundDocument()&&function(e,t){let n=t.key.path;return e.collectionGroup===null?q.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n):t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n)}(e,t)&&function(e,t){for(let n of sh(e))if(!n.field.isKeyField()&&t.data.field(n.field)===null)return!1;return!0}(e,t)&&function(e,t){for(let n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){let r=Am(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,sh(e),t)||e.endAt&&!function(e,t,n){let r=Am(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,sh(e),t))}(e,t)}function hh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function gh(e){return(t,n)=>{let r=!1;for(let i of sh(e)){let e=_h(i,t,n);if(e!==0)return e;r||=i.field.isKeyField()}return 0}}function _h(e,t,n){let r=e.field.isKeyField()?q.comparator(t.key,n.key):function(e,t,n){let r=t.data.field(e),i=n.data.field(e);return r!==null&&i!==null?fm(r,i):B(42886)}(e.field,t,n);switch(e.dir){case`asc`:return r;case`desc`:return-1*r;default:return B(19790,{direction:e.dir})}}var vh=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(let[t,r]of n)if(this.equalsFn(t,e))return r}}has(e){return this.get(e)!==void 0}set(e,t){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){Fp(this.inner,((t,n)=>{for(let[t,r]of n)e(t,r)}))}isEmpty(){return Ip(this.inner)}size(){return this.innerSize}},yh=new Lp(q.comparator);function bh(){return yh}var xh=new Lp(q.comparator);function Sh(...e){let t=xh;for(let n of e)t=t.insert(n.key,n);return t}function Ch(e){let t=xh;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function wh(){return Eh()}function Th(){return Eh()}function Eh(){return new vh((e=>e.toString()),((e,t)=>e.isEqual(t)))}var Dh=new Lp(q.comparator),Oh=new Bp(q.comparator);function Z(...e){let t=Oh;for(let n of e)t=t.add(n);return t}var kh=new Bp(G);function Ah(){return kh}function jh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:`NaN`};if(t===1/0)return{doubleValue:`Infinity`};if(t===-1/0)return{doubleValue:`-Infinity`}}return{doubleValue:Op(t)?`-0`:t}}function Mh(e){return{integerValue:``+e}}function Nh(e,t){return kp(t)?Mh(t):jh(e,t)}var Ph=class{constructor(){this._=void 0}};function Fh(e,t,n){return e instanceof Rh?function(e,t){let n={fields:{[Yp]:{stringValue:Jp},[Zp]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Qp(t)&&(t=$p(t)),t&&(n.fields[Xp]=t),{mapValue:n}}(n,t):e instanceof zh?Bh(e,t):e instanceof Vh?Hh(e,t):function(e,t){let n=Lh(e,t),r=Wh(n)+Wh(e.Ae);return vm(n)&&vm(e.Ae)?Mh(r):jh(e.serializer,r)}(e,t)}function Ih(e,t,n){return e instanceof zh?Bh(e,t):e instanceof Vh?Hh(e,t):n}function Lh(e,t){return e instanceof Uh?function(e){return vm(e)||function(e){return!!e&&`doubleValue`in e}(e)}(t)?t:{integerValue:0}:null}var Rh=class extends Ph{},zh=class extends Ph{constructor(e){super(),this.elements=e}};function Bh(e,t){let n=Gh(t);for(let t of e.elements)n.some((e=>um(e,t)))||n.push(t);return{arrayValue:{values:n}}}var Vh=class extends Ph{constructor(e){super(),this.elements=e}};function Hh(e,t){let n=Gh(t);for(let t of e.elements)n=n.filter((e=>!um(e,t)));return{arrayValue:{values:n}}}var Uh=class extends Ph{constructor(e,t){super(),this.serializer=e,this.Ae=t}};function Wh(e){return X(e.integerValue||e.doubleValue)}function Gh(e){return ym(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Kh(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof zh&&t instanceof zh||e instanceof Vh&&t instanceof Vh?Zf(e.elements,t.elements,um):e instanceof Uh&&t instanceof Uh?um(e.Ae,t.Ae):e instanceof Rh&&t instanceof Rh}(e.transform,t.transform)}var qh=class{constructor(e,t){this.version=e,this.transformResults=t}},Jh=class e{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new e}static exists(t){return new e(void 0,t)}static updateTime(t){return new e(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Yh(e,t){return e.updateTime===void 0?e.exists===void 0||e.exists===t.isFoundDocument():t.isFoundDocument()&&t.version.isEqual(e.updateTime)}var Xh=class{};function Zh(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new sg(e.key,Jh.none()):new ng(e.key,e.data,Jh.none());{let n=e.data,r=Em.empty(),i=new Bp(tp.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);t===null&&e.length>1&&(e=e.popLast(),t=n.field(e)),t===null?r.delete(e):r.set(e,t),i=i.add(e)}return new rg(e.key,r,new Hp(i.toArray()),Jh.none())}}function Qh(e,t,n){e instanceof ng?function(e,t,n){let r=e.value.clone(),i=ag(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof rg?function(e,t,n){if(!Yh(e.precondition,t))return void t.convertToUnknownDocument(n.version);let r=ag(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ig(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function $h(e,t,n,r){return e instanceof ng?function(e,t,n,r){if(!Yh(e.precondition,t))return n;let i=e.value.clone(),a=og(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof rg?function(e,t,n,r){if(!Yh(e.precondition,t))return n;let i=og(e.fieldTransforms,r,t),a=t.data;return a.setAll(ig(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),n===null?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Yh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function eg(e,t){let n=null;for(let r of e.fieldTransforms){let e=t.data.field(r.field),i=Lh(r.transform,e||null);i!=null&&(n===null&&(n=Em.empty()),n.set(r.field,i))}return n||null}function tg(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return e===void 0&&t===void 0||!(!e||!t)&&Zf(e,t,((e,t)=>Kh(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var ng=class extends Xh{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}},rg=class extends Xh{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}};function ig(e){let t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){let r=e.data.field(n);t.set(n,r)}})),t}function ag(e,t,n){let r=new Map;V(e.length===n.length,32656,{Re:n.length,Ve:e.length});for(let i=0;i<n.length;i++){let a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Ih(o,s,n[i]))}return r}function og(e,t,n){let r=new Map;for(let i of e){let e=i.transform,a=n.data.field(i.field);r.set(i.field,Fh(e,a,t))}return r}var sg=class extends Xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},cg=class extends Xh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}},lg=class{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){let n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){let r=this.mutations[t];r.key.isEqual(e.key)&&Qh(r,e,n[t])}}applyToLocalView(e,t){for(let n of this.baseMutations)n.key.isEqual(e.key)&&(t=$h(n,e,t,this.localWriteTime));for(let n of this.mutations)n.key.isEqual(e.key)&&(t=$h(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let n=Th();return this.mutations.forEach((r=>{let i=e.get(r.key),a=i.overlayedDocument,o=this.applyToLocalView(a,i.mutatedFields);o=t.has(r.key)?null:o;let s=Zh(a,o);s!==null&&n.set(r.key,s),a.isValidDocument()||a.convertToNoDocument(J.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Z())}isEqual(e){return this.batchId===e.batchId&&Zf(this.mutations,e.mutations,((e,t)=>tg(e,t)))&&Zf(this.baseMutations,e.baseMutations,((e,t)=>tg(e,t)))}},ug=class e{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(t,n,r){V(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let i=function(){return Dh}(),a=t.mutations;for(let e=0;e<a.length;e++)i=i.insert(a[e].key,r[e].version);return new e(t,n,r,i)}},dg=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}},fg=class{constructor(e,t){this.count=e,this.unchangedNames=t}},pg,Q;function mg(e){switch(e){case U.OK:return B(64938);case U.CANCELLED:case U.UNKNOWN:case U.DEADLINE_EXCEEDED:case U.RESOURCE_EXHAUSTED:case U.INTERNAL:case U.UNAVAILABLE:case U.UNAUTHENTICATED:return!1;case U.INVALID_ARGUMENT:case U.NOT_FOUND:case U.ALREADY_EXISTS:case U.PERMISSION_DENIED:case U.FAILED_PRECONDITION:case U.ABORTED:case U.OUT_OF_RANGE:case U.UNIMPLEMENTED:case U.DATA_LOSS:return!0;default:return B(15467,{code:e})}}function hg(e){if(e===void 0)return Mf(`GRPC error has no .code`),U.UNKNOWN;switch(e){case pg.OK:return U.OK;case pg.CANCELLED:return U.CANCELLED;case pg.UNKNOWN:return U.UNKNOWN;case pg.DEADLINE_EXCEEDED:return U.DEADLINE_EXCEEDED;case pg.RESOURCE_EXHAUSTED:return U.RESOURCE_EXHAUSTED;case pg.INTERNAL:return U.INTERNAL;case pg.UNAVAILABLE:return U.UNAVAILABLE;case pg.UNAUTHENTICATED:return U.UNAUTHENTICATED;case pg.INVALID_ARGUMENT:return U.INVALID_ARGUMENT;case pg.NOT_FOUND:return U.NOT_FOUND;case pg.ALREADY_EXISTS:return U.ALREADY_EXISTS;case pg.PERMISSION_DENIED:return U.PERMISSION_DENIED;case pg.FAILED_PRECONDITION:return U.FAILED_PRECONDITION;case pg.ABORTED:return U.ABORTED;case pg.OUT_OF_RANGE:return U.OUT_OF_RANGE;case pg.UNIMPLEMENTED:return U.UNIMPLEMENTED;case pg.DATA_LOSS:return U.DATA_LOSS;default:return B(39323,{code:e})}}(Q=pg||={})[Q.OK=0]=`OK`,Q[Q.CANCELLED=1]=`CANCELLED`,Q[Q.UNKNOWN=2]=`UNKNOWN`,Q[Q.INVALID_ARGUMENT=3]=`INVALID_ARGUMENT`,Q[Q.DEADLINE_EXCEEDED=4]=`DEADLINE_EXCEEDED`,Q[Q.NOT_FOUND=5]=`NOT_FOUND`,Q[Q.ALREADY_EXISTS=6]=`ALREADY_EXISTS`,Q[Q.PERMISSION_DENIED=7]=`PERMISSION_DENIED`,Q[Q.UNAUTHENTICATED=16]=`UNAUTHENTICATED`,Q[Q.RESOURCE_EXHAUSTED=8]=`RESOURCE_EXHAUSTED`,Q[Q.FAILED_PRECONDITION=9]=`FAILED_PRECONDITION`,Q[Q.ABORTED=10]=`ABORTED`,Q[Q.OUT_OF_RANGE=11]=`OUT_OF_RANGE`,Q[Q.UNIMPLEMENTED=12]=`UNIMPLEMENTED`,Q[Q.INTERNAL=13]=`INTERNAL`,Q[Q.UNAVAILABLE=14]=`UNAVAILABLE`,Q[Q.DATA_LOSS=15]=`DATA_LOSS`;var gg=null;function _g(){return new TextEncoder}var vg=new mf([4294967295,4294967295],0);function yg(e){let t=_g().encode(e),n=new hf;return n.update(t),new Uint8Array(n.digest())}function bg(e){let t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new mf([n,r],0),new mf([i,a],0)]}var xg=class e{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Sg(`Invalid padding: ${t}`);if(n<0||e.length>0&&this.hashCount===0)throw new Sg(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Sg(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=mf.fromNumber(this.ge)}ye(e,t,n){let r=e.add(t.multiply(mf.fromNumber(n)));return r.compare(vg)===1&&(r=new mf([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;let[t,n]=bg(yg(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);if(!this.we(r))return!1}return!0}static create(t,n,r){let i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((e=>a.insert(e))),a}insert(e){if(this.ge===0)return;let[t,n]=bg(yg(e));for(let e=0;e<this.hashCount;e++){let r=this.ye(t,n,e);this.Se(r)}}Se(e){let t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}},Sg=class extends Error{constructor(){super(...arguments),this.name=`BloomFilterError`}},Cg=class e{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,n,r){let i=new Map;return i.set(t,wg.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(J.min(),i,new Lp(G),bh(),Z())}},wg=class e{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new e(r,n,Z(),Z(),Z())}},Tg=class{constructor(e,t,n,r){this.be=e,this.removedTargetIds=t,this.key=n,this.De=r}},Eg=class{constructor(e,t){this.targetId=e,this.Ce=t}},Dg=class{constructor(e,t,n=Wp.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}},Og=class{constructor(){this.ve=0,this.Fe=jg(),this.Me=Wp.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Z(),t=Z(),n=Z();return this.Fe.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:B(38017,{changeType:i})}})),new wg(this.Me,this.xe,e,t,n)}qe(){this.Oe=!1,this.Fe=jg()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){--this.ve,V(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}},kg=class{constructor(e){this.Ge=e,this.ze=new Map,this.je=bh(),this.Je=Ag(),this.He=Ag(),this.Ye=new Lp(G)}Ze(e){for(let t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(let t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{let n=this.nt(t);switch(e.state){case 0:this.rt(t)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),n.Le(e.resumeToken));break;default:B(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((e,n)=>{this.rt(n)&&t(n)}))}st(e){let t=e.targetId,n=e.Ce.count,r=this.ot(t);if(r){let i=r.target;if(th(i))if(n===0){let e=new q(i.path);this.et(t,e,Om.newNoDocument(e,J.min()))}else V(n===1,20013,{expectedCount:n});else{let r=this._t(t);if(r!==n){let n=this.ut(e),i=n?this.ct(n,e,r):1;if(i!==0){this.it(t);let e=i===2?`TargetPurposeExistenceFilterMismatchBloom`:`TargetPurposeExistenceFilterMismatch`;this.Ye=this.Ye.insert(t,e)}gg?.lt(function(e,t,n,r,i){let a={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},o=t.unchangedNames;return o&&(a.bloomFilter={applied:i===0,hashCount:o?.hashCount??0,bitmapLength:o?.bits?.bitmap?.length??0,padding:o?.bits?.padding??0,mightContain:e=>r?.mightContain(e)??!1}),a}(r,e.Ce,this.Ge.ht(),n,i))}}}}ut(e){let t=e.Ce.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:n=``,padding:r=0},hashCount:i=0}=t,a,o;try{a=qp(n).toUint8Array()}catch(e){if(e instanceof Up)return Nf(`Decoding the base64 bloom filter in existence filter failed (`+e.message+`); ignoring the bloom filter and falling back to full re-query.`),null;throw e}try{o=new xg(a,r,i)}catch(e){return Nf(e instanceof Sg?`BloomFilter error: `:`Applying bloom filter failed: `,e),null}return o.ge===0?null:o}ct(e,t,n){return t.Ce.count===n-this.Pt(e,t.targetId)?0:2}Pt(e,t){let n=this.Ge.getRemoteKeysForTarget(t),r=0;return n.forEach((n=>{let i=this.Ge.ht(),a=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(a)||(this.et(t,n,null),r++)})),r}Tt(e){let t=new Map;this.ze.forEach(((n,r)=>{let i=this.ot(r);if(i){if(n.current&&th(i.target)){let t=new q(i.target.path);this.It(t).has(r)||this.Et(r,t)||this.et(r,t,Om.newNoDocument(t,e))}n.Be&&(t.set(r,n.ke()),n.qe())}}));let n=Z();this.He.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{let t=this.ot(e);return!t||t.purpose===`TargetPurposeLimboResolution`||(r=!1,!1)})),r&&(n=n.add(e))})),this.je.forEach(((t,n)=>n.setReadTime(e)));let r=new Cg(e,t,this.Ye,this.je,n);return this.je=bh(),this.Je=Ag(),this.He=Ag(),this.Ye=new Lp(G),r}Xe(e,t){if(!this.rt(e))return;let n=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,n),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,n){if(!this.rt(e))return;let r=this.nt(e);this.Et(e,t)?r.Qe(t,1):r.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),n&&(this.je=this.je.insert(t,n))}removeTarget(e){this.ze.delete(e)}_t(e){let t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new Og,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new Bp(G),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new Bp(G),this.Je=this.Je.insert(e,t)),t}rt(e){let t=this.ot(e)!==null;return t||z(`WatchChangeAggregator`,`Detected inactive target`,e),t}ot(e){let t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Og),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}};function Ag(){return new Lp(q.comparator)}function jg(){return new Lp(q.comparator)}var Mg=(()=>({asc:`ASCENDING`,desc:`DESCENDING`}))(),Ng=(()=>({"<":`LESS_THAN`,"<=":`LESS_THAN_OR_EQUAL`,">":`GREATER_THAN`,">=":`GREATER_THAN_OR_EQUAL`,"==":`EQUAL`,"!=":`NOT_EQUAL`,"array-contains":`ARRAY_CONTAINS`,in:`IN`,"not-in":`NOT_IN`,"array-contains-any":`ARRAY_CONTAINS_ANY`}))(),Pg=(()=>({and:`AND`,or:`OR`}))(),Fg=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function Ig(e,t){return e.useProto3Json||Dp(t)?t:{value:t}}function Lg(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,``).replace(`Z`,``)}.${(`000000000`+t.nanoseconds).slice(-9)}Z`:{seconds:``+t.seconds,nanos:t.nanoseconds}}function Rg(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function zg(e,t){return Lg(e,t.toTimestamp())}function Bg(e){return V(!!e,49232),J.fromTimestamp(function(e){let t=Kp(e);return new pp(t.seconds,t.nanos)}(e))}function Vg(e,t){return Hg(e,t).canonicalString()}function Hg(e,t){let n=function(e){return new K([`projects`,e.projectId,`databases`,e.database])}(e).child(`documents`);return t===void 0?n:n.child(t)}function Ug(e){let t=K.fromString(e);return V(f_(t),10190,{key:t.toString()}),t}function Wg(e,t){return Vg(e.databaseId,t.path)}function Gg(e,t){let n=Ug(t);if(n.get(1)!==e.databaseId.projectId)throw new W(U.INVALID_ARGUMENT,`Tried to deserialize key from different project: `+n.get(1)+` vs `+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new W(U.INVALID_ARGUMENT,`Tried to deserialize key from different database: `+n.get(3)+` vs `+e.databaseId.database);return new q(Yg(n))}function Kg(e,t){return Vg(e.databaseId,t)}function qg(e){let t=Ug(e);return t.length===4?K.emptyPath():Yg(t)}function Jg(e){return new K([`projects`,e.databaseId.projectId,`databases`,e.databaseId.database]).canonicalString()}function Yg(e){return V(e.length>4&&e.get(4)===`documents`,29091,{key:e.toString()}),e.popFirst(5)}function Xg(e,t,n){return{name:Wg(e,t),fields:n.value.mapValue.fields}}function Zg(e,t){let n;if(`targetChange`in t){t.targetChange;let r=function(e){return e===`NO_CHANGE`?0:e===`ADD`?1:e===`REMOVE`?2:e===`CURRENT`?3:e===`RESET`?4:B(39313,{state:e})}(t.targetChange.targetChangeType||`NO_CHANGE`),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(V(t===void 0||typeof t==`string`,58123),Wp.fromBase64String(t||``)):(V(t===void 0||t instanceof Buffer||t instanceof Uint8Array,16193),Wp.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause;n=new Dg(r,i,a,o&&function(e){return new W(e.code===void 0?U.UNKNOWN:hg(e.code),e.message||``)}(o)||null)}else if(`documentChange`in t){t.documentChange;let r=t.documentChange;r.document,r.document.name,r.document.updateTime;let i=Gg(e,r.document.name),a=Bg(r.document.updateTime),o=r.document.createTime?Bg(r.document.createTime):J.min(),s=new Em({mapValue:{fields:r.document.fields}}),c=Om.newFoundDocument(i,a,o,s);n=new Tg(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if(`documentDelete`in t){t.documentDelete;let r=t.documentDelete;r.document;let i=Gg(e,r.document),a=r.readTime?Bg(r.readTime):J.min(),o=Om.newNoDocument(i,a);n=new Tg([],r.removedTargetIds||[],o.key,o)}else if(`documentRemove`in t){t.documentRemove;let r=t.documentRemove;r.document;let i=Gg(e,r.document);n=new Tg([],r.removedTargetIds||[],i,null)}else{if(!(`filter`in t))return B(11601,{Rt:t});{t.filter;let e=t.filter;e.targetId;let{count:r=0,unchangedNames:i}=e,a=new fg(r,i),o=e.targetId;n=new Eg(o,a)}}return n}function Qg(e,t){let n;if(t instanceof ng)n={update:Xg(e,t.key,t.value)};else if(t instanceof sg)n={delete:Wg(e,t.key)};else if(t instanceof rg)n={update:Xg(e,t.key,t.data),updateMask:d_(t.fieldMask)};else{if(!(t instanceof cg))return B(16599,{Vt:t.type});n={verify:Wg(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){let n=t.transform;if(n instanceof Rh)return{fieldPath:t.field.canonicalString(),setToServerValue:`REQUEST_TIME`};if(n instanceof zh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Vh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Uh)return{fieldPath:t.field.canonicalString(),increment:n.Ae};throw B(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return t.updateTime===void 0?t.exists===void 0?B(27497):{exists:t.exists}:{updateTime:zg(e,t.updateTime)}}(e,t.precondition)),n}function $g(e,t){return e&&e.length>0?(V(t!==void 0,14353),e.map((e=>function(e,t){let n=e.updateTime?Bg(e.updateTime):Bg(t);return n.isEqual(J.min())&&(n=Bg(t)),new qh(n,e.transformResults||[])}(e,t)))):[]}function e_(e,t){return{documents:[Kg(e,t.path)]}}function t_(e,t){let n={structuredQuery:{}},r=t.path,i;t.collectionGroup===null?(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]):(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]),n.parent=Kg(e,i);let a=function(e){if(e.length!==0)return u_(Im.create(e,`and`))}(t.filters);a&&(n.structuredQuery.where=a);let o=function(e){if(e.length!==0)return e.map((e=>function(e){return{field:c_(e.field),direction:a_(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);let s=Ig(e,t.limit);return s!==null&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ft:n,parent:i}}function n_(e){let t=qg(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){V(r===1,65062);let e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let a=[];n.where&&(a=function(e){let t=i_(e);return t instanceof Im&&Rm(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new Mm(l_(e.field),function(e){switch(e){case`ASCENDING`:return`asc`;case`DESCENDING`:return`desc`;default:return}}(e.direction))}(e)))}(n.orderBy));let s=null;n.limit&&(s=function(e){let t;return t=typeof e==`object`?e.value:e,Dp(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){let t=!!e.before;return new km(e.values||[],t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){let t=!e.before;return new km(e.values||[],t)}(n.endAt)),rh(t,i,o,a,s,`F`,c,l)}function r_(e,t){let n=function(e){switch(e){case`TargetPurposeListen`:return null;case`TargetPurposeExistenceFilterMismatch`:return`existence-filter-mismatch`;case`TargetPurposeExistenceFilterMismatchBloom`:return`existence-filter-mismatch-bloom`;case`TargetPurposeLimboResolution`:return`limbo-document`;default:return B(28987,{purpose:e})}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function i_(e){return e.unaryFilter===void 0?e.fieldFilter===void 0?e.compositeFilter===void 0?B(30097,{filter:e}):function(e){return Im.create(e.compositeFilter.filters.map((e=>i_(e))),function(e){switch(e){case`AND`:return`and`;case`OR`:return`or`;default:return B(1026)}}(e.compositeFilter.op))}(e):function(e){return Fm.create(l_(e.fieldFilter.field),function(e){switch(e){case`EQUAL`:return`==`;case`NOT_EQUAL`:return`!=`;case`GREATER_THAN`:return`>`;case`GREATER_THAN_OR_EQUAL`:return`>=`;case`LESS_THAN`:return`<`;case`LESS_THAN_OR_EQUAL`:return`<=`;case`ARRAY_CONTAINS`:return`array-contains`;case`IN`:return`in`;case`NOT_IN`:return`not-in`;case`ARRAY_CONTAINS_ANY`:return`array-contains-any`;case`OPERATOR_UNSPECIFIED`:return B(58110);default:return B(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):function(e){switch(e.unaryFilter.op){case`IS_NAN`:let t=l_(e.unaryFilter.field);return Fm.create(t,`==`,{doubleValue:NaN});case`IS_NULL`:let n=l_(e.unaryFilter.field);return Fm.create(n,`==`,{nullValue:`NULL_VALUE`});case`IS_NOT_NAN`:let r=l_(e.unaryFilter.field);return Fm.create(r,`!=`,{doubleValue:NaN});case`IS_NOT_NULL`:let i=l_(e.unaryFilter.field);return Fm.create(i,`!=`,{nullValue:`NULL_VALUE`});case`OPERATOR_UNSPECIFIED`:return B(61313);default:return B(60726)}}(e)}function a_(e){return Mg[e]}function o_(e){return Ng[e]}function s_(e){return Pg[e]}function c_(e){return{fieldPath:e.canonicalString()}}function l_(e){return tp.fromServerFormat(e.fieldPath)}function u_(e){return e instanceof Fm?function(e){if(e.op===`==`){if(xm(e.value))return{unaryFilter:{field:c_(e.field),op:`IS_NAN`}};if(bm(e.value))return{unaryFilter:{field:c_(e.field),op:`IS_NULL`}}}else if(e.op===`!=`){if(xm(e.value))return{unaryFilter:{field:c_(e.field),op:`IS_NOT_NAN`}};if(bm(e.value))return{unaryFilter:{field:c_(e.field),op:`IS_NOT_NULL`}}}return{fieldFilter:{field:c_(e.field),op:o_(e.op),value:e.value}}}(e):e instanceof Im?function(e){let t=e.getFilters().map((e=>u_(e)));return t.length===1?t[0]:{compositeFilter:{op:s_(e.op),filters:t}}}(e):B(54877,{filter:e})}function d_(e){let t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function f_(e){return e.length>=4&&e.get(0)===`projects`&&e.get(2)===`databases`}var p_=class e{constructor(e,t,n,r,i=J.min(),a=J.min(),o=Wp.EMPTY_BYTE_STRING,s=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=s}withSequenceNumber(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}},m_=class{constructor(e){this.yt=e}};function h_(e){let t=n_({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType===`LAST`?uh(t,t.limit,`L`):t}var g_=class{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if(`nullValue`in e)this.Ft(t,5);else if(`booleanValue`in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if(`integerValue`in e)this.Ft(t,15),t.Mt(X(e.integerValue));else if(`doubleValue`in e){let n=X(e.doubleValue);isNaN(n)?this.Ft(t,13):(this.Ft(t,15),Op(n)?t.Mt(0):t.Mt(n))}else if(`timestampValue`in e){let n=e.timestampValue;this.Ft(t,20),typeof n==`string`&&(n=Kp(n)),t.xt(`${n.seconds||``}`),t.Mt(n.nanos||0)}else if(`stringValue`in e)this.Ot(e.stringValue,t),this.Nt(t);else if(`bytesValue`in e)this.Ft(t,30),t.Bt(qp(e.bytesValue)),this.Nt(t);else if(`referenceValue`in e)this.Lt(e.referenceValue,t);else if(`geoPointValue`in e){let n=e.geoPointValue;this.Ft(t,45),t.Mt(n.latitude||0),t.Mt(n.longitude||0)}else `mapValue`in e?Tm(e)?this.Ft(t,2**53-1):Cm(e)?this.kt(e.mapValue,t):(this.qt(e.mapValue,t),this.Nt(t)):`arrayValue`in e?(this.Qt(e.arrayValue,t),this.Nt(t)):B(19022,{$t:e})}Ot(e,t){this.Ft(t,25),this.Ut(e,t)}Ut(e,t){t.xt(e)}qt(e,t){let n=e.fields||{};this.Ft(t,55);for(let e of Object.keys(n))this.Ot(e,t),this.Ct(n[e],t)}kt(e,t){let n=e.fields||{};this.Ft(t,53);let r=cm,i=n[r].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(X(i)),this.Ot(r,t),this.Ct(n[r],t)}Qt(e,t){let n=e.values||[];this.Ft(t,50);for(let e of n)this.Ct(e,t)}Lt(e,t){this.Ft(t,37),q.fromName(e).path.forEach((e=>{this.Ft(t,60),this.Ut(e,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}};g_.Kt=new g_;var __=class{constructor(){this.Cn=new v_}addToCollectionParentIndex(e,t){return this.Cn.add(t),Y.resolve()}getCollectionParents(e,t){return Y.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return Y.resolve()}deleteFieldIndex(e,t){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,t){return Y.resolve()}getDocumentsMatchingTarget(e,t){return Y.resolve(null)}getIndexType(e,t){return Y.resolve(0)}getFieldIndexes(e,t){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,t){return Y.resolve(vp.min())}getMinOffsetFromCollectionGroup(e,t){return Y.resolve(vp.min())}updateCollectionGroup(e,t,n){return Y.resolve()}updateIndexEntries(e,t){return Y.resolve()}},v_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Bp(K.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){let t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Bp(K.comparator)).toArray()}};new Uint8Array;var y_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},b_=41943040,x_=class e{static withCacheSize(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}};x_.DEFAULT_COLLECTION_PERCENTILE=10,x_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,x_.DEFAULT=new x_(b_,x_.DEFAULT_COLLECTION_PERCENTILE,x_.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),x_.DISABLED=new x_(-1,0,0);var S_=class e{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new e(0)}static cr(){return new e(-1)}},C_=`LruGarbageCollector`,w_=1048576;function T_([e,t],[n,r]){let i=G(e,n);return i===0?G(t,r):i}var E_=class{constructor(e){this.Ir=e,this.buffer=new Bp(T_),this.Er=0}dr(){return++this.Er}Ar(e){let t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{let e=this.buffer.last();T_(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}},D_=class{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&=(this.Rr.cancel(),null)}get started(){return this.Rr!==null}Vr(e){z(C_,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay(`lru_garbage_collection`,e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){wp(e)?z(C_,`Ignoring IndexedDB error during garbage collection: `,e):await Sp(e)}await this.Vr(3e5)}))}},O_=class{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(t===0)return Y.resolve(Tp.ce);let n=new E_(t);return this.mr.forEachTarget(e,(e=>n.Ar(e.sequenceNumber))).next((()=>this.mr.pr(e,(e=>n.Ar(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.mr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(z(`LruGarbageCollector`,`Garbage collection skipped; disabled`),Y.resolve(y_)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(z(`LruGarbageCollector`,`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y_):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let n,r,i,a,o,s,c,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(z(`LruGarbageCollector`,`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,s=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(c=Date.now(),jf()<=R.DEBUG&&z(`LruGarbageCollector`,`LRU Garbage Collection\n\tCounted targets in ${a-l}ms\n\tDetermined least recently used ${r} in `+(o-a)+`ms
\tRemoved ${i} targets in `+(s-o)+`ms
\tRemoved ${e} documents in `+(c-s)+`ms
Total Duration: ${c-l}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}};function k_(e,t){return new O_(e,t)}var A_=class{constructor(){this.changes=new vh((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Om.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let n=this.changes.get(t);return n===void 0?this.getFromCache(e,t):Y.resolve(n)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}},j_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}},M_=class{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(n!==null&&$h(n.mutation,e,Hp.empty(),pp.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Z()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Z()){let r=wh();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Sh();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){let n=wh();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Z())))}populateOverlays(e,t,n){let r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=bh(),a=Eh(),o=function(){return Eh()}();return t.forEach(((e,t)=>{let o=n.get(t.key);r.has(t.key)&&(o===void 0||o.mutation instanceof rg)?i=i.insert(t.key,t):o===void 0?a.set(t.key,Hp.empty()):(a.set(t.key,o.mutation.getFieldMask()),$h(o.mutation,t,o.mutation.getFieldMask(),pp.now()))})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>a.set(e,t))),t.forEach(((e,t)=>o.set(e,new j_(t,a.get(e)??null)))),o)))}recalculateAndSaveOverlays(e,t){let n=Eh(),r=new Lp(((e,t)=>e-t)),i=Z();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(let i of e)i.keys().forEach((e=>{let a=t.get(e);if(a===null)return;let o=n.get(e)||Hp.empty();o=i.applyToLocalView(a,o),n.set(e,o);let s=(r.get(i.batchId)||Z()).add(e);r=r.insert(i.batchId,s)}))})).next((()=>{let a=[],o=r.getReverseIterator();for(;o.hasNext();){let r=o.getNext(),s=r.key,c=r.value,l=Th();c.forEach((e=>{if(!i.has(e)){let r=Zh(t.get(e),n.get(e));r!==null&&l.set(e,r),i=i.add(e)}})),a.push(this.documentOverlayCache.saveOverlays(e,s,l))}return Y.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return q.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):oh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{let a=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Y.resolve(wh()),o=mp,s=i;return a.next((t=>Y.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?Y.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{s=s.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,s,t,Z()))).next((e=>({batchId:o,changes:Ch(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new q(t)).next((e=>{let t=Sh();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){let i=t.collectionGroup,a=Sh();return this.indexManager.getCollectionParents(e,i).next((o=>Y.forEach(o,(o=>{let s=function(e,t){return new nh(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,s,n,r).next((e=>{e.forEach(((e,t)=>{a=a.insert(e,t)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((a=>(i=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{let r=n.getKey();e.get(r)===null&&(e=e.insert(r,Om.newInvalidDocument(r)))}));let n=Sh();return e.forEach(((e,r)=>{let a=i.get(e);a!==void 0&&$h(a.mutation,r,Hp.empty(),pp.now()),mh(t,r)&&(n=n.insert(e,r))})),n}))}},N_=class{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return Y.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Bg(e.createTime)}}(t)),Y.resolve()}getNamedQuery(e,t){return Y.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,function(e){return{name:e.name,query:h_(e.bundledQuery),readTime:Bg(e.readTime)}}(t)),Y.resolve()}},P_=class{constructor(){this.overlays=new Lp(q.comparator),this.qr=new Map}getOverlay(e,t){return Y.resolve(this.overlays.get(t))}getOverlays(e,t){let n=wh();return Y.forEach(t,(t=>this.getOverlay(e,t).next((e=>{e!==null&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.St(e,t,r)})),Y.resolve()}removeOverlaysForBatchId(e,t,n){let r=this.qr.get(n);return r!==void 0&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.qr.delete(n)),Y.resolve()}getOverlaysForCollection(e,t,n){let r=wh(),i=t.length+1,a=new q(t.child(``)),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){let e=o.getNext().value,a=e.getKey();if(!t.isPrefixOf(a.path))break;a.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Y.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Lp(((e,t)=>e-t)),a=this.overlays.getIterator();for(;a.hasNext();){let e=a.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);t===null&&(t=wh(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}let o=wh(),s=i.getIterator();for(;s.hasNext()&&(s.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return Y.resolve(o)}St(e,t,n){let r=this.overlays.get(n.key);if(r!==null){let e=this.qr.get(r.largestBatchId).delete(n.key);this.qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new dg(t,n));let i=this.qr.get(t);i===void 0&&(i=Z(),this.qr.set(t,i)),this.qr.set(t,i.add(n.key))}},F_=class{constructor(){this.sessionToken=Wp.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,Y.resolve()}},I_=class{constructor(){this.Qr=new Bp(L_.$r),this.Ur=new Bp(L_.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){let n=new L_(e,t);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Gr(new L_(e,t))}zr(e,t){e.forEach((e=>this.removeReference(e,t)))}jr(e){let t=new q(new K([])),n=new L_(t,e),r=new L_(t,e+1),i=[];return this.Ur.forEachInRange([n,r],(e=>{this.Gr(e),i.push(e.key)})),i}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){let t=new q(new K([])),n=new L_(t,e),r=new L_(t,e+1),i=Z();return this.Ur.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){let t=new L_(e,0),n=this.Qr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}},L_=class{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return q.comparator(e.key,t.key)||G(e.Yr,t.Yr)}static Kr(e,t){return G(e.Yr,t.Yr)||q.comparator(e.key,t.key)}},R_=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new Bp(L_.$r)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,r){let i=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let a=new lg(i,t,n,r);this.mutationQueue.push(a);for(let t of r)this.Zr=this.Zr.add(new L_(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return Y.resolve(a)}lookupMutationBatch(e,t){return Y.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){let n=t+1,r=this.ei(n),i=r<0?0:r;return Y.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?Ep:this.tr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let n=new L_(t,0),r=new L_(t,1/0),i=[];return this.Zr.forEachInRange([n,r],(e=>{let t=this.Xr(e.Yr);i.push(t)})),Y.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Bp(G);return t.forEach((e=>{let t=new L_(e,0),r=new L_(e,1/0);this.Zr.forEachInRange([t,r],(e=>{n=n.add(e.Yr)}))})),Y.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,t){let n=t.path,r=n.length+1,i=n;q.isDocumentKey(i)||(i=i.child(``));let a=new L_(new q(i),0),o=new Bp(G);return this.Zr.forEachWhile((e=>{let t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Yr)),!0)}),a),Y.resolve(this.ti(o))}ti(e){let t=[];return e.forEach((e=>{let n=this.Xr(e);n!==null&&t.push(n)})),t}removeMutationBatch(e,t){V(this.ni(t.batchId,`removed`)===0,55003),this.mutationQueue.shift();let n=this.Zr;return Y.forEach(t.mutations,(r=>{let i=new L_(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,t){let n=new L_(t,0),r=this.Zr.firstAfterOrEqual(n);return Y.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){let t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}},z_=class{constructor(e){this.ri=e,this.docs=function(){return new Lp(q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.ri(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let n=this.docs.get(t);return Y.resolve(n?n.document.mutableCopy():Om.newInvalidDocument(t))}getEntries(e,t){let n=bh();return t.forEach((e=>{let t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Om.newInvalidDocument(e))})),Y.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=bh(),a=t.path,o=new q(a.child(`__id-9223372036854775808__`)),s=this.docs.getIteratorFrom(o);for(;s.hasNext();){let{key:e,value:{document:o}}=s.getNext();if(!a.isPrefixOf(e.path))break;e.path.length>a.length+1||yp(_p(o),n)<=0||(r.has(o.key)||mh(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return Y.resolve(i)}getAllFromCollectionGroup(e,t,n,r){B(9500)}ii(e,t){return Y.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new B_(this)}getSize(e){return Y.resolve(this.size)}},B_=class extends A_{constructor(e){super(),this.Nr=e}applyChanges(e){let t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Nr.addEntry(e,r)):this.Nr.removeEntry(n)})),Y.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}},V_=class{constructor(e){this.persistence=e,this.si=new vh((e=>$m(e)),eh),this.lastRemoteSnapshotVersion=J.min(),this.highestTargetId=0,this.oi=0,this._i=new I_,this.targetCount=0,this.ai=S_.ur()}forEachTarget(e,t){return this.si.forEach(((e,n)=>t(n))),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.oi&&(this.oi=t),Y.resolve()}Pr(e){this.si.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.ai=new S_(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,Y.resolve()}updateTargetData(e,t){return this.Pr(t),Y.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),--this.targetCount,Y.resolve()}removeTargets(e,t,n){let r=0,i=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=t&&n.get(o.targetId)===null&&(this.si.delete(a),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),Y.waitFor(i).next((()=>r))}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,t){let n=this.si.get(t)||null;return Y.resolve(n)}addMatchingKeys(e,t,n){return this._i.Wr(t,n),Y.resolve()}removeMatchingKeys(e,t,n){this._i.zr(t,n);let r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Y.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),Y.resolve()}getMatchingKeysForTargetId(e,t){let n=this._i.Hr(t);return Y.resolve(n)}containsKey(e,t){return Y.resolve(this._i.containsKey(t))}},H_=class{constructor(e,t){this.ui={},this.overlays={},this.ci=new Tp(0),this.li=!1,this.li=!0,this.hi=new F_,this.referenceDelegate=e(this),this.Pi=new V_(this),this.indexManager=new __,this.remoteDocumentCache=function(e){return new z_(e)}((e=>this.referenceDelegate.Ti(e))),this.serializer=new m_(t),this.Ii=new N_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new P_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ui[e.toKey()];return n||(n=new R_(t,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,n){z(`MemoryPersistence`,`Starting transaction:`,e);let r=new U_(this.ci.next());return this.referenceDelegate.Ei(),n(r).next((e=>this.referenceDelegate.di(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ai(e,t){return Y.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,t))))}},U_=class extends xp{constructor(e){super(),this.currentSequenceNumber=e}},W_=class e{constructor(e){this.persistence=e,this.Ri=new I_,this.Vi=null}static mi(t){return new e(t)}get fi(){if(this.Vi)return this.Vi;throw B(60996)}addReference(e,t,n){return this.Ri.addReference(n,t),this.fi.delete(n.toString()),Y.resolve()}removeReference(e,t,n){return this.Ri.removeReference(n,t),this.fi.add(n.toString()),Y.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),Y.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((e=>this.fi.add(e.toString())));let n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.fi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.fi,(n=>{let r=q.fromPath(n);return this.gi(e,r).next((e=>{e||t.removeEntry(r,J.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((e=>{e?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return Y.or([()=>Y.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}},G_=class e{constructor(e,t){this.persistence=e,this.pi=new vh((e=>jp(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=k_(this,t)}static mi(t,n){return new e(t,n)}Ei(){}di(e){return Y.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){let t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}wr(e){let t=0;return this.pr(e,(e=>{t++})).next((()=>t))}pr(e,t){return Y.forEach(this.pi,((n,r)=>this.br(e,n,r).next((e=>e?Y.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0,r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.ii(e,(r=>this.br(e,r,t).next((e=>{e||(n++,i.removeEntry(r,J.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}removeTarget(e,t){let n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}removeReference(e,t,n){return this.pi.set(n,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),Y.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=_m(e.data.value)),t}br(e,t,n){return Y.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{let e=this.pi.get(t);return Y.resolve(e!==void 0&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}},K_=class e{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Es=n,this.ds=r}static As(t,n){let r=Z(),i=Z();for(let e of n.docChanges)switch(e.type){case 0:r=r.add(e.doc.key);break;case 1:i=i.add(e.doc.key)}return new e(t,n.fromCache,r,i)}},q_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}},J_=class{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return tu()?8:Cp(Jl())>0?6:4}()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,n,r){let i={result:null};return this.ys(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.ws(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;let n=new q_;return this.Ss(e,t,n).next((r=>{if(i.result=r,this.Vs)return this.bs(e,t,n,r.size)}))})).next((()=>i.result))}bs(e,t,n,r){return n.documentReadCount<this.fs?(jf()<=R.DEBUG&&z(`QueryEngine`,`SDK will not create cache indexes for query:`,ph(t),`since it only creates cache indexes for collection contains`,`more than or equal to`,this.fs,`documents`),Y.resolve()):(jf()<=R.DEBUG&&z(`QueryEngine`,`Query:`,ph(t),`scans`,n.documentReadCount,`local documents and returns`,r,`documents as results.`),n.documentReadCount>this.gs*r?(jf()<=R.DEBUG&&z(`QueryEngine`,`The SDK decides to create cache indexes for query:`,ph(t),`as using cache indexes may help improve performance.`),this.indexManager.createTargetIndexes(e,ch(t))):Y.resolve())}ys(e,t){if(ah(t))return Y.resolve(null);let n=ch(t);return this.indexManager.getIndexType(e,n).next((r=>r===0?null:(t.limit!==null&&r===1&&(t=uh(t,null,`F`),n=ch(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{let i=Z(...r);return this.ps.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{let a=this.Ds(t,r);return this.Cs(t,a,i,n.readTime)?this.ys(e,uh(t,null,`F`)):this.vs(e,a,t,n)}))))})))))}ws(e,t,n,r){return ah(t)||r.isEqual(J.min())?Y.resolve(null):this.ps.getDocuments(e,n).next((i=>{let a=this.Ds(t,i);return this.Cs(t,a,n,r)?Y.resolve(null):(jf()<=R.DEBUG&&z(`QueryEngine`,`Re-using previous result from %s to execute query: %s`,r.toString(),ph(t)),this.vs(e,a,t,gp(r,mp)).next((e=>e)))}))}Ds(e,t){let n=new Bp(gh(e));return t.forEach(((t,r)=>{mh(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(e.limit===null)return!1;if(n.size!==t.size)return!0;let i=e.limitType===`F`?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ss(e,t,n){return jf()<=R.DEBUG&&z(`QueryEngine`,`Using full collection scan to execute query:`,ph(t)),this.ps.getDocumentsMatchingQuery(e,t,vp.min(),n)}vs(e,t,n,r){return this.ps.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}},Y_=`LocalStore`,X_=3e8,Z_=class{constructor(e,t,n,r){this.persistence=e,this.Fs=t,this.serializer=r,this.Ms=new Lp(G),this.xs=new vh((e=>$m(e)),eh),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new M_(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction(`Collect garbage`,`readwrite-primary`,(t=>e.collect(t,this.Ms)))}};function Q_(e,t,n,r){return new Z_(e,t,n,r)}async function $_(e,t){let n=H(e);return await n.persistence.runTransaction(`Handle user change`,`readonly`,(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Bs(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{let i=[],a=[],o=Z();for(let e of r){i.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}for(let e of t){a.push(e.batchId);for(let t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({Ls:e,removedBatchIds:i,addedBatchIds:a})))}))}))}function ev(e,t){let n=H(e);return n.persistence.runTransaction(`Acknowledge batch`,`readwrite-primary`,(e=>{let r=t.batch.keys(),i=n.Ns.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){let i=n.batch,a=i.keys(),o=Y.resolve();return a.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{let a=n.docVersions.get(e);V(a!==null,48541),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Z();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function tv(e){let t=H(e);return t.persistence.runTransaction(`Get last remote snapshot version`,`readonly`,(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function nv(e,t){let n=H(e),r=t.snapshotVersion,i=n.Ms;return n.persistence.runTransaction(`Apply remote event`,`readwrite-primary`,(e=>{let a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;let o=[];t.targetChanges.forEach(((a,s)=>{let c=i.get(s);if(!c)return;o.push(n.Pi.removeMatchingKeys(e,a.removedDocuments,s).next((()=>n.Pi.addMatchingKeys(e,a.addedDocuments,s))));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.get(s)===null?a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)):l=l.withResumeToken(Wp.EMPTY_BYTE_STRING,J.min()).withLastLimboFreeSnapshotVersion(J.min()),i=i.insert(s,l),function(e,t,n){return e.resumeToken.approximateByteSize()===0||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=X_?!0:n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,a)&&o.push(n.Pi.updateTargetData(e,l))}));let s=bh(),c=Z();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(rv(e,a,t.documentUpdates).next((e=>{s=e.ks,c=e.qs}))),!r.isEqual(J.min())){let t=n.Pi.getLastRemoteSnapshotVersion(e).next((t=>n.Pi.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return Y.waitFor(o).next((()=>a.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,s,c))).next((()=>s))})).then((e=>(n.Ms=i,e)))}function rv(e,t,n){let r=Z(),i=Z();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=bh();return n.forEach(((n,a)=>{let o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(J.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||a.version.compareTo(o.version)===0&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):z(Y_,`Ignoring outdated watch update for `,n,`. Current version:`,o.version,` Watch version:`,a.version)})),{ks:r,qs:i}}))}function iv(e,t){let n=H(e);return n.persistence.runTransaction(`Get next mutation batch`,`readonly`,(e=>(t===void 0&&(t=Ep),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function av(e,t){let n=H(e);return n.persistence.runTransaction(`Allocate target`,`readwrite`,(e=>{let r;return n.Pi.getTargetData(e,t).next((i=>i?(r=i,Y.resolve(r)):n.Pi.allocateTargetId(e).next((i=>(r=new p_(t,i,`TargetPurposeListen`,e.currentSequenceNumber),n.Pi.addTargetData(e,r).next((()=>r)))))))})).then((e=>{let r=n.Ms.get(e.targetId);return(r===null||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(e.targetId,e),n.xs.set(t,e.targetId)),e}))}async function ov(e,t,n){let r=H(e),i=r.Ms.get(t),a=n?`readwrite`:`readwrite-primary`;try{n||await r.persistence.runTransaction(`Release target`,a,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!wp(e))throw e;z(Y_,`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ms=r.Ms.remove(t),r.xs.delete(i.target)}function sv(e,t,n){let r=H(e),i=J.min(),a=Z();return r.persistence.runTransaction(`Execute query`,`readwrite`,(e=>function(e,t,n){let r=H(e),i=r.xs.get(n);return i===void 0?r.Pi.getTargetData(t,n):Y.resolve(r.Ms.get(i))}(r,e,ch(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(e,t.targetId).next((e=>{a=e}))})).next((()=>r.Fs.getDocumentsMatchingQuery(e,t,n?i:J.min(),n?a:Z()))).next((e=>(cv(r,hh(t),e),{documents:e,Qs:a})))))}function cv(e,t,n){let r=e.Os.get(t)||J.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Os.set(t,r)}var lv=class{constructor(){this.activeTargetIds=Ah()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},uv=class{constructor(){this.Mo=new lv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||`not-current`}updateQueryState(e,t,n){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new lv,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}},dv=class{Oo(e){}shutdown(){}},fv=`ConnectivityMonitor`,pv=class{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener(`online`,this.No),window.removeEventListener(`offline`,this.Lo)}Qo(){window.addEventListener(`online`,this.No),window.addEventListener(`offline`,this.Lo)}Bo(){z(fv,`Network connectivity changed: AVAILABLE`);for(let e of this.qo)e(0)}ko(){z(fv,`Network connectivity changed: UNAVAILABLE`);for(let e of this.qo)e(1)}static v(){return typeof window<`u`&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}},mv=null;function hv(){return mv===null?mv=function(){return 268435456+Math.round(2147483648*Math.random())}():mv++,`0x`+mv.toString(16)}var gv=`RestConnection`,_v={BatchGetDocuments:`batchGet`,Commit:`commit`,RunQuery:`runQuery`,RunAggregationQuery:`runAggregationQuery`},vv=class{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?`https`:`http`,n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=t+`://`+e.host,this.Ko=`projects/${n}/databases/${r}`,this.Wo=this.databaseId.database===nm?`project_id=${n}`:`project_id=${n}&database_id=${r}`}Go(e,t,n,r,i){let a=hv(),o=this.zo(e,t.toUriEncodedString());z(gv,`Sending RPC '${e}' ${a}:`,o,n);let s={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(s,r,i);let{host:c}=new URL(o),l=Bl(c);return this.Jo(e,o,s,n,l).then((t=>(z(gv,`Received RPC '${e}' ${a}: `,t),t)),(t=>{throw Nf(gv,`RPC '${e}' ${a} failed with error: `,t,`url: `,o,`request:`,n),t}))}Ho(e,t,n,r,i,a){return this.Go(e,t,n,r,i)}jo(e,t,n){e[`X-Goog-Api-Client`]=function(){return`gl-js/ fire/`+kf}(),e[`Content-Type`]=`text/plain`,this.databaseInfo.appId&&(e[`X-Firebase-GMPID`]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}zo(e,t){let n=_v[e];return`${this.Uo}/v1/${t}:${n}`}terminate(){}},yv=class{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}},bv=`WebChannelConnection`,xv=class extends vv{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){let a=hv();return new Promise(((i,o)=>{let s=new vf;s.setWithCredentials(!0),s.listenOnce(bf.COMPLETE,(()=>{try{switch(s.getLastErrorCode()){case xf.NO_ERROR:let t=s.getResponseJson();z(bv,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(t)),i(t);break;case xf.TIMEOUT:z(bv,`RPC '${e}' ${a} timed out`),o(new W(U.DEADLINE_EXCEEDED,`Request time out`));break;case xf.HTTP_ERROR:let n=s.getStatus();if(z(bv,`RPC '${e}' ${a} failed with status:`,n,`response text:`,s.getResponseText()),n>0){let e=s.getResponseJson();Array.isArray(e)&&(e=e[0]);let t=e?.error;t&&t.status&&t.message?o(new W(function(e){let t=e.toLowerCase().replace(/_/g,`-`);return Object.values(U).indexOf(t)>=0?t:U.UNKNOWN}(t.status),t.message)):o(new W(U.UNKNOWN,`Server responded with status `+s.getStatus()))}else o(new W(U.UNAVAILABLE,`Connection failed.`));break;default:B(9055,{l_:e,streamId:a,h_:s.getLastErrorCode(),P_:s.getLastError()})}}finally{z(bv,`RPC '${e}' ${a} completed.`)}}));let c=JSON.stringify(r);z(bv,`RPC '${e}' ${a} sending request:`,r),s.send(t,`POST`,c,n,15)}))}T_(e,t,n){let r=hv(),i=[this.Uo,`/`,`google.firestore.v1.Firestore`,`/`,e,`/channel`],a=Tf(),o=wf(),s={httpSessionIdParam:`gsessionid`,initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(s.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(s.useFetchStreams=!0),this.jo(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;let l=i.join(``);z(bv,`Creating RPC '${e}' stream ${r}: ${l}`,s);let u=a.createWebChannel(l,s);this.I_(u);let d=!1,f=!1,p=new yv({Yo:t=>{f?z(bv,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||=(z(bv,`Opening RPC '${e}' stream ${r} transport.`),u.open(),!0),z(bv,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Zo:()=>u.close()}),m=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return m(u,yf.EventType.OPEN,(()=>{f||(z(bv,`RPC '${e}' stream ${r} transport opened.`),p.o_())})),m(u,yf.EventType.CLOSE,(()=>{f||(f=!0,z(bv,`RPC '${e}' stream ${r} transport closed`),p.a_(),this.E_(u))})),m(u,yf.EventType.ERROR,(t=>{f||(f=!0,Nf(bv,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,`Message:`,t.message),p.a_(new W(U.UNAVAILABLE,`The operation could not be completed`)))})),m(u,yf.EventType.MESSAGE,(t=>{if(!f){let n=t.data[0];V(!!n,16349);let i=n,a=i?.error||i[0]?.error;if(a){z(bv,`RPC '${e}' stream ${r} received error:`,a);let t=a.status,n=function(e){let t=pg[e];if(t!==void 0)return hg(t)}(t),i=a.message;n===void 0&&(n=U.INTERNAL,i=`Unknown error status: `+t+` with message `+a.message),f=!0,p.a_(new W(n,i)),u.close()}else z(bv,`RPC '${e}' stream ${r} received:`,n),p.u_(n)}})),m(o,Cf.STAT_EVENT,(t=>{t.stat===Sf.PROXY?z(bv,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Sf.NOPROXY&&z(bv,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{p.__()}),0),p}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}};function Sv(){return typeof document<`u`?document:null}function Cv(e){return new Fg(e,!0)}var wv=class{constructor(e,t,n=1e3,r=1.5,i=6e4){this.Mi=e,this.timerId=t,this.d_=n,this.A_=r,this.R_=i,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();let t=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),r=Math.max(0,t-n);r>0&&z(`ExponentialBackoff`,`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}},Tv=`PersistentStream`,Ev=class{constructor(e,t,n,r,i,a,o,s){this.Mi=e,this.S_=n,this.b_=r,this.connection=i,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=s,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new wv(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state===4?this.N_():this.auth()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&=(this.C_.cancel(),null)}U_(){this.v_&&=(this.v_.cancel(),null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e===4?t&&t.code===U.RESOURCE_EXHAUSTED?(Mf(t.toString()),Mf(`Using maximum backoff delay to prevent overloading the backend.`),this.M_.g_()):t&&t.code===U.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()):this.M_.reset(),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;let e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.D_===t&&this.G_(e,n)}),(t=>{e((()=>{let e=new W(U.UNKNOWN,`Fetching auth token failed: `+t.message);return this.z_(e)}))}))}G_(e,t){let n=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((e=>{n((()=>this.z_(e)))})),this.stream.onMessage((e=>{n((()=>++this.F_==1?this.J_(e):this.onNext(e)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return z(Tv,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(z(Tv,`stream callback skipped by getCloseGuardedDispatcher.`),Promise.resolve())))}}},Dv=class extends Ev{constructor(e,t,n,r,i,a){super(e,`listen_stream_connection_backoff`,`listen_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}j_(e,t){return this.connection.T_(`Listen`,e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();let t=Zg(this.serializer,e),n=function(e){if(!(`targetChange`in e))return J.min();let t=e.targetChange;return t.targetIds&&t.targetIds.length?J.min():t.readTime?Bg(t.readTime):J.min()}(e);return this.listener.H_(t,n)}Y_(e){let t={};t.database=Jg(this.serializer),t.addTarget=function(e,t){let n,r=t.target;if(n=th(r)?{documents:e_(e,r)}:{query:t_(e,r).ft},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Rg(e,t.resumeToken);let r=Ig(e,t.expectedCount);r!==null&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(J.min())>0){n.readTime=Lg(e,t.snapshotVersion.toTimestamp());let r=Ig(e,t.expectedCount);r!==null&&(n.expectedCount=r)}return n}(this.serializer,e);let n=r_(this.serializer,e);n&&(t.labels=n),this.q_(t)}Z_(e){let t={};t.database=Jg(this.serializer),t.removeTarget=e,this.q_(t)}},Ov=class extends Ev{constructor(e,t,n,r,i,a){super(e,`write_stream_connection_backoff`,`write_stream_idle`,`health_check_timeout`,t,n,r,a),this.serializer=i}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_(`Write`,e,t)}J_(e){return V(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,V(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){V(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();let t=$g(e.writeResults,e.commitTime),n=Bg(e.commitTime);return this.listener.na(n,t)}ra(){let e={};e.database=Jg(this.serializer),this.q_(e)}ea(e){let t={streamToken:this.lastStreamToken,writes:e.map((e=>Qg(this.serializer,e)))};this.q_(t)}},kv=class{},Av=class extends kv{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new W(U.FAILED_PRECONDITION,`The client has already been terminated.`)}Go(e,t,n,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,a])=>this.connection.Go(e,Hg(t,n),r,i,a))).catch((e=>{throw e.name===`FirebaseError`?(e.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new W(U.UNKNOWN,e.toString())}))}Ho(e,t,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,Hg(t,n),r,a,o,i))).catch((e=>{throw e.name===`FirebaseError`?(e.code===U.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new W(U.UNKNOWN,e.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}},jv=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state=`Unknown`,this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca(`Unknown`),this._a=this.asyncQueue.enqueueAfterDelay(`online_state_timeout`,1e4,(()=>(this._a=null,this.la(`Backend didn't respond within 10 seconds.`),this.ca(`Offline`),Promise.resolve()))))}ha(e){this.state===`Online`?this.ca(`Unknown`):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca(`Offline`)))}set(e){this.Pa(),this.oa=0,e===`Online`&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){let t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Mf(t),this.aa=!1):z(`OnlineStateTracker`,t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}},Mv=`RemoteStore`,Nv=class{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=i,this.Aa.Oo((e=>{n.enqueueAndForget((async()=>{Hv(this)&&(z(Mv,`Restarting streams for network reachability change.`),await async function(e){let t=H(e);t.Ea.add(4),await Fv(t),t.Ra.set(`Unknown`),t.Ea.delete(4),await Pv(t)}(this))}))})),this.Ra=new jv(n,r)}};async function Pv(e){if(Hv(e))for(let t of e.da)await t(!0)}async function Fv(e){for(let t of e.da)await t(!1)}function Iv(e,t){let n=H(e);n.Ia.has(t.targetId)||(n.Ia.set(t.targetId,t),Vv(n)?Bv(n):sy(n).O_()&&Rv(n,t))}function Lv(e,t){let n=H(e),r=sy(n);n.Ia.delete(t),r.O_()&&zv(n,t),n.Ia.size===0&&(r.O_()?r.L_():Hv(n)&&n.Ra.set(`Unknown`))}function Rv(e,t){if(e.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(J.min())>0){let n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}sy(e).Y_(t)}function zv(e,t){e.Va.Ue(t),sy(e).Z_(t)}function Bv(e){e.Va=new kg({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),At:t=>e.Ia.get(t)||null,ht:()=>e.datastore.serializer.databaseId}),sy(e).start(),e.Ra.ua()}function Vv(e){return Hv(e)&&!sy(e).x_()&&e.Ia.size>0}function Hv(e){return H(e).Ea.size===0}function Uv(e){e.Va=void 0}async function Wv(e){e.Ra.set(`Online`)}async function Gv(e){e.Ia.forEach(((t,n)=>{Rv(e,t)}))}async function Kv(e,t){Uv(e),Vv(e)?(e.Ra.ha(t),Bv(e)):e.Ra.set(`Unknown`)}async function qv(e,t,n){if(e.Ra.set(`Online`),t instanceof Dg&&t.state===2&&t.cause)try{await async function(e,t){let n=t.cause;for(let r of t.targetIds)e.Ia.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Ia.delete(r),e.Va.removeTarget(r))}(e,t)}catch(n){z(Mv,`Failed to remove targets %s: %s `,t.targetIds.join(`,`),n),await Jv(e,n)}else if(t instanceof Tg?e.Va.Ze(t):t instanceof Eg?e.Va.st(t):e.Va.tt(t),!n.isEqual(J.min()))try{let t=await tv(e.localStore);n.compareTo(t)>=0&&await function(e,t){let n=e.Va.Tt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){let i=e.Ia.get(r);i&&e.Ia.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{let r=e.Ia.get(t);r&&(e.Ia.set(t,r.withResumeToken(Wp.EMPTY_BYTE_STRING,r.snapshotVersion)),zv(e,t),Rv(e,new p_(r.target,t,n,r.sequenceNumber)))})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){z(Mv,`Failed to raise snapshot:`,t),await Jv(e,t)}}async function Jv(e,t,n){if(!wp(t))throw t;e.Ea.add(1),await Fv(e),e.Ra.set(`Offline`),n||=()=>tv(e.localStore),e.asyncQueue.enqueueRetryable((async()=>{z(Mv,`Retrying IndexedDB access`),await n(),e.Ea.delete(1),await Pv(e)}))}function Yv(e,t){return t().catch((n=>Jv(e,n,t)))}async function Xv(e){let t=H(e),n=cy(t),r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Ep;for(;Zv(t);)try{let e=await iv(t.localStore,r);if(e===null){t.Ta.length===0&&n.L_();break}r=e.batchId,Qv(t,e)}catch(e){await Jv(t,e)}$v(t)&&ey(t)}function Zv(e){return Hv(e)&&e.Ta.length<10}function Qv(e,t){e.Ta.push(t);let n=cy(e);n.O_()&&n.X_&&n.ea(t.mutations)}function $v(e){return Hv(e)&&!cy(e).x_()&&e.Ta.length>0}function ey(e){cy(e).start()}async function ty(e){cy(e).ra()}async function ny(e){let t=cy(e);for(let n of e.Ta)t.ea(n.mutations)}async function ry(e,t,n){let r=e.Ta.shift(),i=ug.from(r,t,n);await Yv(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await Xv(e)}async function iy(e,t){t&&cy(e).X_&&await async function(e,t){if(function(e){return mg(e)&&e!==U.ABORTED}(t.code)){let n=e.Ta.shift();cy(e).B_(),await Yv(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await Xv(e)}}(e,t),$v(e)&&ey(e)}async function ay(e,t){let n=H(e);n.asyncQueue.verifyOperationInProgress(),z(Mv,`RemoteStore received new credentials`);let r=Hv(n);n.Ea.add(3),await Fv(n),r&&n.Ra.set(`Unknown`),await n.remoteSyncer.handleCredentialChange(t),n.Ea.delete(3),await Pv(n)}async function oy(e,t){let n=H(e);t?(n.Ea.delete(2),await Pv(n)):t||(n.Ea.add(2),await Fv(n),n.Ra.set(`Unknown`))}function sy(e){return e.ma||(e.ma=function(e,t,n){let r=H(e);return r.sa(),new Dv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:Wv.bind(null,e),t_:Gv.bind(null,e),r_:Kv.bind(null,e),H_:qv.bind(null,e)}),e.da.push((async t=>{t?(e.ma.B_(),Vv(e)?Bv(e):e.Ra.set(`Unknown`)):(await e.ma.stop(),Uv(e))}))),e.ma}function cy(e){return e.fa||(e.fa=function(e,t,n){let r=H(e);return r.sa(),new Ov(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Xo:()=>Promise.resolve(),t_:ty.bind(null,e),r_:iy.bind(null,e),ta:ny.bind(null,e),na:ry.bind(null,e)}),e.da.push((async t=>{t?(e.fa.B_(),await Xv(e)):(await e.fa.stop(),e.Ta.length>0&&(z(Mv,`Stopping write stream with ${e.Ta.length} pending writes`),e.Ta=[]))}))),e.fa}var ly=class e{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new If,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,n,r,i,a){let o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new W(U.CANCELLED,`Operation cancelled`+(e?`: `+e:``))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle===null?Promise.resolve():(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e))))))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function uy(e,t){if(Mf(`AsyncQueue`,`${t}: ${e}`),wp(e))return new W(U.UNAVAILABLE,`${t}: ${e}`);throw e}var dy=class e{static emptySet(t){return new e(t.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||q.comparator(t.key,n.key):(e,t)=>q.comparator(e.key,t.key),this.keyedMap=Sh(),this.sortedSet=new Lp(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(t){if(!(t instanceof e)||this.size!==t.size)return!1;let n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){let e=n.getNext().key,t=r.getNext().key;if(!e.isEqual(t))return!1}return!0}toString(){let e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?`DocumentSet ()`:`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(t,n){let r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}},fy=class{constructor(){this.ga=new Lp(q.comparator)}track(e){let t=e.doc.key,n=this.ga.get(t);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(t,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(t):e.type===1&&n.type===2?this.ga=this.ga.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):B(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(t,e)}ya(){let e=[];return this.ga.inorderTraversal(((t,n)=>{e.push(n)})),e}},py=class e{constructor(e,t,n,r,i,a,o,s,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=s,this.hasCachedResults=c}static fromInitialDocuments(t,n,r,i,a){let o=[];return n.forEach((e=>{o.push({type:0,doc:e})})),new e(t,n,dy.emptySet(n),o,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&dh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}},my=class{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}},hy=class{constructor(){this.queries=gy(),this.onlineState=`Unknown`,this.Ca=new Set}terminate(){(function(e,t){let n=H(e),r=n.queries;n.queries=gy(),r.forEach(((e,n)=>{for(let e of n.Sa)e.onError(t)}))})(this,new W(U.ABORTED,`Firestore shutting down`))}};function gy(){return new vh((e=>fh(e)),dh)}async function _y(e,t){let n=H(e),r=3,i=t.query,a=n.queries.get(i);a?!a.ba()&&t.Da()&&(r=2):(a=new my,r=t.Da()?0:1);try{switch(r){case 0:a.wa=await n.onListen(i,!0);break;case 1:a.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){let n=uy(e,`Initialization of query '${ph(t.query)}' failed`);t.onError(n);return}n.queries.set(i,a),a.Sa.push(t),t.va(n.onlineState),a.wa&&t.Fa(a.wa)&&xy(n)}async function vy(e,t){let n=H(e),r=t.query,i=3,a=n.queries.get(r);if(a){let e=a.Sa.indexOf(t);e>=0&&(a.Sa.splice(e,1),a.Sa.length===0?i=t.Da()?0:1:!a.ba()&&t.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function yy(e,t){let n=H(e),r=!1;for(let e of t){let t=e.query,i=n.queries.get(t);if(i){for(let t of i.Sa)t.Fa(e)&&(r=!0);i.wa=e}}r&&xy(n)}function by(e,t,n){let r=H(e),i=r.queries.get(t);if(i)for(let e of i.Sa)e.onError(n);r.queries.delete(t)}function xy(e){e.Ca.forEach((e=>{e.next()}))}var Sy,Cy;(Cy=Sy||={}).Ma=`default`,Cy.Cache=`cache`;var wy=class{constructor(e,t,n){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState=`Unknown`,this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){let t=[];for(let n of e.docChanges)n.type!==3&&t.push(n);e=new py(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;let n=t!==`Offline`;return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t===`Offline`)}Ba(e){if(e.docChanges.length>0)return!0;let t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}ka(e){e=py.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Sy.Cache}},Ty=class{constructor(e){this.key=e}},Ey=class{constructor(e){this.key=e}},Dy=class{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Z(),this.mutatedKeys=Z(),this.eu=gh(e),this.tu=new dy(this.eu)}get nu(){return this.Ya}ru(e,t){let n=t?t.iu:new fy,r=t?t.tu:this.tu,i=t?t.mutatedKeys:this.mutatedKeys,a=r,o=!1,s=this.query.limitType===`F`&&r.size===this.query.limit?r.last():null,c=this.query.limitType===`L`&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{let l=r.get(e),u=mh(this.query,t)?t:null,d=!!l&&this.mutatedKeys.has(l.key),f=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations),p=!1;l&&u?l.data.isEqual(u.data)?d!==f&&(n.track({type:3,doc:u}),p=!0):this.su(l,u)||(n.track({type:2,doc:u}),p=!0,(s&&this.eu(u,s)>0||c&&this.eu(u,c)<0)&&(o=!0)):!l&&u?(n.track({type:0,doc:u}),p=!0):l&&!u&&(n.track({type:1,doc:l}),p=!0,(s||c)&&(o=!0)),p&&(u?(a=a.add(u),i=f?i.add(e):i.delete(e)):(a=a.delete(e),i=i.delete(e)))})),this.query.limit!==null)for(;a.size>this.query.limit;){let e=this.query.limitType===`F`?a.last():a.first();a=a.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tu:a,iu:n,Cs:o,mutatedKeys:i}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){let i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;let a=e.iu.ya();a.sort(((e,t)=>function(e,t){let n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return B(20277,{Rt:e})}};return n(e)-n(t)}(e.type,t.type)||this.eu(e.doc,t.doc))),this.ou(n),r??=!1;let o=t&&!r?this._u():[],s=this.Xa.size===0&&this.current&&!r?1:0,c=s!==this.Za;return this.Za=s,a.length!==0||c?{snapshot:new py(this.query,e.tu,i,a,e.mutatedKeys,s===0,c,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e===`Offline`?(this.current=!1,this.applyChanges({tu:this.tu,iu:new fy,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=e.current)}_u(){if(!this.current)return[];let e=this.Xa;this.Xa=Z(),this.tu.forEach((e=>{this.uu(e.key)&&(this.Xa=this.Xa.add(e.key))}));let t=[];return e.forEach((e=>{this.Xa.has(e)||t.push(new Ey(e))})),this.Xa.forEach((n=>{e.has(n)||t.push(new Ty(n))})),t}cu(e){this.Ya=e.Qs,this.Xa=Z();let t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return py.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}},Oy=`SyncEngine`,ky=class{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}},Ay=class{constructor(e){this.key=e,this.hu=!1}},jy=class{constructor(e,t,n,r,i,a){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new vh((e=>fh(e)),dh),this.Iu=new Map,this.Eu=new Set,this.du=new Lp(q.comparator),this.Au=new Map,this.Ru=new I_,this.Vu={},this.mu=new Map,this.fu=S_.cr(),this.onlineState=`Unknown`,this.gu=void 0}get isPrimaryClient(){return!0===this.gu}};async function My(e,t,n=!0){let r=eb(e),i,a=r.Tu.get(t);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Py(r,t,n,!0),i}async function Ny(e,t){await Py(eb(e),t,!0,!1)}async function Py(e,t,n,r){let i=await av(e.localStore,ch(t)),a=i.targetId,o=e.sharedClientState.addLocalQueryTarget(a,n),s;return r&&(s=await Fy(e,t,a,o===`current`,i.resumeToken)),e.isPrimaryClient&&n&&Iv(e.remoteStore,i),s}async function Fy(e,t,n,r,i){e.pu=(t,n,r)=>async function(e,t,n,r){let i=t.view.ru(n);i.Cs&&(i=await sv(e.localStore,t.query,!1).then((({documents:e})=>t.view.ru(e,i))));let a=r&&r.targetChanges.get(t.targetId),o=r&&r.targetMismatches.get(t.targetId)!=null,s=t.view.applyChanges(i,e.isPrimaryClient,a,o);return Jy(e,t.targetId,s.au),s.snapshot}(e,t,n,r);let a=await sv(e.localStore,t,!0),o=new Dy(t,a.Qs),s=o.ru(a.documents),c=wg.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!==`Offline`,i),l=o.applyChanges(s,e.isPrimaryClient,c);Jy(e,n,l.au);let u=new ky(t,n,o);return e.Tu.set(t,u),e.Iu.has(n)?e.Iu.get(n).push(t):e.Iu.set(n,[t]),l.snapshot}async function Iy(e,t,n){let r=H(e),i=r.Tu.get(t),a=r.Iu.get(i.targetId);if(a.length>1)return r.Iu.set(i.targetId,a.filter((e=>!dh(e,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await ov(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Lv(r.remoteStore,i.targetId),Ky(r,i.targetId)})).catch(Sp)):(Ky(r,i.targetId),await ov(r.localStore,i.targetId,!0))}async function Ly(e,t){let n=H(e),r=n.Tu.get(t),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Lv(n.remoteStore,r.targetId))}async function Ry(e,t,n){let r=tb(e);try{let e=await function(e,t){let n=H(e),r=pp.now(),i=t.reduce(((e,t)=>e.add(t.key)),Z()),a,o;return n.persistence.runTransaction(`Locally write mutations`,`readwrite`,(e=>{let s=bh(),c=Z();return n.Ns.getEntries(e,i).next((e=>{s=e,s.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,s))).next((i=>{a=i;let o=[];for(let e of t){let t=eg(e,a.get(e.key).overlayedDocument);t!=null&&o.push(new rg(e.key,t,Dm(t.value.mapValue),Jh.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;let r=t.applyToLocalDocumentSet(a,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Ch(a)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Vu[e.currentUser.toKey()];r||=new Lp(G),r=r.insert(t,n),e.Vu[e.currentUser.toKey()]=r}(r,e.batchId,n),await Zy(r,e.changes),await Xv(r.remoteStore)}catch(e){let t=uy(e,`Failed to persist write`);n.reject(t)}}async function zy(e,t){let n=H(e);try{let e=await nv(n.localStore,t);t.targetChanges.forEach(((e,t)=>{let r=n.Au.get(t);r&&(V(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r.hu=!0:e.modifiedDocuments.size>0?V(r.hu,14607):e.removedDocuments.size>0&&(V(r.hu,42227),r.hu=!1))})),await Zy(n,e,t)}catch(e){await Sp(e)}}function By(e,t,n){let r=H(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let e=[];r.Tu.forEach(((n,r)=>{let i=r.view.va(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){let n=H(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(let e of n.Sa)e.va(t)&&(r=!0)})),r&&xy(n)}(r.eventManager,t),e.length&&r.Pu.H_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Vy(e,t,n){let r=H(e);r.sharedClientState.updateQueryState(t,`rejected`,n);let i=r.Au.get(t),a=i&&i.key;if(a){let e=new Lp(q.comparator);e=e.insert(a,Om.newNoDocument(a,J.min()));let n=Z().add(a);await zy(r,new Cg(J.min(),new Map,new Lp(G),e,n)),r.du=r.du.remove(a),r.Au.delete(t),Xy(r)}else await ov(r.localStore,t,!1).then((()=>Ky(r,t,n))).catch(Sp)}async function Hy(e,t){let n=H(e),r=t.batch.batchId;try{let e=await ev(n.localStore,t);Gy(n,r,null),Wy(n,r),n.sharedClientState.updateMutationState(r,`acknowledged`),await Zy(n,e)}catch(e){await Sp(e)}}async function Uy(e,t,n){let r=H(e);try{let e=await function(e,t){let n=H(e);return n.persistence.runTransaction(`Reject batch`,`readwrite-primary`,(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(V(t!==null,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Gy(r,t,n),Wy(r,t),r.sharedClientState.updateMutationState(t,`rejected`,n),await Zy(r,e)}catch(e){await Sp(e)}}function Wy(e,t){(e.mu.get(t)||[]).forEach((e=>{e.resolve()})),e.mu.delete(t)}function Gy(e,t,n){let r=H(e),i=r.Vu[r.currentUser.toKey()];if(i){let e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Vu[r.currentUser.toKey()]=i}}function Ky(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(let r of e.Iu.get(t))e.Tu.delete(r),n&&e.Pu.yu(r,n);e.Iu.delete(t),e.isPrimaryClient&&e.Ru.jr(t).forEach((t=>{e.Ru.containsKey(t)||qy(e,t)}))}function qy(e,t){e.Eu.delete(t.path.canonicalString());let n=e.du.get(t);n!==null&&(Lv(e.remoteStore,n),e.du=e.du.remove(t),e.Au.delete(n),Xy(e))}function Jy(e,t,n){for(let r of n)r instanceof Ty?(e.Ru.addReference(r.key,t),Yy(e,r)):r instanceof Ey?(z(Oy,`Document no longer in limbo: `+r.key),e.Ru.removeReference(r.key,t),e.Ru.containsKey(r.key)||qy(e,r.key)):B(19791,{wu:r})}function Yy(e,t){let n=t.key,r=n.path.canonicalString();e.du.get(n)||e.Eu.has(r)||(z(Oy,`New document in limbo: `+n),e.Eu.add(r),Xy(e))}function Xy(e){for(;e.Eu.size>0&&e.du.size<e.maxConcurrentLimboResolutions;){let t=e.Eu.values().next().value;e.Eu.delete(t);let n=new q(K.fromString(t)),r=e.fu.next();e.Au.set(r,new Ay(n)),e.du=e.du.insert(n,r),Iv(e.remoteStore,new p_(ch(ih(n.path)),r,`TargetPurposeLimboResolution`,Tp.ce))}}async function Zy(e,t,n){let r=H(e),i=[],a=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach(((e,s)=>{o.push(r.pu(s,t,n).then((e=>{if((e||n)&&r.isPrimaryClient){let t=e?!e.fromCache:n?.targetChanges.get(s.targetId)?.current;r.sharedClientState.updateQueryState(s.targetId,t?`current`:`not-current`)}if(e){i.push(e);let t=K_.As(s.targetId,e);a.push(t)}})))})),await Promise.all(o),r.Pu.H_(i),await async function(e,t){let n=H(e);try{await n.persistence.runTransaction(`notifyLocalViewChanges`,`readwrite`,(e=>Y.forEach(t,(t=>Y.forEach(t.Es,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Y.forEach(t.ds,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!wp(e))throw e;z(Y_,`Failed to update sequence numbers: `+e)}for(let e of t){let t=e.targetId;if(!e.fromCache){let e=n.Ms.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ms=n.Ms.insert(t,i)}}}(r.localStore,a))}async function Qy(e,t){let n=H(e);if(!n.currentUser.isEqual(t)){z(Oy,`User change. New user:`,t.toKey());let e=await $_(n.localStore,t);n.currentUser=t,function(e,t){e.mu.forEach((e=>{e.forEach((e=>{e.reject(new W(U.CANCELLED,t))}))})),e.mu.clear()}(n,`'waitForPendingWrites' promise is rejected due to a user change.`),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Zy(n,e.Ls)}}function $y(e,t){let n=H(e),r=n.Au.get(t);if(r&&r.hu)return Z().add(r.key);{let e=Z(),r=n.Iu.get(t);if(!r)return e;for(let t of r){let r=n.Tu.get(t);e=e.unionWith(r.view.nu)}return e}}function eb(e){let t=H(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=zy.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$y.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Vy.bind(null,t),t.Pu.H_=yy.bind(null,t.eventManager),t.Pu.yu=by.bind(null,t.eventManager),t}function tb(e){let t=H(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Hy.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Uy.bind(null,t),t}var nb=class{constructor(){this.kind=`memory`,this.synchronizeTabs=!1}async initialize(e){this.serializer=Cv(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return Q_(this.persistence,new J_,e.initialUser,this.serializer)}Cu(e){return new H_(W_.mi,this.serializer)}Du(e){return new uv}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}};nb.provider={build:()=>new nb};var rb=class extends nb{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){V(this.persistence.referenceDelegate instanceof G_,46915);let n=this.persistence.referenceDelegate.garbageCollector;return new D_(n,e.asyncQueue,t)}Cu(e){let t=this.cacheSizeBytes===void 0?x_.DEFAULT:x_.withCacheSize(this.cacheSizeBytes);return new H_((e=>G_.mi(e,t)),this.serializer)}},ib=class{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>By(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Qy.bind(null,this.syncEngine),await oy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new hy}()}createDatastore(e){let t=Cv(e.databaseInfo.databaseId),n=function(e){return new xv(e)}(e.databaseInfo);return function(e,t,n,r){return new Av(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Nv(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>By(this.syncEngine,e,0)),function(){return pv.v()?new pv:new dv}())}createSyncEngine(e,t){return function(e,t,n,r,i,a,o){let s=new jy(e,t,n,r,i,a);return o&&(s.gu=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await async function(e){let t=H(e);z(Mv,`RemoteStore shutting down.`),t.Ea.add(5),await Fv(t),t.Aa.shutdown(),t.Ra.set(`Unknown`)}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}};ib.provider={build:()=>new ib};var ab=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Mf(`Uncaught Error in snapshot listener:`,e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}},ob=`FirestoreClient`,sb=class{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=Of.UNAUTHENTICATED,this.clientId=Kf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{z(ob,`Received user=`,e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(z(ob,`Received new app check token=`,e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new If;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let n=uy(t,`Failed to shutdown persistence`);e.reject(n)}})),e.promise}};async function cb(e,t){e.asyncQueue.verifyOperationInProgress(),z(ob,`Initializing OfflineComponentProvider`);let n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await $_(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function lb(e,t){e.asyncQueue.verifyOperationInProgress();let n=await ub(e);z(ob,`Initializing OnlineComponentProvider`),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>ay(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>ay(t.remoteStore,n))),e._onlineComponents=t}async function ub(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){z(ob,`Using user provided OfflineComponentProvider`);try{await cb(e,e._uninitializedComponentsProvider._offline)}catch(t){let n=t;if(!function(e){return e.name===`FirebaseError`?e.code===U.FAILED_PRECONDITION||e.code===U.UNIMPLEMENTED:!(typeof DOMException<`u`&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}(n))throw n;Nf(`Error using user provided cache. Falling back to memory cache: `+n),await cb(e,new nb)}}else z(ob,`Using default OfflineComponentProvider`),await cb(e,new rb(void 0));return e._offlineComponents}async function db(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(z(ob,`Using user provided OnlineComponentProvider`),await lb(e,e._uninitializedComponentsProvider._online)):(z(ob,`Using default OnlineComponentProvider`),await lb(e,new ib))),e._onlineComponents}function fb(e){return db(e).then((e=>e.syncEngine))}async function pb(e){let t=await db(e),n=t.eventManager;return n.onListen=My.bind(null,t.syncEngine),n.onUnlisten=Iy.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=Ny.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=Ly.bind(null,t.syncEngine),n}function mb(e,t,n={}){let r=new If;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){let a=new ab({next:s=>{a.Nu(),t.enqueueAndForget((()=>vy(e,o)));let c=s.docs.has(n);!c&&s.fromCache?i.reject(new W(U.UNAVAILABLE,`Failed to get document because the client is offline.`)):c&&s.fromCache&&r&&r.source===`server`?i.reject(new W(U.UNAVAILABLE,`Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)`)):i.resolve(s)},error:e=>i.reject(e)}),o=new wy(ih(n.path),a,{includeMetadataChanges:!0,qa:!0});return _y(e,o)}(await pb(e),e.asyncQueue,t,n,r))),r.promise}function hb(e){let t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}var gb=new Map,_b=`firestore.googleapis.com`,vb=!0,yb=class{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new W(U.INVALID_ARGUMENT,`Can't provide ssl option if host option is not set`);this.host=_b,this.ssl=vb}else this.host=e.host,this.ssl=e.ssl??vb;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=b_;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<w_)throw new W(U.INVALID_ARGUMENT,`cacheSizeBytes must be at least 1048576`);this.cacheSizeBytes=e.cacheSizeBytes}rp(`experimentalForceLongPolling`,e.experimentalForceLongPolling,`experimentalAutoDetectLongPolling`,e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hb(e.experimentalLongPollingOptions??{}),function(e){if(e.timeoutSeconds!==void 0){if(isNaN(e.timeoutSeconds))throw new W(U.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new W(U.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new W(U.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},bb=class{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type=`firestore-lite`,this._persistenceKey=`(lite)`,this._settings=new yb({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask=`notTerminated`}get app(){if(!this._app)throw new W(U.FAILED_PRECONDITION,`Firestore was not initialized using the Firebase SDK. 'app' is not available`);return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==`notTerminated`}_setSettings(e){if(this._settingsFrozen)throw new W(U.FAILED_PRECONDITION,`Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.`);this._settings=new yb(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(e){if(!e)return new Rf;switch(e.type){case`firstParty`:return new Hf(e.sessionIndex||`0`,e.iamToken||null,e.authTokenFactory||null);case`provider`:return e.client;default:throw new W(U.INVALID_ARGUMENT,`makeAuthCredentialsProvider failed due to invalid credential type`)}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask===`notTerminated`&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask===`notTerminated`?await this._terminate():this._terminateTask=`notTerminated`}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=gb.get(e);t&&(z(`ComponentProvider`,`Removing Datastore`),gb.delete(e),t.terminate())}(this),Promise.resolve()}};function xb(e,t,n,r={}){e=cp(e,bb);let i=Bl(t),a=e._getSettings(),o={...a,emulatorOptions:e._getEmulatorOptions()},s=`${t}:${n}`;i&&(Vl(`https://${s}`),ql(`Firestore`,!0)),a.host!==_b&&a.host!==s&&Nf(`Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.`);let c={...a,host:s,ssl:i,emulatorOptions:r};if(!uu(c,o)&&(e._setSettings(c),r.mockUserToken)){let t,n;if(typeof r.mockUserToken==`string`)t=r.mockUserToken,n=Of.MOCK_USER;else{t=Hl(r.mockUserToken,e._app?.options.projectId);let i=r.mockUserToken.sub||r.mockUserToken.user_id;if(!i)throw new W(U.INVALID_ARGUMENT,`mockUserToken must contain 'sub' or 'user_id' field!`);n=new Of(i)}e._authCredentials=new zf(new Lf(t,n))}}var Sb=class e{constructor(e,t,n){this.converter=t,this._query=n,this.type=`query`,this.firestore=e}withConverter(t){return new e(this.firestore,t,this._query)}},Cb=class e{constructor(e,t,n){this.converter=t,this._key=n,this.type=`document`,this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wb(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new e(this.firestore,t,this._key)}toJSON(){return{type:e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,n,r){if(up(n,e._jsonSchema))return new e(t,r||null,new q(K.fromString(n.referencePath)))}};Cb._jsonSchemaVersion=`firestore/documentReference/1.0`,Cb._jsonSchema={type:lp(`string`,Cb._jsonSchemaVersion),referencePath:lp(`string`)};var wb=class e extends Sb{constructor(e,t,n){super(e,t,ih(n)),this._path=n,this.type=`collection`}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Cb(this.firestore,null,new q(e))}withConverter(t){return new e(this.firestore,t,this._path)}};function Tb(e,t,...n){if(e=yu(e),np(`collection`,`path`,t),e instanceof bb){let r=K.fromString(t,...n);return ap(r),new wb(e,null,r)}{if(!(e instanceof Cb||e instanceof wb))throw new W(U.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(K.fromString(t,...n));return ap(r),new wb(e.firestore,null,r)}}function Eb(e,t,...n){if(e=yu(e),arguments.length===1&&(t=Kf.newId()),np(`doc`,`path`,t),e instanceof bb){let r=K.fromString(t,...n);return ip(r),new Cb(e,null,new q(r))}{if(!(e instanceof Cb||e instanceof wb))throw new W(U.INVALID_ARGUMENT,`Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore`);let r=e._path.child(K.fromString(t,...n));return ip(r),new Cb(e.firestore,e instanceof wb?e.converter:null,new q(r))}}var Db=`AsyncQueue`,Ob=class{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new wv(this,`async_queue_retry`),this._c=()=>{let e=Sv();e&&z(Db,`Visibility state changed to `+e.visibilityState),this.M_.w_()},this.ac=e;let t=Sv();t&&typeof t.addEventListener==`function`&&t.addEventListener(`visibilitychange`,this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;let t=Sv();t&&typeof t.removeEventListener==`function`&&t.removeEventListener(`visibilitychange`,this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));let t=new If;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!wp(e))throw e;z(Db,`Operation failed with retryable error: `+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){let t=this.ac.then((()=>(this.rc=!0,e().catch((e=>{throw this.nc=e,this.rc=!1,Mf(`INTERNAL UNHANDLED ERROR: `,kb(e)),e})).then((e=>(this.rc=!1,e))))));return this.ac=t,t}enqueueAfterDelay(e,t,n){this.uc(),this.oc.indexOf(e)>-1&&(t=0);let r=ly.createAndSchedule(this,e,t,n,(e=>this.hc(e)));return this.tc.push(r),r}uc(){this.nc&&B(47125,{Pc:kb(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(let t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(let t of this.tc)if(t.skipDelay(),e!==`all`&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){let t=this.tc.indexOf(e);this.tc.splice(t,1)}};function kb(e){let t=e.message||``;return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+`
`+e.stack),t}function Ab(e){return function(e,t){if(typeof e!=`object`||!e)return!1;let n=e;for(let e of t)if(e in n&&typeof n[e]==`function`)return!0;return!1}(e,[`next`,`error`,`complete`])}var jb=class extends bb{constructor(e,t,n,r){super(e,t,n,r),this.type=`firestore`,this._queue=new Ob,this._persistenceKey=r?.name||`[DEFAULT]`}async _terminate(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Ob(e),this._firestoreClient=void 0,await e}}};function Mb(e,t){let n=typeof e==`object`?e:Kd(),r=typeof e==`string`?e:t||nm,i=Bd(n,`firestore`).getImmediate({identifier:r});if(!i._initialized){let e=Il(`firestore`);e&&xb(i,...e)}return i}function Nb(e){if(e._terminated)throw new W(U.FAILED_PRECONDITION,`The client has already been terminated.`);return e._firestoreClient||Pb(e),e._firestoreClient}function Pb(e){let t=e._freezeSettings(),n=function(e,t,n,r){return new tm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,hb(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,e._app?.options.appId||``,e._persistenceKey,t);e._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(e._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),e._firestoreClient=new sb(e._authCredentials,e._appCheckCredentials,e._queue,n,e._componentsProvider&&function(e){let t=e?._online.build();return{_offline:e?._offline.build(t),_online:t}}(e._componentsProvider))}var Fb=class e{constructor(e){this._byteString=e}static fromBase64String(t){try{return new e(Wp.fromBase64String(t))}catch(e){throw new W(U.INVALID_ARGUMENT,`Failed to construct data from Base64 string: `+e)}}static fromUint8Array(t){return new e(Wp.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return`Bytes(base64: `+this.toBase64()+`)`}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:e._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(up(t,e._jsonSchema))return e.fromBase64String(t.bytes)}};Fb._jsonSchemaVersion=`firestore/bytes/1.0`,Fb._jsonSchema={type:lp(`string`,Fb._jsonSchemaVersion),bytes:lp(`string`)};var Ib=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new W(U.INVALID_ARGUMENT,`Invalid field name at argument $(i + 1). Field names must not be empty.`);this._internalPath=new tp(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}},Lb=class{constructor(e){this._methodName=e}},Rb=class e{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new W(U.INVALID_ARGUMENT,`Latitude must be a number between -90 and 90, but was: `+e);if(!isFinite(t)||t<-180||t>180)throw new W(U.INVALID_ARGUMENT,`Longitude must be a number between -180 and 180, but was: `+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return G(this._lat,e._lat)||G(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:e._jsonSchemaVersion}}static fromJSON(t){if(up(t,e._jsonSchema))return new e(t.latitude,t.longitude)}};Rb._jsonSchemaVersion=`firestore/geoPoint/1.0`,Rb._jsonSchema={type:lp(`string`,Rb._jsonSchemaVersion),latitude:lp(`number`),longitude:lp(`number`)};var zb=class e{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}toJSON(){return{type:e._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(up(t,e._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e==`number`)))return new e(t.vectorValues);throw new W(U.INVALID_ARGUMENT,`Expected 'vectorValues' field to be a number array`)}}};zb._jsonSchemaVersion=`firestore/vectorValue/1.0`,zb._jsonSchema={type:lp(`string`,zb._jsonSchemaVersion),vectorValues:lp(`object`)};var Bb=/^__.*__$/,Vb=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask===null?new ng(e,this.data,t,this.fieldTransforms):new rg(e,this.data,this.fieldMask,t,this.fieldTransforms)}},Hb=class{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new rg(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function Ub(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw B(40011,{Ac:e})}}var Wb=class e{constructor(e,t,n,r,i,a){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,i===void 0&&this.Rc(),this.fieldTransforms=i||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new e({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.gc(e),n}yc(e){let t=this.path?.child(e),n=this.Vc({path:t,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return ix(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc(`Document fields must not be empty`);if(Ub(this.Ac)&&Bb.test(e))throw this.Sc(`Document fields cannot begin and end with "__"`)}},Gb=class{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Cv(e)}Cc(e,t,n,r=!1){return new Wb({Ac:e,methodName:t,Dc:n,path:tp.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Kb(e){let t=e._freezeSettings(),n=Cv(e._databaseId);return new Gb(e._databaseId,!!t.ignoreUndefinedProperties,n)}function qb(e,t,n,r,i,a={}){let o=e.Cc(a.merge||a.mergeFields?2:0,t,n,i);ex(`Data must be an object, but it was:`,o,r);let s=Qb(r,o),c,l;if(a.merge)c=new Hp(o.fieldMask),l=o.fieldTransforms;else if(a.mergeFields){let e=[];for(let r of a.mergeFields){let i=tx(t,r,n);if(!o.contains(i))throw new W(U.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);ax(e,i)||e.push(i)}c=new Hp(e),l=o.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=o.fieldTransforms;return new Vb(new Em(s),c,l)}var Jb=class e extends Lb{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(t){return t instanceof e}};function Yb(e,t,n,r){let i=e.Cc(1,t,n);ex(`Data must be an object, but it was:`,i,r);let a=[],o=Em.empty();return Fp(r,((e,r)=>{let s=rx(t,e,n);r=yu(r);let c=i.yc(s);if(r instanceof Jb)a.push(s);else{let e=Zb(r,c);e!=null&&(a.push(s),o.set(s,e))}})),new Hb(o,new Hp(a),i.fieldTransforms)}function Xb(e,t,n,r,i,a){let o=e.Cc(1,t,n),s=[tx(t,r,n)],c=[i];if(a.length%2!=0)throw new W(U.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<a.length;e+=2)s.push(tx(t,a[e])),c.push(a[e+1]);let l=[],u=Em.empty();for(let e=s.length-1;e>=0;--e)if(!ax(l,s[e])){let t=s[e],n=c[e];n=yu(n);let r=o.yc(t);if(n instanceof Jb)l.push(t);else{let e=Zb(n,r);e!=null&&(l.push(t),u.set(t,e))}}return new Hb(u,new Hp(l),o.fieldTransforms)}function Zb(e,t){if($b(e=yu(e)))return ex(`Unsupported field value:`,t,e),Qb(e,t);if(e instanceof Lb)return function(e,t){if(!Ub(t.Ac))throw t.Sc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Sc(`${e._methodName}() is not currently supported inside arrays`);let n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc(`Nested arrays are not supported`);return function(e,t){let n=[],r=0;for(let i of e){let e=Zb(i,t.wc(r));e??={nullValue:`NULL_VALUE`},n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if((e=yu(e))===null)return{nullValue:`NULL_VALUE`};if(typeof e==`number`)return Nh(t.serializer,e);if(typeof e==`boolean`)return{booleanValue:e};if(typeof e==`string`)return{stringValue:e};if(e instanceof Date){let n=pp.fromDate(e);return{timestampValue:Lg(t.serializer,n)}}if(e instanceof pp){let n=new pp(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Lg(t.serializer,n)}}if(e instanceof Rb)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Fb)return{bytesValue:Rg(t.serializer,e._byteString)};if(e instanceof Cb){let n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Sc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Vg(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof zb)return function(e,t){return{mapValue:{fields:{[im]:{stringValue:sm},[cm]:{arrayValue:{values:e.toArray().map((e=>{if(typeof e!=`number`)throw t.Sc(`VectorValues must only contain numeric values.`);return jh(t.serializer,e)}))}}}}}}(e,t);throw t.Sc(`Unsupported field value: ${sp(e)}`)}(e,t)}function Qb(e,t){let n={};return Ip(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fp(e,((e,r)=>{let i=Zb(r,t.mc(e));i!=null&&(n[e]=i)})),{mapValue:{fields:n}}}function $b(e){return!(typeof e!=`object`||!e||e instanceof Array||e instanceof Date||e instanceof pp||e instanceof Rb||e instanceof Fb||e instanceof Cb||e instanceof Lb||e instanceof zb)}function ex(e,t,n){if(!$b(n)||!op(n)){let r=sp(n);throw r===`an object`?t.Sc(e+` a custom object`):t.Sc(e+` `+r)}}function tx(e,t,n){if((t=yu(t))instanceof Ib)return t._internalPath;if(typeof t==`string`)return rx(e,t);throw ix(`Field path arguments must be of type string or `,e,!1,void 0,n)}var nx=RegExp(`[~\\*/\\[\\]]`);function rx(e,t,n){if(t.search(nx)>=0)throw ix(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Ib(...t.split(`.`))._internalPath}catch{throw ix(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function ix(e,t,n,r,i){let a=r&&!r.isEmpty(),o=i!==void 0,s=`Function ${t}() called with invalid data`;n&&(s+=" (via `toFirestore()`)"),s+=`. `;let c=``;return(a||o)&&(c+=` (found`,a&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=`)`),new W(U.INVALID_ARGUMENT,s+e+c)}function ax(e,t){return e.some((e=>e.isEqual(t)))}var ox=class{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Cb(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new sx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(cx(`DocumentSnapshot.get`,e));if(t!==null)return this._userDataWriter.convertValue(t)}}},sx=class extends ox{data(){return super.data()}};function cx(e,t){return typeof t==`string`?rx(e,t):t instanceof Ib?t._internalPath:t._delegate._internalPath}function lx(e){if(e.limitType===`L`&&e.explicitOrderBy.length===0)throw new W(U.UNIMPLEMENTED,`limitToLast() queries require specifying at least one orderBy() clause`)}var ux=class{convertValue(e,t=`none`){switch(lm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return X(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qp(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw B(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t=`none`){let n={};return Fp(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){let t=e.fields?.[cm].arrayValue?.values?.map((e=>X(e.doubleValue)));return new zb(t)}convertGeoPoint(e){return new Rb(X(e.latitude),X(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case`previous`:let n=$p(e);return n==null?null:this.convertValue(n,t);case`estimate`:return this.convertTimestamp(em(e));default:return null}}convertTimestamp(e){let t=Kp(e);return new pp(t.seconds,t.nanos)}convertDocumentKey(e,t){let n=K.fromString(e);V(f_(n),9688,{name:e});let r=new rm(n.get(1),n.get(3)),i=new q(n.popFirst(5));return r.isEqual(t)||Mf(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}};function dx(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}var fx=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},px=class e extends ox{constructor(e,t,n,r,i,a){super(e,t,n,r,a),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new mx(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let n=this._document.data.field(cx(`DocumentSnapshot.get`,e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new W(U.FAILED_PRECONDITION,`DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t=this._document,n={};return n.type=e._jsonSchemaVersion,n.bundle=``,n.bundleSource=`DocumentSnapshot`,n.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,`previous`),n.bundle=(this._firestore,this.ref.path,`NOT SUPPORTED`),n)}};px._jsonSchemaVersion=`firestore/documentSnapshot/1.0`,px._jsonSchema={type:lp(`string`,px._jsonSchemaVersion),bundleSource:lp(`string`,`DocumentSnapshot`),bundleName:lp(`string`),bundle:lp(`string`)};var mx=class extends px{data(e={}){return super.data(e)}},hx=class e{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new fx(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){let e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new mx(this._firestore,this._userDataWriter,n.key,n,new fx(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new W(U.INVALID_ARGUMENT,`To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().`);return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{let r=new mx(e._firestore,e._userDataWriter,n.doc.key,n.doc,new fx(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:`added`,doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||e.type!==3)).map((t=>{let r=new mx(e._firestore,e._userDataWriter,t.doc.key,t.doc,new fx(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return t.type!==0&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),t.type!==1&&(n=n.add(t.doc),a=n.indexOf(t.doc.key)),{type:gx(t.type),doc:r,oldIndex:i,newIndex:a}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new W(U.FAILED_PRECONDITION,`QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().`);let t={};t.type=e._jsonSchemaVersion,t.bundleSource=`QuerySnapshot`,t.bundleName=Kf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;let n=[],r=[],i=[];return this.docs.forEach((e=>{e._document!==null&&(n.push(e._document),r.push(this._userDataWriter.convertObjectMap(e._document.data.value.mapValue.fields,`previous`)),i.push(e.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,`NOT SUPPORTED`),t}};function gx(e){switch(e){case 0:return`added`;case 2:case 3:return`modified`;case 1:return`removed`;default:return B(61501,{type:e})}}function _x(e){e=cp(e,Cb);let t=cp(e.firestore,jb);return mb(Nb(t),e._key).then((n=>wx(t,e,n)))}hx._jsonSchemaVersion=`firestore/querySnapshot/1.0`,hx._jsonSchema={type:lp(`string`,hx._jsonSchemaVersion),bundleSource:lp(`string`,`QuerySnapshot`),bundleName:lp(`string`),bundle:lp(`string`)};var vx=class extends ux{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fb(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new Cb(this.firestore,null,t)}};function yx(e,t,n){e=cp(e,Cb);let r=cp(e.firestore,jb),i=dx(e.converter,t,n);return Cx(r,[qb(Kb(r),`setDoc`,e._key,i,e.converter!==null,n).toMutation(e._key,Jh.none())])}function bx(e,t,n,...r){e=cp(e,Cb);let i=cp(e.firestore,jb),a=Kb(i),o;return o=typeof(t=yu(t))==`string`||t instanceof Ib?Xb(a,`updateDoc`,e._key,t,n,r):Yb(a,`updateDoc`,e._key,t),Cx(i,[o.toMutation(e._key,Jh.exists(!0))])}function xx(e,t){let n=cp(e.firestore,jb),r=Eb(e),i=dx(e.converter,t);return Cx(n,[qb(Kb(e.firestore),`addDoc`,r._key,i,e.converter!==null,{}).toMutation(r._key,Jh.exists(!1))]).then((()=>r))}function Sx(e,...t){e=yu(e);let n={includeMetadataChanges:!1,source:`default`},r=0;typeof t[r]!=`object`||Ab(t[r])||(n=t[r++]);let i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(Ab(t[r])){let e=t[r];t[r]=e.next?.bind(e),t[r+1]=e.error?.bind(e),t[r+2]=e.complete?.bind(e)}let a,o,s;if(e instanceof Cb)o=cp(e.firestore,jb),s=ih(e._key.path),a={next:n=>{t[r]&&t[r](wx(o,e,n))},error:t[r+1],complete:t[r+2]};else{let n=cp(e,Sb);o=cp(n.firestore,jb),s=n._query;let i=new vx(o);a={next:e=>{t[r]&&t[r](new hx(o,i,n,e))},error:t[r+1],complete:t[r+2]},lx(e._query)}return function(e,t,n,r){let i=new ab(r),a=new wy(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>_y(await pb(e),a))),()=>{i.Nu(),e.asyncQueue.enqueueAndForget((async()=>vy(await pb(e),a)))}}(Nb(o),s,i,a)}function Cx(e,t){return function(e,t){let n=new If;return e.asyncQueue.enqueueAndForget((async()=>Ry(await fb(e),t,n))),n.promise}(Nb(e),t)}function wx(e,t,n){let r=n.docs.get(t._key);return new px(e,new vx(e),t._key,r,new fx(n.hasPendingWrites,n.fromCache),t.converter)}(function(e,t=!0){(function(e){kf=e})(Wd),zd(new bu(`firestore`,((e,{instanceIdentifier:n,options:r})=>{let i=e.getProvider(`app`).getImmediate(),a=new jb(new Bf(e.getProvider(`auth-internal`)),new Wf(i,e.getProvider(`app-check-internal`)),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,[`projectId`]))throw new W(U.INVALID_ARGUMENT,`"projectId" not provided in firebase.initializeApp.`);return new rm(e.options.projectId,t)}(i,n),i);return r={useFetchStreams:t,...r},a._setSettings(r),a}),`PUBLIC`).setMultipleInstances(!0)),qd(Ef,Df,e),qd(Ef,Df,`esm2020`)})(),qd(`firebase`,`12.6.0`,`app`);function Tx(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Ex=Tx,Dx=new ou(`auth`,`Firebase`,Tx()),Ox=new ju(`@firebase/auth`);function kx(e,...t){Ox.logLevel<=R.WARN&&Ox.warn(`Auth (${Wd}): ${e}`,...t)}function Ax(e,...t){Ox.logLevel<=R.ERROR&&Ox.error(`Auth (${Wd}): ${e}`,...t)}function jx(e,...t){throw Ix(e,...t)}function Mx(e,...t){return Ix(e,...t)}function Nx(e,t,n){return new ou(`auth`,`Firebase`,{...Ex(),[t]:n}).create(t,{appName:e.name})}function Px(e){return Nx(e,`operation-not-supported-in-this-environment`,`Operations that alter the current user are not supported in conjunction with FirebaseServerApp`)}function Fx(e,t,n){let r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&jx(e,`argument-error`),Nx(e,`argument-error`,`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ix(e,...t){if(typeof e!=`string`){let n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return Dx.create(e,...t)}function $(e,t,...n){if(!e)throw Ix(t,...n)}function Lx(e){let t=`INTERNAL ASSERTION FAILED: `+e;throw Ax(t),Error(t)}function Rx(e,t){e||Lx(t)}function zx(){return typeof self<`u`&&self.location?.href||``}function Bx(){return Vx()===`http:`||Vx()===`https:`}function Vx(){return typeof self<`u`&&self.location?.protocol||null}function Hx(){return typeof navigator<`u`&&navigator&&`onLine`in navigator&&typeof navigator.onLine==`boolean`&&(Bx()||Ql()||`connection`in navigator)?navigator.onLine:!0}function Ux(){if(typeof navigator>`u`)return null;let e=navigator;return e.languages&&e.languages[0]||e.language||null}var Wx=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Rx(t>e,`Short delay should be less than long delay!`),this.isMobile=Yl()||$l()}get(){return Hx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Gx(e,t){Rx(e.emulator,`Emulator should always be set here`);let{url:n}=e.emulator;return t?`${n}${t.startsWith(`/`)?t.slice(1):t}`:n}var Kx=class{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<`u`&&`fetch`in self)return self.fetch;if(typeof globalThis<`u`&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<`u`)return fetch;Lx(`Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<`u`&&`Headers`in self)return self.Headers;if(typeof globalThis<`u`&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<`u`)return Headers;Lx(`Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<`u`&&`Response`in self)return self.Response;if(typeof globalThis<`u`&&globalThis.Response)return globalThis.Response;if(typeof Response<`u`)return Response;Lx(`Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill`)}},qx={CREDENTIAL_MISMATCH:`custom-token-mismatch`,MISSING_CUSTOM_TOKEN:`internal-error`,INVALID_IDENTIFIER:`invalid-email`,MISSING_CONTINUE_URI:`internal-error`,INVALID_PASSWORD:`wrong-password`,MISSING_PASSWORD:`missing-password`,INVALID_LOGIN_CREDENTIALS:`invalid-credential`,EMAIL_EXISTS:`email-already-in-use`,PASSWORD_LOGIN_DISABLED:`operation-not-allowed`,INVALID_IDP_RESPONSE:`invalid-credential`,INVALID_PENDING_TOKEN:`invalid-credential`,FEDERATED_USER_ID_ALREADY_LINKED:`credential-already-in-use`,MISSING_REQ_TYPE:`internal-error`,EMAIL_NOT_FOUND:`user-not-found`,RESET_PASSWORD_EXCEED_LIMIT:`too-many-requests`,EXPIRED_OOB_CODE:`expired-action-code`,INVALID_OOB_CODE:`invalid-action-code`,MISSING_OOB_CODE:`internal-error`,CREDENTIAL_TOO_OLD_LOGIN_AGAIN:`requires-recent-login`,INVALID_ID_TOKEN:`invalid-user-token`,TOKEN_EXPIRED:`user-token-expired`,USER_NOT_FOUND:`user-token-expired`,TOO_MANY_ATTEMPTS_TRY_LATER:`too-many-requests`,PASSWORD_DOES_NOT_MEET_REQUIREMENTS:`password-does-not-meet-requirements`,INVALID_CODE:`invalid-verification-code`,INVALID_SESSION_INFO:`invalid-verification-id`,INVALID_TEMPORARY_PROOF:`invalid-credential`,MISSING_SESSION_INFO:`missing-verification-id`,SESSION_EXPIRED:`code-expired`,MISSING_ANDROID_PACKAGE_NAME:`missing-android-pkg-name`,UNAUTHORIZED_DOMAIN:`unauthorized-continue-uri`,INVALID_OAUTH_CLIENT_ID:`invalid-oauth-client-id`,ADMIN_ONLY_OPERATION:`admin-restricted-operation`,INVALID_MFA_PENDING_CREDENTIAL:`invalid-multi-factor-session`,MFA_ENROLLMENT_NOT_FOUND:`multi-factor-info-not-found`,MISSING_MFA_ENROLLMENT_ID:`missing-multi-factor-info`,MISSING_MFA_PENDING_CREDENTIAL:`missing-multi-factor-session`,SECOND_FACTOR_EXISTS:`second-factor-already-in-use`,SECOND_FACTOR_LIMIT_EXCEEDED:`maximum-second-factor-count-exceeded`,BLOCKING_FUNCTION_ERROR_RESPONSE:`internal-error`,RECAPTCHA_NOT_ENABLED:`recaptcha-not-enabled`,MISSING_RECAPTCHA_TOKEN:`missing-recaptcha-token`,INVALID_RECAPTCHA_TOKEN:`invalid-recaptcha-token`,INVALID_RECAPTCHA_ACTION:`invalid-recaptcha-action`,MISSING_CLIENT_TYPE:`missing-client-type`,MISSING_RECAPTCHA_VERSION:`missing-recaptcha-version`,INVALID_RECAPTCHA_VERSION:`invalid-recaptcha-version`,INVALID_REQ_TYPE:`invalid-req-type`},Jx=[`/v1/accounts:signInWithCustomToken`,`/v1/accounts:signInWithEmailLink`,`/v1/accounts:signInWithIdp`,`/v1/accounts:signInWithPassword`,`/v1/accounts:signInWithPhoneNumber`,`/v1/token`],Yx=new Wx(3e4,6e4);function Xx(e,t){return e.tenantId&&!t.tenantId?{...t,tenantId:e.tenantId}:t}async function Zx(e,t,n,r,i={}){return Qx(e,i,async()=>{let i={},a={};r&&(t===`GET`?a=r:i={body:JSON.stringify(r)});let o=fu({key:e.config.apiKey,...a}).slice(1),s=await e._getAdditionalHeaders();s[`Content-Type`]=`application/json`,e.languageCode&&(s[`X-Firebase-Locale`]=e.languageCode);let c={method:t,headers:s,...i};return Zl()||(c.referrerPolicy=`no-referrer`),e.emulatorConfig&&Bl(e.emulatorConfig.host)&&(c.credentials=`include`),Kx.fetch()(await eS(e,e.config.apiHost,n,o),c)})}async function Qx(e,t,n){e._canInitEmulator=!1;let r={...qx,...t};try{let t=new nS(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();let a=await i.json();if(`needConfirmation`in a)throw rS(e,`account-exists-with-different-credential`,a);if(i.ok&&!(`errorMessage`in a))return a;{let[t,n]=(i.ok?a.errorMessage:a.error.message).split(` : `);if(t===`FEDERATED_USER_ID_ALREADY_LINKED`)throw rS(e,`credential-already-in-use`,a);if(t===`EMAIL_EXISTS`)throw rS(e,`email-already-in-use`,a);if(t===`USER_DISABLED`)throw rS(e,`user-disabled`,a);let o=r[t]||t.toLowerCase().replace(/[_\s]+/g,`-`);if(n)throw Nx(e,o,n);jx(e,o)}}catch(t){if(t instanceof au)throw t;jx(e,`network-request-failed`,{message:String(t)})}}async function $x(e,t,n,r,i={}){let a=await Zx(e,t,n,r,i);return`mfaPendingCredential`in a&&jx(e,`multi-factor-auth-required`,{_serverResponse:a}),a}async function eS(e,t,n,r){let i=`${t}${n}?${r}`,a=e,o=a.config.emulator?Gx(e.config,i):`${e.config.apiScheme}://${i}`;return Jx.includes(n)&&(await a._persistenceManagerAvailable,a._getPersistenceType()===`COOKIE`)?a._getPersistence()._getFinalTarget(o).toString():o}function tS(e){switch(e){case`ENFORCE`:return`ENFORCE`;case`AUDIT`:return`AUDIT`;case`OFF`:return`OFF`;default:return`ENFORCEMENT_STATE_UNSPECIFIED`}}var nS=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(Mx(this.auth,`network-request-failed`)),Yx.get())})}};function rS(e,t,n){let r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Mx(e,t,r);return i.customData._tokenResponse=n,i}function iS(e){return e!==void 0&&e.enterprise!==void 0}var aS=class{constructor(e){if(this.siteKey=``,this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw Error(`recaptchaKey undefined`);this.siteKey=e.recaptchaKey.split(`/`)[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return tS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)===`ENFORCE`||this.getProviderEnforcementState(e)===`AUDIT`}isAnyProviderEnabled(){return this.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)||this.isProviderEnabled(`PHONE_PROVIDER`)}};async function oS(e,t){return Zx(e,`GET`,`/v2/recaptchaConfig`,Xx(e,t))}async function sS(e,t){return Zx(e,`POST`,`/v1/accounts:delete`,t)}async function cS(e,t){return Zx(e,`POST`,`/v1/accounts:lookup`,t)}function lS(e){if(e)try{let t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function uS(e,t=!1){let n=yu(e),r=await n.getIdToken(t),i=fS(r);$(i&&i.exp&&i.auth_time&&i.iat,n.auth,`internal-error`);let a=typeof i.firebase==`object`?i.firebase:void 0,o=a?.sign_in_provider;return{claims:i,token:r,authTime:lS(dS(i.auth_time)),issuedAtTime:lS(dS(i.iat)),expirationTime:lS(dS(i.exp)),signInProvider:o||null,signInSecondFactor:a?.sign_in_second_factor||null}}function dS(e){return Number(e)*1e3}function fS(e){let[t,n,r]=e.split(`.`);if(t===void 0||n===void 0||r===void 0)return Ax(`JWT malformed, contained fewer than 3 sections`),null;try{let e=kl(n);return e?JSON.parse(e):(Ax(`Failed to decode base64 JWT payload`),null)}catch(e){return Ax(`Caught error parsing JWT payload as JSON`,e?.toString()),null}}function pS(e){let t=fS(e);return $(t,`internal-error`),$(t.exp!==void 0,`internal-error`),$(t.iat!==void 0,`internal-error`),Number(t.exp)-Number(t.iat)}async function mS(e,t,n=!1){if(n)return t;try{return await t}catch(t){throw t instanceof au&&hS(t)&&e.auth.currentUser===e&&await e.auth.signOut(),t}}function hS({code:e}){return e===`auth/user-disabled`||e===`auth/user-token-expired`}var gS=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){let e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;let e=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code===`auth/network-request-failed`&&this.schedule(!0);return}this.schedule()}},_S=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=lS(this.lastLoginAt),this.creationTime=lS(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function vS(e){let t=e.auth,n=await mS(e,cS(t,{idToken:await e.getIdToken()}));$(n?.users.length,t,`internal-error`);let r=n.users[0];e._notifyReloadListener(r);let i=r.providerUserInfo?.length?xS(r.providerUserInfo):[],a=bS(e.providerData,i),o=e.isAnonymous,s=!(e.email&&r.passwordHash)&&!a?.length,c=o?s:!1,l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:a,metadata:new _S(r.createdAt,r.lastLoginAt),isAnonymous:c};Object.assign(e,l)}async function yS(e){let t=yu(e);await vS(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function bS(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function xS(e){return e.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||``,displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function SS(e,t){let n=await Qx(e,{},async()=>{let n=fu({grant_type:`refresh_token`,refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,a=await eS(e,r,`/v1/token`,`key=${i}`),o=await e._getAdditionalHeaders();o[`Content-Type`]=`application/x-www-form-urlencoded`;let s={method:`POST`,headers:o,body:n};return e.emulatorConfig&&Bl(e.emulatorConfig.host)&&(s.credentials=`include`),Kx.fetch()(a,s)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function CS(e,t){return Zx(e,`POST`,`/v2/accounts:revokeToken`,Xx(e,t))}var wS=class e{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$(e.idToken,`internal-error`),$(e.idToken!==void 0,`internal-error`),$(e.refreshToken!==void 0,`internal-error`);let t=`expiresIn`in e&&e.expiresIn!==void 0?Number(e.expiresIn):pS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){$(e.length!==0,`internal-error`);let t=pS(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:($(this.refreshToken,e,`user-token-expired`),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:n,refreshToken:r,expiresIn:i}=await SS(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(t,n){let{refreshToken:r,accessToken:i,expirationTime:a}=n,o=new e;return r&&($(typeof r==`string`,`internal-error`,{appName:t}),o.refreshToken=r),i&&($(typeof i==`string`,`internal-error`,{appName:t}),o.accessToken=i),a&&($(typeof a==`number`,`internal-error`,{appName:t}),o.expirationTime=a),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new e,this.toJSON())}_performRefresh(){return Lx(`not implemented`)}};function TS(e,t){$(typeof e==`string`||e===void 0,`internal-error`,{appName:t})}var ES=class e{constructor({uid:e,auth:t,stsTokenManager:n,...r}){this.providerId=`firebase`,this.proactiveRefresh=new gS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new _S(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){let t=await mS(this,this.stsTokenManager.getToken(this.auth,e));return $(t,this.auth,`internal-error`),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return uS(this,e)}reload(){return yS(this)}_assign(e){this!==e&&($(this.uid===e.uid,this.auth,`internal-error`),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>({...e})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(t){let n=new e({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){$(!this.reloadListener,this.auth,`internal-error`),this.reloadListener=e,this.reloadUserInfo&&=(this._notifyReloadListener(this.reloadUserInfo),null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await vS(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Vd(this.auth.app))return Promise.reject(Px(this.auth));let e=await this.getIdToken();return await mS(this,sS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||``}static _fromJSON(t,n){let r=n.displayName??void 0,i=n.email??void 0,a=n.phoneNumber??void 0,o=n.photoURL??void 0,s=n.tenantId??void 0,c=n._redirectEventId??void 0,l=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:d,emailVerified:f,isAnonymous:p,providerData:m,stsTokenManager:h}=n;$(d&&h,t,`internal-error`);let g=wS.fromJSON(this.name,h);$(typeof d==`string`,t,`internal-error`),TS(r,t.name),TS(i,t.name),$(typeof f==`boolean`,t,`internal-error`),$(typeof p==`boolean`,t,`internal-error`),TS(a,t.name),TS(o,t.name),TS(s,t.name),TS(c,t.name),TS(l,t.name),TS(u,t.name);let _=new e({uid:d,auth:t,email:i,emailVerified:f,displayName:r,isAnonymous:p,photoURL:o,phoneNumber:a,tenantId:s,stsTokenManager:g,createdAt:l,lastLoginAt:u});return m&&Array.isArray(m)&&(_.providerData=m.map(e=>({...e}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(t,n,r=!1){let i=new wS;i.updateFromServerResponse(n);let a=new e({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await vS(a),a}static async _fromGetAccountInfoResponse(t,n,r){let i=n.users[0];$(i.localId!==void 0,`internal-error`);let a=i.providerUserInfo===void 0?[]:xS(i.providerUserInfo),o=!(i.email&&i.passwordHash)&&!a?.length,s=new wS;s.updateFromIdToken(r);let c=new e({uid:i.localId,auth:t,stsTokenManager:s,isAnonymous:o}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new _S(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,l),c}},DS=new Map;function OS(e){Rx(e instanceof Function,`Expected a class definition`);let t=DS.get(e);return t?(Rx(t instanceof e,`Instance stored in cache mismatched with class`),t):(t=new e,DS.set(e,t),t)}var kS=class{constructor(){this.type=`NONE`,this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};kS.type=`NONE`;var AS=kS;function jS(e,t,n){return`firebase:${e}:${t}:${n}`}var MS=class e{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;let{config:r,name:i}=this.auth;this.fullUserKey=jS(this.userKey,r.apiKey,i),this.fullPersistenceKey=jS(`persistence`,r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e==`string`){let t=await cS(this.auth,{idToken:e}).catch(()=>void 0);return t?ES._fromGetAccountInfoResponse(this.auth,t,e):null}return ES._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r=`authUser`){if(!n.length)return new e(OS(AS),t,r);let i=(await Promise.all(n.map(async e=>{if(await e._isAvailable())return e}))).filter(e=>e),a=i[0]||OS(AS),o=jS(r,t.config.apiKey,t.name),s=null;for(let e of n)try{let n=await e._get(o);if(n){let r;if(typeof n==`string`){let e=await cS(t,{idToken:n}).catch(()=>void 0);if(!e)break;r=await ES._fromGetAccountInfoResponse(t,e,n)}else r=ES._fromJSON(t,n);e!==a&&(s=r),a=e;break}}catch{}let c=i.filter(e=>e._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new e(a,t,r):(a=c[0],s&&await a._set(o,s.toJSON()),await Promise.all(n.map(async e=>{if(e!==a)try{await e._remove(o)}catch{}})),new e(a,t,r))}};function NS(e){let t=e.toLowerCase();if(t.includes(`opera/`)||t.includes(`opr/`)||t.includes(`opios/`))return`Opera`;if(LS(t))return`IEMobile`;if(t.includes(`msie`)||t.includes(`trident/`))return`IE`;if(t.includes(`edge/`))return`Edge`;if(PS(t))return`Firefox`;if(t.includes(`silk/`))return`Silk`;if(zS(t))return`Blackberry`;if(BS(t))return`Webos`;if(FS(t))return`Safari`;if((t.includes(`chrome/`)||IS(t))&&!t.includes(`edge/`))return`Chrome`;if(RS(t))return`Android`;{let t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(t?.length===2)return t[1]}return`Other`}function PS(e=Jl()){return/firefox\//i.test(e)}function FS(e=Jl()){let t=e.toLowerCase();return t.includes(`safari/`)&&!t.includes(`chrome/`)&&!t.includes(`crios/`)&&!t.includes(`android`)}function IS(e=Jl()){return/crios\//i.test(e)}function LS(e=Jl()){return/iemobile/i.test(e)}function RS(e=Jl()){return/android/i.test(e)}function zS(e=Jl()){return/blackberry/i.test(e)}function BS(e=Jl()){return/webos/i.test(e)}function VS(e=Jl()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function HS(e=Jl()){return VS(e)&&!!window.navigator?.standalone}function US(){return eu()&&document.documentMode===10}function WS(e=Jl()){return VS(e)||RS(e)||BS(e)||zS(e)||/windows phone/i.test(e)||LS(e)}function GS(e,t=[]){let n;switch(e){case`Browser`:n=NS(Jl());break;case`Worker`:n=`${NS(Jl())}-${e}`;break;default:n=e}let r=t.length?t.join(`,`):`FirebaseCore-web`;return`${n}/JsCore/${Wd}/${r}`}var KS=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let n=t=>new Promise((n,r)=>{try{n(e(t))}catch(e){r(e)}});n.onAbort=t,this.queue.push(n);let r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(e){t.reverse();for(let e of t)try{e()}catch{}throw this.auth._errorFactory.create(`login-blocked`,{originalMessage:e?.message})}}};async function qS(e,t={}){return Zx(e,`GET`,`/v2/passwordPolicy`,Xx(e,t))}var JS=6,YS=class{constructor(e){let t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??JS,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState===`ENFORCEMENT_STATE_UNSPECIFIED`&&(this.enforcementState=`OFF`),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join(``)??``,this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){let t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&=t.meetsMinPasswordLength??!0,t.isValid&&=t.meetsMaxPasswordLength??!0,t.isValid&&=t.containsLowercaseLetter??!0,t.isValid&&=t.containsUppercaseLetter??!0,t.isValid&&=t.containsNumericCharacter??!0,t.isValid&&=t.containsNonAlphanumericCharacter??!0,t}validatePasswordLengthOptions(e,t){let n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>=`a`&&n<=`z`,n>=`A`&&n<=`Z`,n>=`0`&&n<=`9`,this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||=t),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||=n),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||=r),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||=i)}},XS=class{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new QS(this),this.idTokenSubscription=new QS(this),this.beforeStateQueue=new KS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Dx,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(e=>this._resolvePersistenceManagerAvailable=e)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=OS(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await MS.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{let t=await cS(this,{idToken:e}),n=await ES._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(e){console.warn(`FirebaseServerApp could not login user with provided authIdToken: `,e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Vd(this.app)){let e=this.app.settings.authIdToken;return e?new Promise(t=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(e).then(t,t))}):this.directlySetCurrentUser(null)}let t=await this.assertedPersistence.getCurrentUser(),n=t,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let t=this.redirectUser?._redirectEventId,i=n?._redirectEventId,a=await this.tryRedirectSignIn(e);(!t||t===i)&&a?.user&&(n=a.user,r=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(n)}catch(e){n=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(e))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return $(this._popupRedirectResolver,this,`argument-error`),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await vS(e)}catch(e){if(e?.code!==`auth/network-request-failed`)return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Ux()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Vd(this.app))return Promise.reject(Px(this));let t=e?yu(e):null;return t&&$(t.auth.config.apiKey===this.config.apiKey,this,`invalid-user-token`),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&$(this.tenantId===e.tenantId,this,`tenant-id-mismatch`),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Vd(this.app)?Promise.reject(Px(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Vd(this.app)?Promise.reject(Px(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(OS(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();let t=this._getPasswordPolicyInternal();return t.schemaVersion===this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?t.validatePassword(e):Promise.reject(this._errorFactory.create(`unsupported-password-policy-schema-version`,{}))}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){let e=new YS(await qS(this));this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ou(`auth`,`Firebase`,e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){let t={providerId:`apple.com`,tokenType:`ACCESS_TOKEN`,token:e,idToken:await this.currentUser.getIdToken()};this.tenantId!=null&&(t.tenantId=this.tenantId),await CS(this,t)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){let n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&OS(e)||this._popupRedirectResolver;$(t,this,`argument-error`),this.redirectPersistenceManager=await MS.create(this,[OS(t._redirectPersistence)],`redirectUser`),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};let i=typeof t==`function`?t:t.next.bind(t),a=!1,o=this._isInitialized?Promise.resolve():this._initializationPromise;if($(o,this,`internal-error`),o.then(()=>{a||i(this.currentUser)}),typeof t==`function`){let i=e.addObserver(t,n,r);return()=>{a=!0,i()}}else{let n=e.addObserver(t);return()=>{a=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $(this.persistenceManager,this,`internal-error`),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=GS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){let e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e[`X-Firebase-gmpid`]=this.app.options.appId);let t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e[`X-Firebase-Client`]=t);let n=await this._getAppCheckToken();return n&&(e[`X-Firebase-AppCheck`]=n),e}async _getAppCheckToken(){if(Vd(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&kx(`Error while retrieving App Check token: ${e.error}`),e?.token}};function ZS(e){return yu(e)}var QS=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=hu(e=>this.observer=e)}get next(){return $(this.observer,this.auth,`internal-error`),this.observer.next.bind(this.observer)}},$S={async loadJS(){throw Error(`Unable to load external scripts`)},recaptchaV2Script:``,recaptchaEnterpriseScript:``,gapiScript:``};function eC(e){$S=e}function tC(e){return $S.loadJS(e)}function nC(){return $S.recaptchaEnterpriseScript}function rC(){return $S.gapiScript}function iC(e){return`__${e}${Math.floor(Math.random()*1e6)}`}var aC=class{constructor(){this.enterprise=new oC}ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},oC=class{ready(e){e()}execute(e,t){return Promise.resolve(`token`)}render(e,t){return``}},sC=`recaptcha-enterprise`,cC=`NO_RECAPTCHA`,lC=class{constructor(e){this.type=sC,this.auth=ZS(e)}async verify(e=`verify`,t=!1){async function n(e){if(!t){if(e.tenantId==null&&e._agentRecaptchaConfig!=null)return e._agentRecaptchaConfig.siteKey;if(e.tenantId!=null&&e._tenantRecaptchaConfigs[e.tenantId]!==void 0)return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise(async(t,n)=>{oS(e,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}).then(r=>{if(r.recaptchaKey===void 0)n(Error(`recaptcha Enterprise site key undefined`));else{let n=new aS(r);return e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}}).catch(e=>{n(e)})})}function r(t,n,r){let i=window.grecaptcha;iS(i)?i.enterprise.ready(()=>{i.enterprise.execute(t,{action:e}).then(e=>{n(e)}).catch(()=>{n(cC)})}):r(Error(`No reCAPTCHA enterprise script loaded.`))}return this.auth.settings.appVerificationDisabledForTesting?new aC().execute(`siteKey`,{action:`verify`}):new Promise((e,i)=>{n(this.auth).then(n=>{if(!t&&iS(window.grecaptcha))r(n,e,i);else{if(typeof window>`u`){i(Error(`RecaptchaVerifier is only supported in browser`));return}let t=nC();t.length!==0&&(t+=n),tC(t).then(()=>{r(n,e,i)}).catch(e=>{i(e)})}}).catch(e=>{i(e)})})}};async function uC(e,t,n,r=!1,i=!1){let a=new lC(e),o;if(i)o=cC;else try{o=await a.verify(n)}catch{o=await a.verify(n,!0)}let s={...t};if(n===`mfaSmsEnrollment`||n===`mfaSmsSignIn`){if(`phoneEnrollmentInfo`in s){let e=s.phoneEnrollmentInfo.phoneNumber,t=s.phoneEnrollmentInfo.recaptchaToken;Object.assign(s,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}else if(`phoneSignInInfo`in s){let e=s.phoneSignInInfo.recaptchaToken;Object.assign(s,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:`CLIENT_TYPE_WEB`,recaptchaVersion:`RECAPTCHA_ENTERPRISE`}})}return s}return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:`CLIENT_TYPE_WEB`}),Object.assign(s,{recaptchaVersion:`RECAPTCHA_ENTERPRISE`}),s}async function dC(e,t,n,r,i){return i===`EMAIL_PASSWORD_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`EMAIL_PASSWORD_PROVIDER`)?r(e,await uC(e,t,n,n===`getOobCode`)):r(e,t).catch(async i=>i.code===`auth/missing-recaptcha-token`?(console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`),r(e,await uC(e,t,n,n===`getOobCode`))):Promise.reject(i)):i===`PHONE_PROVIDER`?e._getRecaptchaConfig()?.isProviderEnabled(`PHONE_PROVIDER`)?r(e,await uC(e,t,n)).catch(async i=>e._getRecaptchaConfig()?.getProviderEnforcementState(`PHONE_PROVIDER`)===`AUDIT`&&(i.code===`auth/missing-recaptcha-token`||i.code===`auth/invalid-app-credential`)?(console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`),r(e,await uC(e,t,n,!1,!0))):Promise.reject(i)):r(e,await uC(e,t,n,!1,!0)):Promise.reject(i+` provider is not supported.`)}async function fC(e){let t=ZS(e),n=new aS(await oS(t,{clientType:`CLIENT_TYPE_WEB`,version:`RECAPTCHA_ENTERPRISE`}));t.tenantId==null?t._agentRecaptchaConfig=n:t._tenantRecaptchaConfigs[t.tenantId]=n,n.isAnyProviderEnabled()&&new lC(t).verify()}function pC(e,t){let n=Bd(e,`auth`);if(n.isInitialized()){let e=n.getImmediate();if(uu(n.getOptions(),t??{}))return e;jx(e,`already-initialized`)}return n.initialize({options:t})}function mC(e,t){let n=t?.persistence||[],r=(Array.isArray(n)?n:[n]).map(OS);t?.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t?.popupRedirectResolver)}function hC(e,t,n){let r=ZS(e);$(/^https?:\/\//.test(t),r,`invalid-emulator-scheme`);let i=!!n?.disableWarnings,a=gC(t),{host:o,port:s}=_C(t),c=s===null?``:`:${s}`,l={url:`${a}//${o}${c}/`},u=Object.freeze({host:o,port:s,protocol:a.replace(`:`,``),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){$(r.config.emulator&&r.emulatorConfig,r,`emulator-config-failed`),$(uu(l,r.config.emulator)&&uu(u,r.emulatorConfig),r,`emulator-config-failed`);return}r.config.emulator=l,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Bl(o)?(Vl(`${a}//${o}${c}`),ql(`Auth`,!0)):i||yC()}function gC(e){let t=e.indexOf(`:`);return t<0?``:e.substr(0,t+1)}function _C(e){let t=gC(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:``,port:null};let r=n[2].split(`@`).pop()||``,i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let e=i[1];return{host:e,port:vC(r.substr(e.length+1))}}else{let[e,t]=r.split(`:`);return{host:e,port:vC(t)}}}function vC(e){if(!e)return null;let t=Number(e);return isNaN(t)?null:t}function yC(){function e(){let e=document.createElement(`p`),t=e.style;e.innerText=`Running in emulator mode. Do not use with production credentials.`,t.position=`fixed`,t.width=`100%`,t.backgroundColor=`#ffffff`,t.border=`.1em solid #000000`,t.color=`#b50000`,t.bottom=`0px`,t.left=`0px`,t.margin=`0px`,t.zIndex=`10000`,t.textAlign=`center`,e.classList.add(`firebase-emulator-warning`),document.body.appendChild(e)}typeof console<`u`&&typeof console.info==`function`&&console.info(`WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.`),typeof window<`u`&&typeof document<`u`&&(document.readyState===`loading`?window.addEventListener(`DOMContentLoaded`,e):e())}var bC=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Lx(`not implemented`)}_getIdTokenResponse(e){return Lx(`not implemented`)}_linkToIdToken(e,t){return Lx(`not implemented`)}_getReauthenticationResolver(e){return Lx(`not implemented`)}};async function xC(e,t){return Zx(e,`POST`,`/v1/accounts:signUp`,t)}async function SC(e,t){return $x(e,`POST`,`/v1/accounts:signInWithPassword`,Xx(e,t))}async function CC(e,t){return $x(e,`POST`,`/v1/accounts:signInWithEmailLink`,Xx(e,t))}async function wC(e,t){return $x(e,`POST`,`/v1/accounts:signInWithEmailLink`,Xx(e,t))}var TC=class e extends bC{constructor(e,t,n,r=null){super(`password`,n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(t,n){return new e(t,n,`password`)}static _fromEmailAndCode(t,n,r=null){return new e(t,n,`emailLink`,r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e==`string`?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod===`password`)return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod===`emailLink`)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case`password`:return dC(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signInWithPassword`,SC,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return CC(e,{email:this._email,oobCode:this._password});default:jx(e,`internal-error`)}}async _linkToIdToken(e,t){switch(this.signInMethod){case`password`:return dC(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:`CLIENT_TYPE_WEB`},`signUpPassword`,xC,`EMAIL_PASSWORD_PROVIDER`);case`emailLink`:return wC(e,{idToken:t,email:this._email,oobCode:this._password});default:jx(e,`internal-error`)}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function EC(e,t){return $x(e,`POST`,`/v1/accounts:signInWithIdp`,Xx(e,t))}var DC=`http://localhost`,OC=class e extends bC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){let n=new e(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):jx(`argument-error`),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){let{providerId:n,signInMethod:r,...i}=typeof t==`string`?JSON.parse(t):t;if(!n||!r)return null;let a=new e(n,r);return a.idToken=i.idToken||void 0,a.accessToken=i.accessToken||void 0,a.secret=i.secret,a.nonce=i.nonce,a.pendingToken=i.pendingToken||null,a}_getIdTokenResponse(e){return EC(e,this.buildRequest())}_linkToIdToken(e,t){let n=this.buildRequest();return n.idToken=t,EC(e,n)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,EC(e,t)}buildRequest(){let e={requestUri:DC,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=fu(t)}return e}};async function kC(e,t){return Zx(e,`POST`,`/v1/accounts:sendVerificationCode`,Xx(e,t))}async function AC(e,t){return $x(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Xx(e,t))}async function jC(e,t){let n=await $x(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Xx(e,t));if(n.temporaryProof)throw rS(e,`account-exists-with-different-credential`,n);return n}var MC={USER_NOT_FOUND:`user-not-found`};async function NC(e,t){return $x(e,`POST`,`/v1/accounts:signInWithPhoneNumber`,Xx(e,{...t,operation:`REAUTH`}),MC)}var PC=class e extends bC{constructor(e){super(`phone`,`phone`),this.params=e}static _fromVerification(t,n){return new e({verificationId:t,verificationCode:n})}static _fromTokenResponse(t,n){return new e({phoneNumber:t,temporaryProof:n})}_getIdTokenResponse(e){return AC(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return jC(e,{idToken:t,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return NC(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(t){typeof t==`string`&&(t=JSON.parse(t));let{verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a}=t;return!r&&!n&&!i&&!a?null:new e({verificationId:n,verificationCode:r,phoneNumber:i,temporaryProof:a})}};function FC(e){switch(e){case`recoverEmail`:return`RECOVER_EMAIL`;case`resetPassword`:return`PASSWORD_RESET`;case`signIn`:return`EMAIL_SIGNIN`;case`verifyEmail`:return`VERIFY_EMAIL`;case`verifyAndChangeEmail`:return`VERIFY_AND_CHANGE_EMAIL`;case`revertSecondFactorAddition`:return`REVERT_SECOND_FACTOR_ADDITION`;default:return null}}function IC(e){let t=pu(mu(e)).link,n=t?pu(mu(t)).deep_link_id:null,r=pu(mu(e)).deep_link_id;return(r?pu(mu(r)).link:null)||r||n||t||e}var LC=class e{constructor(e){let t=pu(mu(e)),n=t.apiKey??null,r=t.oobCode??null,i=FC(t.mode??null);$(n&&r&&i,`argument-error`),this.apiKey=n,this.operation=i,this.code=r,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(t){let n=IC(t);try{return new e(n)}catch{return null}}},RC=class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return TC._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let n=LC.parseLink(t);return $(n,`argument-error`),TC._fromEmailAndCode(e,n.code,n.tenantId)}};RC.PROVIDER_ID=`password`,RC.EMAIL_PASSWORD_SIGN_IN_METHOD=`password`,RC.EMAIL_LINK_SIGN_IN_METHOD=`emailLink`;var zC=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}},BC=class extends zC{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},VC=class e extends BC{constructor(){super(`facebook.com`)}static credential(t){return OC._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};VC.FACEBOOK_SIGN_IN_METHOD=`facebook.com`,VC.PROVIDER_ID=`facebook.com`;var HC=class e extends BC{constructor(){super(`google.com`),this.addScope(`profile`)}static credential(t,n){return OC._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch{return null}}};HC.GOOGLE_SIGN_IN_METHOD=`google.com`,HC.PROVIDER_ID=`google.com`;var UC=class e extends BC{constructor(){super(`github.com`)}static credential(t){return OC._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!(`oauthAccessToken`in t)||!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch{return null}}};UC.GITHUB_SIGN_IN_METHOD=`github.com`,UC.PROVIDER_ID=`github.com`;var WC=class e extends BC{constructor(){super(`twitter.com`)}static credential(t,n){return OC._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch{return null}}};WC.TWITTER_SIGN_IN_METHOD=`twitter.com`,WC.PROVIDER_ID=`twitter.com`;var GC=class e{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){return new e({user:await ES._fromIdTokenResponse(t,r,i),providerId:KC(r),_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){return await t._updateTokensIfNecessary(r,!0),new e({user:t,providerId:KC(r),_tokenResponse:r,operationType:n})}};function KC(e){return e.providerId?e.providerId:`phoneNumber`in e?`phone`:null}var qC=class e extends au{constructor(t,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,e.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new e(t,n,r,i)}};function JC(e,t,n,r){return(t===`reauthenticate`?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{throw n.code===`auth/multi-factor-auth-required`?qC._fromErrorAndOperation(e,n,t,r):n})}async function YC(e,t,n=!1){let r=await mS(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return GC._forOperation(e,`link`,r)}async function XC(e,t,n=!1){let{auth:r}=e;if(Vd(r.app))return Promise.reject(Px(r));let i=`reauthenticate`;try{let a=await mS(e,JC(r,i,t,e),n);$(a.idToken,r,`internal-error`);let o=fS(a.idToken);$(o,r,`internal-error`);let{sub:s}=o;return $(e.uid===s,r,`user-mismatch`),GC._forOperation(e,i,a)}catch(e){throw e?.code===`auth/user-not-found`&&jx(r,`user-mismatch`),e}}async function ZC(e,t,n=!1){if(Vd(e.app))return Promise.reject(Px(e));let r=`signIn`,i=await JC(e,r,t),a=await GC._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(a.user),a}function QC(e,t,n,r){return yu(e).onIdTokenChanged(t,n,r)}function $C(e,t,n){return yu(e).beforeAuthStateChanged(t,n)}function ew(e,t,n,r){return yu(e).onAuthStateChanged(t,n,r)}function tw(e){return yu(e).signOut()}function nw(e,t){return Zx(e,`POST`,`/v2/accounts/mfaEnrollment:start`,Xx(e,t))}function rw(e,t){return Zx(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,Xx(e,t))}function iw(e,t){return Zx(e,`POST`,`/v2/accounts/mfaEnrollment:start`,Xx(e,t))}function aw(e,t){return Zx(e,`POST`,`/v2/accounts/mfaEnrollment:finalize`,Xx(e,t))}var ow=`__sak`,sw=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ow,`1`),this.storage.removeItem(ow),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}},cw=1e3,lw=10,uw=class extends sw{constructor(){super(()=>window.localStorage,`LOCAL`),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=WS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});return}let n=e.key;t?this.detachListener():this.stopPolling();let r=()=>{let e=this.storage.getItem(n);!t&&this.localCache[n]===e||this.notifyListeners(n,e)},i=this.storage.getItem(n);US()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,lw):r()}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent(`storage`,{key:e,oldValue:t,newValue:n}),!0)})},cw)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}attachListener(){window.addEventListener(`storage`,this.boundEventHandler)}detachListener(){window.removeEventListener(`storage`,this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};uw.type=`LOCAL`;var dw=uw,fw=1e3;function pw(e){let t=e.replace(/[\\^$.*+?()[\]{}|]/g,`\\$&`),n=RegExp(`${t}=([^;]+)`);return document.cookie.match(n)?.[1]??null}function mw(e){return`${window.location.protocol===`http:`?`__dev_`:`__HOST-`}FIREBASE_${e.split(`:`)[3]}`}var hw=class{constructor(){this.type=`COOKIE`,this.listenerUnsubscribes=new Map}_getFinalTarget(e){let t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set(`finalTarget`,e),t}async _isAvailable(){return typeof isSecureContext==`boolean`&&!isSecureContext||typeof navigator>`u`||typeof document>`u`?!1:navigator.cookieEnabled??!0}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;let t=mw(e);return window.cookieStore?(await window.cookieStore.get(t))?.value:pw(t)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;let t=mw(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch(`/__cookies__`,{method:`DELETE`}).catch(()=>void 0)}_addListener(e,t){if(!this._isAvailable())return;let n=mw(e);if(window.cookieStore){let e=(e=>{let r=e.changed.find(e=>e.name===n);r&&t(r.value),e.deleted.find(e=>e.name===n)&&t(null)});return this.listenerUnsubscribes.set(t,()=>window.cookieStore.removeEventListener(`change`,e)),window.cookieStore.addEventListener(`change`,e)}let r=pw(n),i=setInterval(()=>{let e=pw(n);e!==r&&(t(e),r=e)},fw);this.listenerUnsubscribes.set(t,()=>clearInterval(i))}_removeListener(e,t){let n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}};hw.type=`COOKIE`;var gw=class extends sw{constructor(){super(()=>window.sessionStorage,`SESSION`)}_addListener(e,t){}_removeListener(e,t){}};gw.type=`SESSION`;var _w=gw;function vw(e){return Promise.all(e.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(e){return{fulfilled:!1,reason:e}}}))}var yw=class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;let r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let t=e,{eventId:n,eventType:r,data:i}=t.data,a=this.handlersMap[r];if(!a?.size)return;t.ports[0].postMessage({status:`ack`,eventId:n,eventType:r});let o=await vw(Array.from(a).map(async e=>e(t.origin,i)));t.ports[0].postMessage({status:`done`,eventId:n,eventType:r,response:o})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener(`message`,this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener(`message`,this.boundEventHandler)}};yw.receivers=[];function bw(e=``,t=10){let n=``;for(let e=0;e<t;e++)n+=Math.floor(Math.random()*10);return e+n}var xw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener(`message`,e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){let r=typeof MessageChannel<`u`?new MessageChannel:null;if(!r)throw Error(`connection_unavailable`);let i,a;return new Promise((o,s)=>{let c=bw(``,20);r.port1.start();let l=setTimeout(()=>{s(Error(`unsupported_event`))},n);a={messageChannel:r,onMessage(e){let t=e;if(t.data.eventId===c)switch(t.data.status){case`ack`:clearTimeout(l),i=setTimeout(()=>{s(Error(`timeout`))},3e3);break;case`done`:clearTimeout(i),o(t.data.response);break;default:clearTimeout(l),clearTimeout(i),s(Error(`invalid_response`));break}}},this.handlers.add(a),r.port1.addEventListener(`message`,a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:t},[r.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}};function Sw(){return window}function Cw(e){Sw().location.href=e}function ww(){return Sw().WorkerGlobalScope!==void 0&&typeof Sw().importScripts==`function`}async function Tw(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Ew(){return navigator?.serviceWorker?.controller||null}function Dw(){return ww()?self:null}var Ow=`firebaseLocalStorageDb`,kw=1,Aw=`firebaseLocalStorage`,jw=`fbase_key`,Mw=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener(`success`,()=>{e(this.request.result)}),this.request.addEventListener(`error`,()=>{t(this.request.error)})})}};function Nw(e,t){return e.transaction([Aw],t?`readwrite`:`readonly`).objectStore(Aw)}function Pw(){return new Mw(indexedDB.deleteDatabase(Ow)).toPromise()}function Fw(){let e=indexedDB.open(Ow,kw);return new Promise((t,n)=>{e.addEventListener(`error`,()=>{n(e.error)}),e.addEventListener(`upgradeneeded`,()=>{let t=e.result;try{t.createObjectStore(Aw,{keyPath:jw})}catch(e){n(e)}}),e.addEventListener(`success`,async()=>{let n=e.result;n.objectStoreNames.contains(Aw)?t(n):(n.close(),await Pw(),t(await Fw()))})})}async function Iw(e,t,n){return new Mw(Nw(e,!0).put({[jw]:t,value:n})).toPromise()}async function Lw(e,t){let n=await new Mw(Nw(e,!1).get(t)).toPromise();return n===void 0?null:n.value}function Rw(e,t){return new Mw(Nw(e,!0).delete(t)).toPromise()}var zw=800,Bw=3,Vw=class{constructor(){this.type=`LOCAL`,this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db||=await Fw(),this.db}async _withRetries(e){let t=0;for(;;)try{return await e(await this._openDb())}catch(e){if(t++>Bw)throw e;this.db&&=(this.db.close(),void 0)}}async initializeServiceWorkerMessaging(){return ww()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yw._getInstance(Dw()),this.receiver._subscribe(`keyChanged`,async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe(`ping`,async(e,t)=>[`keyChanged`])}async initializeSender(){if(this.activeServiceWorker=await Tw(),!this.activeServiceWorker)return;this.sender=new xw(this.activeServiceWorker);let e=await this.sender._send(`ping`,{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes(`keyChanged`)&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Ew()!==this.activeServiceWorker))try{await this.sender._send(`keyChanged`,{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await Fw();return await Iw(e,ow,`1`),await Rw(e,ow),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>Iw(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(t=>Lw(t,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Rw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(e=>new Mw(Nw(e,!1).getAll()).toPromise());if(!e||this.pendingWrites!==0)return[];let t=[],n=new Set;if(e.length!==0)for(let{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(let e of Object.keys(this.localCache))this.localCache[e]&&!n.has(e)&&(this.notifyListeners(e,null),t.push(e));return t}notifyListeners(e,t){this.localCache[e]=t;let n=this.listeners[e];if(n)for(let e of Array.from(n))e(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zw)}stopPolling(){this.pollTimer&&=(clearInterval(this.pollTimer),null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};Vw.type=`LOCAL`;var Hw=Vw;function Uw(e,t){return Zx(e,`POST`,`/v2/accounts/mfaSignIn:start`,Xx(e,t))}function Ww(e,t){return Zx(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,Xx(e,t))}function Gw(e,t){return Zx(e,`POST`,`/v2/accounts/mfaSignIn:finalize`,Xx(e,t))}iC(`rcb`),new Wx(3e4,6e4);var Kw=`recaptcha`;async function qw(e,t,n){if(!e._getRecaptchaConfig())try{await fC(e)}catch{console.log(`Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.`)}try{let r;if(r=typeof t==`string`?{phoneNumber:t}:t,`session`in r){let t=r.session;if(`phoneNumber`in r)return $(t.type===`enroll`,e,`internal-error`),(await dC(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`}},`mfaSmsEnrollment`,async(e,t)=>t.phoneEnrollmentInfo.captchaResponse===cC?($(n?.type===Kw,e,`argument-error`),nw(e,await Jw(e,t,n))):nw(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneSessionInfo.sessionInfo;{$(t.type===`signin`,e,`internal-error`);let i=r.multiFactorHint?.uid||r.multiFactorUid;return $(i,e,`missing-multi-factor-info`),(await dC(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:i,phoneSignInInfo:{clientType:`CLIENT_TYPE_WEB`}},`mfaSmsSignIn`,async(e,t)=>t.phoneSignInInfo.captchaResponse===cC?($(n?.type===Kw,e,`argument-error`),Uw(e,await Jw(e,t,n))):Uw(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).phoneResponseInfo.sessionInfo}}else return(await dC(e,{phoneNumber:r.phoneNumber,clientType:`CLIENT_TYPE_WEB`},`sendVerificationCode`,async(e,t)=>t.captchaResponse===cC?($(n?.type===Kw,e,`argument-error`),kC(e,await Jw(e,t,n))):kC(e,t),`PHONE_PROVIDER`).catch(e=>Promise.reject(e))).sessionInfo}finally{n?._reset()}}async function Jw(e,t,n){$(n.type===Kw,e,`argument-error`);let r=await n.verify();$(typeof r==`string`,e,`argument-error`);let i={...t};if(`phoneEnrollmentInfo`in i){let e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,a=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:a}}),i}else if(`phoneSignInInfo`in i){let e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}else return Object.assign(i,{recaptchaToken:r}),i}var Yw=class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=ZS(t)}verifyPhoneNumber(e,t){return qw(this.auth,e,yu(t))}static credential(e,t){return PC._fromVerification(e,t)}static credentialFromResult(t){let n=t;return e.credentialFromTaggedObject(n)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:n}=e;return t&&n?PC._fromTokenResponse(t,n):null}};Yw.PROVIDER_ID=`phone`,Yw.PHONE_SIGN_IN_METHOD=`phone`;function Xw(e,t){return t?OS(t):($(e._popupRedirectResolver,e,`argument-error`),e._popupRedirectResolver)}var Zw=class extends bC{constructor(e){super(`custom`,`custom`),this.params=e}_getIdTokenResponse(e){return EC(e,this._buildIdpRequest())}_linkToIdToken(e,t){return EC(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return EC(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Qw(e){return ZC(e.auth,new Zw(e),e.bypassAuthState)}function $w(e){let{auth:t,user:n}=e;return $(n,t,`internal-error`),XC(n,new Zw(e),e.bypassAuthState)}async function eT(e){let{auth:t,user:n}=e;return $(n,t,`internal-error`),YC(n,new Zw(e),e.bypassAuthState)}var tT=class{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(e){this.reject(e)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:a,type:o}=e;if(a){this.reject(a);return}let s={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(s))}catch(e){this.reject(e)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case`signInViaPopup`:case`signInViaRedirect`:return Qw;case`linkViaPopup`:case`linkViaRedirect`:return eT;case`reauthViaPopup`:case`reauthViaRedirect`:return $w;default:jx(this.auth,`internal-error`)}}resolve(e){Rx(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Rx(this.pendingPromise,`Pending promise was never set`),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}},nT=new Wx(2e3,1e4);async function rT(e,t,n){if(Vd(e.app))return Promise.reject(Mx(e,`operation-not-supported-in-this-environment`));let r=ZS(e);return Fx(e,t,zC),new iT(r,`signInViaPopup`,t,Xw(r,n)).executeNotNull()}var iT=class e extends tT{constructor(t,n,r,i,a){super(t,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return $(e,this.auth,`internal-error`),e}async onExecution(){Rx(this.filter.length===1,`Popup operations only handle one event`);let e=bw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Mx(this.auth,`web-storage-unsupported`))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Mx(this.auth,`cancelled-popup-request`))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){let e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Mx(this.auth,`popup-closed-by-user`))},8e3);return}this.pollId=window.setTimeout(e,nT.get())};e()}};iT.currentPopupAction=null;var aT=`pendingRedirect`,oT=new Map,sT=class extends tT{constructor(e,t,n=!1){super(e,[`signInViaRedirect`,`linkViaRedirect`,`reauthViaRedirect`,`unknown`],t,void 0,n),this.eventId=null}async execute(){let e=oT.get(this.auth._key());if(!e){try{let t=await cT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(t){e=()=>Promise.reject(t)}oT.set(this.auth._key(),e)}return this.bypassAuthState||oT.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type===`signInViaRedirect`)return super.onAuthEvent(e);if(e.type===`unknown`){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function cT(e,t){let n=dT(t),r=uT(e);if(!await r._isAvailable())return!1;let i=await r._get(n)===`true`;return await r._remove(n),i}function lT(e,t){oT.set(e._key(),t)}function uT(e){return OS(e._redirectPersistence)}function dT(e){return jS(aT,e.config.apiKey,e.name)}async function fT(e,t,n=!1){if(Vd(e.app))return Promise.reject(Px(e));let r=ZS(e),i=await new sT(r,Xw(r,t),n).execute();return i&&!n&&(delete i.user._redirectEventId,await r._persistUserIfCurrent(i.user),await r._setRedirectUser(null,t)),i}var pT=600*1e3,mT=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_T(e)?t:(this.hasHandledPotentialRedirect=!0,t||=(this.queuedRedirectEvent=e,!0),t)}sendToConsumer(e,t){if(e.error&&!gT(e)){let n=e.error.code?.split(`auth/`)[1]||`internal-error`;t.onError(Mx(this.auth,n))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=pT&&this.cachedEventUids.clear(),this.cachedEventUids.has(hT(e))}saveEventToCache(e){this.cachedEventUids.add(hT(e)),this.lastProcessedEventTime=Date.now()}};function hT(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join(`-`)}function gT({type:e,error:t}){return e===`unknown`&&t?.code===`auth/no-auth-event`}function _T(e){switch(e.type){case`signInViaRedirect`:case`linkViaRedirect`:case`reauthViaRedirect`:return!0;case`unknown`:return gT(e);default:return!1}}async function vT(e,t={}){return Zx(e,`GET`,`/v1/projects`,t)}var yT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,bT=/^https?/;async function xT(e){if(e.config.emulator)return;let{authorizedDomains:t}=await vT(e);for(let e of t)try{if(ST(e))return}catch{}jx(e,`unauthorized-domain`)}function ST(e){let t=zx(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith(`chrome-extension://`)){let i=new URL(e);return i.hostname===``&&r===``?n===`chrome-extension:`&&e.replace(`chrome-extension://`,``)===t.replace(`chrome-extension://`,``):n===`chrome-extension:`&&i.hostname===r}if(!bT.test(n))return!1;if(yT.test(e))return r===e;let i=e.replace(/\./g,`\\.`);return RegExp(`^(.+\\.`+i+`|`+i+`)$`,`i`).test(r)}var CT=new Wx(3e4,6e4);function wT(){let e=Sw().___jsl;if(e?.H){for(let t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let t=0;t<e.CP.length;t++)e.CP[t]=null}}function TT(e){return new Promise((t,n)=>{function r(){wT(),gapi.load(`gapi.iframes`,{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{wT(),n(Mx(e,`network-request-failed`))},timeout:CT.get()})}if(Sw().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Sw().gapi?.load)r();else{let t=iC(`iframefcb`);return Sw()[t]=()=>{gapi.load?r():n(Mx(e,`network-request-failed`))},tC(`${rC()}?onload=${t}`).catch(e=>n(e))}}).catch(e=>{throw ET=null,e})}var ET=null;function DT(e){return ET||=TT(e),ET}var OT=new Wx(5e3,15e3),kT=`__/auth/iframe`,AT=`emulator/auth/iframe`,jT={style:{position:`absolute`,top:`-100px`,width:`1px`,height:`1px`},"aria-hidden":`true`,tabindex:`-1`},MT=new Map([[`identitytoolkit.googleapis.com`,`p`],[`staging-identitytoolkit.sandbox.googleapis.com`,`s`],[`test-identitytoolkit.sandbox.googleapis.com`,`t`]]);function NT(e){let t=e.config;$(t.authDomain,e,`auth-domain-config-required`);let n=t.emulator?Gx(t,AT):`https://${e.config.authDomain}/${kT}`,r={apiKey:t.apiKey,appName:e.name,v:Wd},i=MT.get(e.config.apiHost);i&&(r.eid=i);let a=e._getFrameworks();return a.length&&(r.fw=a.join(`,`)),`${n}?${fu(r).slice(1)}`}async function PT(e){let t=await DT(e),n=Sw().gapi;return $(n,e,`internal-error`),t.open({where:document.body,url:NT(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jT,dontclear:!0},t=>new Promise(async(n,r)=>{await t.restyle({setHideOnLeave:!1});let i=Mx(e,`network-request-failed`),a=Sw().setTimeout(()=>{r(i)},OT.get());function o(){Sw().clearTimeout(a),n(t)}t.ping(o).then(o,()=>{r(i)})}))}var FT={location:`yes`,resizable:`yes`,statusbar:`yes`,toolbar:`no`},IT=500,LT=600,RT=`_blank`,zT=`http://localhost`,BT=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function VT(e,t,n,r=IT,i=LT){let a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s=``,c={...FT,width:r.toString(),height:i.toString(),top:a,left:o},l=Jl().toLowerCase();n&&(s=IS(l)?RT:n),PS(l)&&(t||=zT,c.scrollbars=`yes`);let u=Object.entries(c).reduce((e,[t,n])=>`${e}${t}=${n},`,``);if(HS(l)&&s!==`_self`)return HT(t||``,s),new BT(null);let d=window.open(t||``,s,u);$(d,e,`popup-blocked`);try{d.focus()}catch{}return new BT(d)}function HT(e,t){let n=document.createElement(`a`);n.href=e,n.target=t;let r=document.createEvent(`MouseEvent`);r.initMouseEvent(`click`,!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var UT=`__/auth/handler`,WT=`emulator/auth/handler`,GT=`fac`;async function KT(e,t,n,r,i,a){$(e.config.authDomain,e,`auth-domain-config-required`),$(e.config.apiKey,e,`invalid-api-key`);let o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Wd,eventId:i};if(t instanceof zC){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||``,lu(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(let[e,t]of Object.entries(a||{}))o[e]=t}if(t instanceof BC){let e=t.getScopes().filter(e=>e!==``);e.length>0&&(o.scopes=e.join(`,`))}e.tenantId&&(o.tid=e.tenantId);let s=o;for(let e of Object.keys(s))s[e]===void 0&&delete s[e];let c=await e._getAppCheckToken(),l=c?`#${GT}=${encodeURIComponent(c)}`:``;return`${qT(e)}?${fu(s).slice(1)}${l}`}function qT({config:e}){return e.emulator?Gx(e,WT):`https://${e.authDomain}/${UT}`}var JT=`webStorageSupport`,YT=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=_w,this._completeRedirectFn=fT,this._overrideRedirectResult=lT}async _openPopup(e,t,n,r){return Rx(this.eventManagers[e._key()]?.manager,`_initialize() not called before _openPopup()`),VT(e,await KT(e,t,n,zx(),r),bw())}async _openRedirect(e,t,n,r){return await this._originValidation(e),Cw(await KT(e,t,n,zx(),r)),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Rx(n,`If manager is not set, promise should be`),n)}let n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){let t=await PT(e),n=new mT(e);return t.register(`authEvent`,t=>($(t?.authEvent,e,`invalid-auth-event`),{status:n.onEvent(t.authEvent)?`ACK`:`ERROR`}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(JT,{type:JT},n=>{let r=n?.[0]?.[JT];r!==void 0&&t(!!r),jx(e,`internal-error`)},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=xT(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return WS()||FS()||VS()}},XT=class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case`enroll`:return this._finalizeEnroll(e,t.credential,n);case`signin`:return this._finalizeSignIn(e,t.credential);default:return Lx(`unexpected MultiFactorSessionType`)}}},ZT=class e extends XT{constructor(e){super(`phone`),this.credential=e}static _fromCredential(t){return new e(t)}_finalizeEnroll(e,t,n){return rw(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Ww(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},QT=class{constructor(){}static assertion(e){return ZT._fromCredential(e)}};QT.FACTOR_ID=`phone`;var $T=class{static assertionForEnrollment(e,t){return eE._fromSecret(e,t)}static assertionForSignIn(e,t){return eE._fromEnrollmentId(e,t)}static async generateSecret(e){let t=e;$(t.user?.auth!==void 0,`internal-error`);let n=await iw(t.user.auth,{idToken:t.credential,totpEnrollmentInfo:{}});return tE._fromStartTotpMfaEnrollmentResponse(n,t.user.auth)}};$T.FACTOR_ID=`totp`;var eE=class e extends XT{constructor(e,t,n){super(`totp`),this.otp=e,this.enrollmentId=t,this.secret=n}static _fromSecret(t,n){return new e(n,void 0,t)}static _fromEnrollmentId(t,n){return new e(n,t)}async _finalizeEnroll(e,t,n){return $(this.secret!==void 0,e,`argument-error`),aw(e,{idToken:t,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,t){$(this.enrollmentId!==void 0&&this.otp!==void 0,e,`argument-error`);let n={verificationCode:this.otp};return Gw(e,{mfaPendingCredential:t,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}},tE=class e{constructor(e,t,n,r,i,a,o){this.sessionInfo=a,this.auth=o,this.secretKey=e,this.hashingAlgorithm=t,this.codeLength=n,this.codeIntervalSeconds=r,this.enrollmentCompletionDeadline=i}static _fromStartTotpMfaEnrollmentResponse(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,t){let n=!1;return(nE(e)||nE(t))&&(n=!0),n&&(nE(e)&&(e=this.auth.currentUser?.email||`unknownuser`),nE(t)&&(t=this.auth.name)),`otpauth://totp/${t}:${e}?secret=${this.secretKey}&issuer=${t}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}};function nE(e){return e===void 0||e?.length===0}var rE=`@firebase/auth`,iE=`1.11.1`,aE=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(t=>{e(t?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){$(this.auth._initializationPromise,`dependent-sdk-initialized-before-auth`)}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function oE(e){switch(e){case`Node`:return`node`;case`ReactNative`:return`rn`;case`Worker`:return`webworker`;case`Cordova`:return`cordova`;case`WebExtension`:return`web-extension`;default:return}}function sE(e){zd(new bu(`auth`,(t,{options:n})=>{let r=t.getProvider(`app`).getImmediate(),i=t.getProvider(`heartbeat`),a=t.getProvider(`app-check-internal`),{apiKey:o,authDomain:s}=r.options;$(o&&!o.includes(`:`),`invalid-api-key`,{appName:r.name});let c=new XS(r,i,a,{apiKey:o,authDomain:s,clientPlatform:e,apiHost:`identitytoolkit.googleapis.com`,tokenApiHost:`securetoken.googleapis.com`,apiScheme:`https`,sdkClientVersion:GS(e)});return mC(c,n),c},`PUBLIC`).setInstantiationMode(`EXPLICIT`).setInstanceCreatedCallback((e,t,n)=>{e.getProvider(`auth-internal`).initialize()})),zd(new bu(`auth-internal`,e=>(e=>new aE(e))(ZS(e.getProvider(`auth`).getImmediate())),`PRIVATE`).setInstantiationMode(`EXPLICIT`)),qd(rE,iE,oE(e)),qd(rE,iE,`esm2020`)}var cE=Rl(`authIdTokenMaxAge`)||300,lE=null,uE=e=>async t=>{let n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cE)return;let i=n?.token;lE!==i&&(lE=i,await fetch(e,{method:i?`POST`:`DELETE`,headers:i?{Authorization:`Bearer ${i}`}:{}}))};function dE(e=Kd()){let t=Bd(e,`auth`);if(t.isInitialized())return t.getImmediate();let n=pC(e,{popupRedirectResolver:YT,persistence:[Hw,dw,_w]}),r=Rl(`authTokenSyncURL`);if(r&&typeof isSecureContext==`boolean`&&isSecureContext){let e=new URL(r,location.origin);if(location.origin===e.origin){let t=uE(e.toString());$C(n,t,()=>t(n.currentUser)),QC(n,e=>t(e))}}let i=Fl(`auth`);return i&&hC(n,`http://${i}`),n}function fE(){return document.getElementsByTagName(`head`)?.[0]??document}eC({loadJS(e){return new Promise((t,n)=>{let r=document.createElement(`script`);r.setAttribute(`src`,e),r.onload=t,r.onerror=e=>{let t=Mx(`internal-error`);t.customData=e,n(t)},r.type=`text/javascript`,r.charset=`UTF-8`,fE().appendChild(r)})},gapiScript:`https://apis.google.com/js/api.js`,recaptchaV2Script:`https://www.google.com/recaptcha/api.js`,recaptchaEnterpriseScript:`https://www.google.com/recaptcha/enterprise.js?render=`}),sE(`Browser`);var pE=Gd({apiKey:`AIzaSyAzgiYzFiK7gYkfLVMMmJT32JMSZMedzMk`,authDomain:`quizlet-project-bf6c0.firebaseapp.com`,projectId:`quizlet-project-bf6c0`,storageBucket:`quizlet-project-bf6c0.firebasestorage.app`,messagingSenderId:`497819954348`,appId:`1:497819954348:web:35d3b7a815acb30764c309`});const mE=Mb(pE);dE(pE);const hE=ms(`FlashcardStore`,{state:()=>({sets:[],currentSetId:null,user:null,unsubscribe:null,setsLoaded:!1}),actions:{setUser(e){if(this.user=e,this.unsubscribe&&=(this.unsubscribe(),null),!e){this.sets=[],this.currentSetId=null;return}let t=Tb(mE,`users`,e.uid,`flashcardSets`);this.unsubscribe=Sx(t,async e=>{if(e.empty){await this.DefaultSet();return}this.sets=e.docs.map(e=>({id:e.id,name:e.data().name,cards:[]})),this.setsLoaded=!0,!this.currentSetId&&this.sets.length>0&&(this.currentSetId=this.sets[0]?.id??null),this.currentSetId&&this.loadCards(this.currentSetId)}),this.unsubscribe=Sx(t,async e=>{await this.DefaultSet2(),this.sets=e.docs.map(e=>({id:e.id,name:e.data().name,cards:[]})),this.setsLoaded=!0,!this.currentSetId&&this.sets.length>0&&(this.currentSetId=this.sets[0]?.id??null),this.currentSetId&&this.loadCards(this.currentSetId)})},async addSet(e){if(!this.user)return;let t=await xx(Tb(mE,`users`,this.user.uid,`flashcardSets`),{name:e});this.sets.push({id:t.id,name:e,cards:[]}),this.currentSetId=t.id},async loadCards(e){this.user&&(Sx(Tb(mE,`users`,this.user?.uid,`flashcardSets`,e,`cards`),t=>{let n=this.sets.find(t=>t.id===e);n&&(n.cards=t.docs.map(e=>({id:e.id,...e.data()})))}),this.currentSetId=e)},async addCardToSet(e,t){this.user&&await xx(Tb(mE,`users`,this.user.uid,`flashcardSets`,e,`cards`),t)},async DefaultSet(){if(!this.user||this.sets.length>0)return;let e=await xx(Tb(mE,`users`,this.user.uid,`flashcardSets`),{name:`CIS371`});for(let t of[{term:`CSS`,definition:`Cascading Style Sheet. Used to define the visual presentation of a web page`},{term:`DOM Tree`,definition:`Document Object Model Tree. Tree-like model where each element of a web page is organized into nodes placed in a parent child hierarchical structure.`},{term:`Flexbox`,definition:`CSS container used to align nested web page elements in within a larger container.`},{term:`HTML`,definition:`Hypertext Markup Language, Not a programming language, but a presentation language, Code for structuring and displaying a web document, An HTML file should have either an .htm or .html file extension`},{term:`Web Page`,definition:`Document written in HTML (Hypertext Markup Language)`},{term:`Web Server`,definition:`Computer that stores and delivers web pages`}])await xx(Tb(mE,`users`,this.user.uid,`flashcardSets`,e.id,`cards`),t);this.currentSetId=e.id},async DefaultSet2(){if(!this.user||this.sets.length>0)return;let e=await xx(Tb(mE,`users`,this.user.uid,`flashcardSets`),{name:`Food`});for(let t of[{term:`Cereal`,definition:`A grain used for food, such as wheat, oats, or corn.`},{term:`Rice`,definition:`A swamp grass which is widely cultivated as a source of food, especially in Asia.`},{term:`Broccoli`,definition:`A cultivated variety of cabbage bearing heads of green or purplish flower buds that are eaten as a vegetable.`},{term:`Groud Turkey`,definition:`A versatile, minced meat made from turkey, combining dark and light meat with skin and fat, processed into a ground form, offering a leaner, high-protein alternative to ground beef for dishes`},{term:`Waffles`,definition:`A crisp, batter-based cake with a grid pattern from being cooked in a waffle iron, often served with toppings like syrup or fruit.`}])await xx(Tb(mE,`users`,this.user.uid,`flashcardSets`,e.id,`cards`),t);this.currentSetId=e.id},async addNewSet(e){if(!this.user)return;let t=await xx(Tb(mE,`users`,this.user.uid,`flashcardSets`),{name:e});this.currentSetId=t.id,await this.loadCards(t.id)}}});var gE={class:`selector_container`},_E={key:1,class:`set-selector`},vE=[`value`],yE={class:`flip-face flip-front`},bE={class:`flip-face flip-back`},xE={class:`terms_container`},SE={class:`term`},CE={class:`definition`},wE=Un({__name:`MainScreen`,setup(e){let t=hE(),n=Yt(0),r=Yt(!1),i=Pa(()=>t.sets.find(e=>e.id===t.currentSetId)),a=Pa(()=>i.value?.cards[n.value]);xi(()=>t.currentSetId,e=>{e&&t.loadCards(e),n.value=0,r.value=!1});function o(){!i.value||i.value.cards.length===0||(r.value=!r.value)}function s(){!i.value||i.value.cards.length===0||(n.value=(n.value+1)%i.value.cards.length,r.value=!1)}function c(){!i.value||i.value.cards.length===0||(n.value=(n.value-1+i.value.cards.length)%i.value.cards.length,r.value=!1)}let l=()=>{let e=prompt(`Enter The Set Name: `);e&&e.trim().length>0&&t.addNewSet(e.trim())};return(e,n)=>{let u=pr(`router-link`);return Wi(),Yi(`div`,null,[F(`header`,null,[n[5]||=F(`h1`,{style:{"margin-left":`80px`}},`Study Guide`,-1),F(`nav`,gE,[ta(u,{class:`SelectorCard`,to:`/flashcards`},{default:In(()=>[...n[1]||=[aa(`FlashCards`,-1)]]),_:1}),ta(u,{class:`SelectorCard`,to:`/matching`},{default:In(()=>[...n[2]||=[aa(`Matching`,-1)]]),_:1}),ta(u,{class:`SelectorCard`,to:`/test`},{default:In(()=>[...n[3]||=[aa(`Test`,-1)]]),_:1}),ta(u,{class:`SelectorCard`,to:`/group-test`},{default:In(()=>[...n[4]||=[aa(`GroupTest`,-1)]]),_:1})])]),$t(t).sets.length>0?(Wi(),Yi(`button`,{key:0,onClick:l},`New Set`)):oa(``,!0),$t(t).sets.length>0?(Wi(),Yi(`div`,_E,[n[6]||=F(`label`,null,`Select Set: `,-1),Ln(F(`select`,{"onUpdate:modelValue":n[0]||=e=>$t(t).currentSetId=e},[(Wi(!0),Yi(Ri,null,_r($t(t).sets,e=>(Wi(),Yi(`option`,{key:e.id,value:e.id},we(e.name),9,vE))),128))],512),[[Do,$t(t).currentSetId]])])):oa(``,!0),F(`div`,{class:`FlashCard`,onClick:o},[F(`div`,{class:ge([`flip-inner`,{"is-flipped":r.value}])},[F(`div`,yE,we(a.value?.term??`No term`),1),F(`div`,bE,we(a.value?.definition??`No definition`),1)],2)]),F(`div`,{class:`Direction`},[F(`button`,{onClick:c},`Previous`),F(`button`,{onClick:s},`Next`)]),F(`div`,xE,[F(`h2`,null,`Terms in this set: `+we(i.value?.cards.length??0),1),(Wi(!0),Yi(Ri,null,_r(i.value?.cards,e=>(Wi(),Yi(`div`,{class:`TermsBox`,key:e.id},[F(`div`,SE,we(e.term),1),F(`div`,CE,we(e.definition),1)]))),128)),n[7]||=F(`footer`,{style:{"margin-left":`80px`,"margin-top":`40px`}},[F(`p`,null,`Names: Ezekiel Turnbough, Ethan Umana, Tristian Paquette`)],-1)])])}}}),TE=`modulepreload`,EE=function(e){return`/CIS371-QuizletProject/`+e},DE={};const OE=function(e,t,n){let r=Promise.resolve();if(t&&t.length>0){let e=document.getElementsByTagName(`link`),i=document.querySelector(`meta[property=csp-nonce]`),a=i?.nonce||i?.getAttribute(`nonce`);function o(e){return Promise.all(e.map(e=>Promise.resolve(e).then(e=>({status:`fulfilled`,value:e}),e=>({status:`rejected`,reason:e}))))}r=o(t.map(t=>{if(t=EE(t,n),t in DE)return;DE[t]=!0;let r=t.endsWith(`.css`),i=r?`[rel="stylesheet"]`:``;if(n)for(let n=e.length-1;n>=0;n--){let i=e[n];if(i.href===t&&(!r||i.rel===`stylesheet`))return}else if(document.querySelector(`link[href="${t}"]${i}`))return;let o=document.createElement(`link`);if(o.rel=r?`stylesheet`:TE,r||(o.as=`script`),o.crossOrigin=``,o.href=t,a&&o.setAttribute(`nonce`,a),document.head.appendChild(o),r)return new Promise((e,n)=>{o.addEventListener(`load`,e),o.addEventListener(`error`,()=>n(Error(`Unable to preload CSS for ${t}`)))})}))}function i(e){let t=new Event(`vite:preloadError`,{cancelable:!0});if(t.payload=e,window.dispatchEvent(t),!t.defaultPrevented)throw e}return r.then(t=>{for(let e of t||[])e.status===`rejected`&&i(e.reason);return e().catch(i)})};var kE=xl({history:Bc(`/CIS371-QuizletProject/`),routes:[{path:`/`,component:wE},{path:`/flashcards`,component:()=>OE(()=>import(`./FlashcardsScreen-RFjIyO8T.js`),__vite__mapDeps([0,1]))},{path:`/matching`,component:()=>OE(()=>import(`./MatchingScreen-BUwmV32i.js`),__vite__mapDeps([2,3]))},{path:`/test`,component:()=>OE(()=>import(`./TestScreen-RI2694GH.js`),__vite__mapDeps([4,5]))},{path:`/group-test`,component:()=>OE(()=>import(`./GroupTestScreen-CYWGvKDh.js`),__vite__mapDeps([6,7]))}]}),AE=No(ys);AE.use(es()),AE.use(kE),AE.mount(`#app`);export{Ln as A,Un as C,pr as D,_r as E,$t as M,ge as N,xi as O,we as P,ta as S,Wi as T,Pa as _,ew as a,Yi as b,Tb as c,Sx as d,yx as f,Ri as g,Eo as h,dE as i,Yt as j,In as k,Eb as l,hs as m,mE as n,rT as o,bx as p,HC as r,tw as s,hE as t,_x as u,F as v,rr as w,aa as x,oa as y};