import{C as e,D as t,E as n,N as r,O as i,P as a,S as o,T as s,_ as c,b as l,g as u,j as d,k as f,m as p,t as m,v as h,w as g,x as _,y as v}from"./index-B0kIRI82.js";var y={class:`selector_container`},b={class:`grid`},x=[`onClick`],S={key:0},C={class:`score`},w=p(e({__name:`MatchingScreen`,setup(e){let p=m(),w=d([]),T=d([]),E=c(()=>p.sets.find(e=>e.id===p.currentSetId)),D=c(()=>E.value?.cards.length);g(()=>{i(()=>E.value?.cards,e=>{e&&e.length>0&&O()},{immediate:!0})});function O(){let e=[];E.value?.cards.forEach((t,n)=>{e.push({id:n*2,matchedId:n,type:`term`,value:t.term,revealed:!1,matched:!1}),e.push({id:n*2+1,matchedId:n,type:`definition`,value:t.definition,revealed:!1,matched:!1})}),w.value=e.sort(()=>Math.random()-.5).slice(0,16)}function k(e){if(!(e.revealed||e.matched)&&T.value.length!==2&&(e.revealed=!0,T.value.push(e),T.value.length===2)){let[e,t]=T.value;if(!e||!t)return;e.matchedId===t.matchedId?(e.matched=!0,t.matched=!0,T.value=[]):setTimeout(()=>{e.revealed=!1,t.revealed=!1,T.value=[]},900)}}let A=c(()=>w.value.filter(e=>e.matched).length/2);function j(){T.value=[],w.value=[],O()}return(e,i)=>{let c=t(`router-link`);return s(),l(`div`,null,[i[1]||=h(`h1`,null,`Matching`,-1),h(`nav`,y,[o(c,{class:`SelectorCard`,to:`/`},{default:f(()=>[...i[0]||=[_(`Back`,-1)]]),_:1})]),h(`div`,b,[(s(!0),l(u,null,n(w.value,e=>(s(),l(`div`,{key:e.id,class:r([`tile`,{revealed:e.revealed||e.matched,matched:e.matched}]),onClick:t=>k(e)},[e.revealed||e.matched?(s(),l(`span`,S,a(e.value),1)):v(``,!0)],10,x))),128))]),h(`div`,C,` Matches: `+a(A.value)+` / `+a(D.value),1),h(`button`,{class:`reset`,onClick:j},`RESET`)])}}}),[[`__scopeId`,`data-v-bac6fc80`]]);export{w as default};