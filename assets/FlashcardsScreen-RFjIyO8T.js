import{A as e,C as t,D as n,M as r,N as i,O as a,P as o,S as s,T as c,_ as l,a as u,b as d,h as f,i as p,j as m,k as h,m as g,o as _,r as v,s as y,t as b,v as x,x as S,y as C}from"./index-BbLwrtR3.js";var w=b();u(p(),e=>{w.setUser(e)});const T=async()=>{try{let e=new v,t=await _(p(),e);w.setUser(t.user)}catch(e){console.error(`Google Sign in Failed`,e)}},E=async()=>{await y(p()),w.setUser(null)};var D={class:`flashcard-screen`},O={class:`selector_container`},k={class:`auth-row`},A={key:1,class:`logged-in-row`},j={class:`user-label`},M={class:`flip-face flip-front`},N={class:`flip-face flip-back`},P={key:0,class:`add-card`},F=g(t({__name:`FlashcardsScreen`,setup(t){let u=b(),p=m(0),g=m(!1),_=m(``),v=m(``);m(``);let y=l(()=>u.sets.find(e=>e.id===u.currentSetId)),w=l(()=>y.value?.cards[p.value]);a(()=>u.currentSetId,e=>{p.value=0,g.value=!1,e&&u.loadCards(e)}),a(()=>u.user,e=>{if(e&&u.sets.length>0&&!u.currentSetId){let e=u.sets[0];e?.id&&(u.currentSetId=e.id)}}),a(()=>u.sets,e=>{if(e.length>0&&!u.currentSetId){let t=e[0];t?.id&&(u.currentSetId=t.id),u.setsLoaded=!0}},{immediate:!0});function F(){!y.value||y.value.cards.length===0||(g.value=!g.value)}function I(){!y.value||y.value.cards.length===0||(p.value=(p.value+1)%y.value.cards.length,g.value=!1)}function L(){!y.value||y.value.cards.length===0||(p.value=(p.value-1+y.value.cards.length)%y.value.cards.length,g.value=!1)}async function R(){!_.value.trim()||!v.value.trim()||!y.value||(await u.addCardToSet(y.value.id,{term:_.value,definition:v.value}),_.value=``,v.value=``)}return(t,a)=>{let l=n(`router-link`);return c(),d(`div`,D,[x(`nav`,O,[s(l,{class:`SelectorCard`,to:`/`},{default:h(()=>[...a[4]||=[S(`Back`,-1)]]),_:1})]),x(`div`,k,[r(u).user?(c(),d(`div`,A,[x(`span`,j,`Signed in as `+o(r(u).user.email),1),x(`button`,{onClick:a[1]||=(...e)=>r(E)&&r(E)(...e)},`Sign Out`)])):(c(),d(`button`,{key:0,onClick:a[0]||=(...e)=>r(T)&&r(T)(...e)},`Sign In`))]),x(`div`,{class:`FlashCard`,onClick:F},[x(`div`,{class:i([`flip-inner`,{"is-flipped":g.value}])},[x(`div`,M,o(w.value?.term??`No cards`),1),x(`div`,N,o(w.value?.definition??``),1)],2)]),x(`div`,{class:`Direction`},[x(`button`,{onClick:L},`Previous`),x(`button`,{onClick:I},`Next`)]),r(u).user&&y.value?(c(),d(`div`,P,[x(`h3`,null,`Add New Flashcard to "`+o(y.value.name)+`"`,1),e(x(`input`,{"onUpdate:modelValue":a[2]||=e=>_.value=e,placeholder:`Enter Term`,class:`input`},null,512),[[f,_.value]]),e(x(`input`,{"onUpdate:modelValue":a[3]||=e=>v.value=e,placeholder:`Enter Definition`,class:`input`},null,512),[[f,v.value]]),x(`button`,{onClick:R,class:`add-button`},`Add Flashcard`)])):C(``,!0)])}}}),[[`__scopeId`,`data-v-d741848d`]]);export{F as default};